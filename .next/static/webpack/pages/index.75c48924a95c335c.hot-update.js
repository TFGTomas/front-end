"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/paymentData.tsx":
/*!************************************!*\
  !*** ./components/paymentData.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PaymentData; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-select */ \"./node_modules/react-select/dist/react-select.esm.js\");\n/* harmony import */ var _stores_basicStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/stores/basicStore */ \"./stores/basicStore.ts\");\n/* harmony import */ var ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethereumjs-wallet */ \"./node_modules/ethereumjs-wallet/dist.browser/index.js\");\n/* harmony import */ var ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/stores/usuarioStore */ \"./stores/usuarioStore.ts\");\n/* harmony import */ var _stores_billeteraTemp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/stores/billeteraTemp */ \"./stores/billeteraTemp.ts\");\n/* harmony import */ var _stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/stores/transaccionStore */ \"./stores/transaccionStore.ts\");\n\n\n\n\n\n\n\n\n\nclass PaymentData extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    componentWillUnmount() {\n        this.clearTimer();\n        if (this.intervalId !== null) {\n            clearInterval(this.intervalId);\n        }\n    }\n    // Generar una nueva billetera\n    async generateWallet() {\n        // Obtener la clave privada y la dirección de la billetera\n        const privateKey = this.wallet.getPrivateKeyString();\n        const address = this.wallet.getAddressString();\n        //console.log(`Dirección de la billetera: ${address}`);\n        //console.log(`Clave privada: ${privateKey}`);\n        // Guardar la dirección en el estado\n        if (await this.createBilleteraTemp(privateKey, address)) {\n            this.setState({\n                walletAddress: address\n            });\n        }\n    }\n    // Crear en la base de datos la billetera\n    async createBilleteraTemp(privateKey, address) {\n        try {\n            var _this_props_selectedCrypto;\n            const billeteraTemp = {\n                user_id: this.props.email,\n                transaction_id: \"\",\n                cryptocurrency_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                public_key: address,\n                private_key_encrypted: privateKey,\n                expiration_date: new Date(\"2023-07-01T00:00:00.000Z\")\n            };\n            return await (0,_stores_billeteraTemp__WEBPACK_IMPORTED_MODULE_5__.createBilleteraTemp)(billeteraTemp);\n        } catch (error) {\n            return \"\";\n        }\n    }\n    getContractAddressCrypto() {\n        var _this_props_selectedCrypto;\n        //if(!this.props.selectedNetwork){\n        const network = (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.networks.find((net)=>net.id === 5);\n        const contract = network === null || network === void 0 ? void 0 : network.contract_address;\n        //console.log(`Dirección del contrato en Ethereum Goerli: ${contract}`);\n        //}\n        if (contract) {\n            this.setState({\n                contractAddress: contract\n            });\n        } else {\n        //console.log('No se encontró la dirección del contrato para la red seleccionada');\n        }\n    }\n    // Crear la transaccion en la base de datos para exchanges\n    async createTransaccion2(email) {\n        try {\n            var _this_props_selectedCrypto;\n            if (!this.props.selectedCrypto) {\n                throw new Error(\"No crypto selected\");\n            }\n            //console.log('transaccion desde exchange');\n            const transaccion = {\n                user_id: this.props.email,\n                crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                amount_crypto: parseFloat(this.state.finalPrice),\n                amount_fiat: this.state.totalPrice,\n                status: \"pending\",\n                network_id: \"5\",\n                temp_wallet_id: this.state.walletAddress,\n                invoice: {\n                    invoice_id: \"\",\n                    sent: false,\n                    downloaded: false\n                }\n            };\n            const createdTransaccion = await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.createTransaccion)(transaccion);\n            if (createdTransaccion._id) {\n                this.setState({\n                    transaccionId: createdTransaccion._id\n                });\n            } else {\n                console.log(\"No hay ID de la transaccion\");\n            }\n            return createdTransaccion._id;\n        } catch (error) {\n            console.log(\"Error creando la transacci\\xf3n de exchanges en la base de datos\");\n        }\n    }\n    // Actualizar los estados de la transaccion de exchanges\n    async updateTransaccion2(email, hashes, step) {\n        try {\n            if (step == \"4\") {\n                var _this_props_selectedCrypto;\n                if (!this.props.selectedCrypto) {\n                    // handle the error here, for example, throw an error or return from the function\n                    throw new Error(\"No crypto selected\");\n                }\n                //console.log('transaccion desde exchange');\n                const transaccion = {\n                    hash: hashes,\n                    user_id: this.props.email,\n                    crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                    amount_crypto: parseFloat(this.state.finalPrice),\n                    amount_fiat: this.state.totalPrice,\n                    status: \"confirmed\",\n                    network_id: \"5\",\n                    temp_wallet_id: this.state.walletAddress,\n                    invoice: {\n                        invoice_id: \"\",\n                        sent: false,\n                        downloaded: false\n                    }\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n            if (step == \"3\") {\n                const transaccion = {\n                    hash: hashes,\n                    status: \"waiting_for_confirmations\"\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n            if (step == \"2\") {\n                const transaccion = {\n                    hash: hashes,\n                    status: \"underpaid\"\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n        } catch (error) {\n            console.log(\"Error actualizando la transacci\\xf3n de exchanges en la base de datos\");\n        }\n    }\n    // Actualizar el usuario con la trasaccion realizada\n    async updateUser2(email, newTransactionId) {\n        try {\n            // Obtener el usuario existente\n            const currentUser = await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.findOneUsuario)(email);\n            if (currentUser) {\n                // Crear una nueva lista de IDs que incluye los existentes y la nueva\n                const currentTransactionIds = currentUser.transaction_ids || []; // Utilizar un array vacío si es undefined\n                const updatedTransactionIds = [\n                    ...currentTransactionIds,\n                    newTransactionId\n                ];\n                const userUpdate = {\n                    wallets: [\n                        {\n                            address: \"exchange wallet\",\n                            network: \"5\"\n                        }\n                    ],\n                    transaction_ids: updatedTransactionIds\n                };\n                await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.updateUsuario)(email, userUpdate);\n            } else {\n            // Manejar el caso cuando el usuario no se encuentra\n            }\n        } catch (error) {\n        // Manejar el error\n        }\n    }\n    // Comprueba una vez algunas cosas como si es exchange, los precios del gas, transacciones y otros precios.\n    async componentDidMount() {\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        if (!this.state.isWalletGenerated && !comprobarEsExchange) {\n            this.generateWallet();\n        }\n        this.startTimer();\n        // Obtener los precios del gas de las cadenas\n        if (!this.state.gasPricesFetched) {\n            // Obtener los precios del gas de las cadenas\n            const gasPrices1 = await this.getGasPrices();\n            const options1 = this.getOptions(gasPrices1);\n            this.setState({\n                gasPricesFetched: true,\n                selectedOption: options1[0],\n                gasPrices: gasPrices1\n            }); // Actualizar la variable a true\n        }\n        const transacciones = await this.fetchTransactions();\n        //console.log('las transacciones ', transacciones);\n        // Obtener precio de la criptomoneda y calcular en la cantidad para despues hacer el fixed\n        const cryptoPrice = await this.getPrices();\n        const partialAmount = this.state.totalPrice / cryptoPrice;\n        const priceFixed = partialAmount.toFixed(8);\n        this.setState({\n            selectedOption: options[0],\n            gasPrices,\n            selectedCryptoPrice: cryptoPrice,\n            finalPrice: priceFixed,\n            transactions: transacciones\n        });\n        //const qrCode = await this.getQR();\n        //this.setState({ qrCode });\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , chains , isLoading , pendingChainId , cryptoNetworks , isError , data , balances  } = this.props;\n        if (!chains.some((x)=>x.id === parseInt(selectedNetwork, 10))) {\n            this.setState({\n                invalidNetwork: true\n            });\n        }\n    //console.log('esta es la network: ', selectedNetwork);\n    }\n    // Actulizar el QR y crear nueva transaccion\n    async componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.state.qrCode && !this.isExchange(this.props.walletExchange) && this.state.step === 1 && this.intervalId === null) {\n            // TODO descomenta las dos lineas de abajo cuando quieras que el codigo QR se ejecute\n            //const qr = await this.getQRCode();\n            //if (qr) this.setState({ qrCode: qr });\n            // Now set a new interval\n            this.intervalId = setInterval(()=>this.fetchDataAndUpdateStep(), 3000);\n        //console.log(this.intervalId);\n        //this.simulateTransactions();\n        // TODO comenta la linea this.simulateTransactions() y descomenta la superior para que funcione en un entorno real\n        }\n        // comprobar boton de pago\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        if (comprobarEsExchange) {\n            if (this.props.balances !== prevProps.balances || this.state.finalPrice !== prevState.finalPrice) {\n                this.checkIfPayButtonShouldBeEnabled();\n            }\n        }\n        if ((this.props.isSuccessCoin || this.props.isSuccessToken) && !this.state.paymentCompletedOpen) {\n            //console.log('se ha completado el pago');\n            //console.log('se ha completado el pago Coin', this.props.dataHashCoin);\n            //console.log('se ha completado el pago Token', this.props.dataHashToken);\n            let hash = this.props.isSuccessCoin ? this.props.dataHashCoin : this.props.dataHashToken;\n            if (hash && hash.hash) {\n                this.setState({\n                    paymentCompletedOpen: true,\n                    hashes: [\n                        hash.hash\n                    ] // Asigna el valor de hash.hash en un array\n                });\n            } else {\n                console.error(\"Error al acceder a la propiedad hash del objeto\");\n            }\n            // crear la transaccion y actualizar usuario con el ID de la transaccion\n            const newTransactionId = await this.createTransaccion(this.props.email);\n            if (newTransactionId) {\n                await this.updateUser(this.props.email, newTransactionId);\n            } else {\n                console.error(\"Error al crear la transacci\\xf3n\");\n            }\n        }\n    }\n    async updateUser(email, newTransactionId) {\n        try {\n            // Obtener el usuario existente\n            const currentUser = await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.findOneUsuario)(email);\n            if (currentUser) {\n                // Crear una nueva lista de IDs que incluye los existentes y la nueva\n                const currentTransactionIds = currentUser.transaction_ids || []; // Utilizar un array vacío si es undefined\n                const updatedTransactionIds = [\n                    ...currentTransactionIds,\n                    newTransactionId\n                ];\n                const userUpdate = {\n                    wallets: [\n                        {\n                            address: this.props.address,\n                            network: this.props.selectedNetwork\n                        }\n                    ],\n                    transaction_ids: updatedTransactionIds\n                };\n                await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.updateUsuario)(email, userUpdate);\n            } else {\n                console.log(\"No se encuentra el usuario\");\n            }\n        } catch (error) {\n            console.log(\"Error al actualizar el usuario\");\n        }\n    }\n    // Crear transaccion desde billetera\n    async createTransaccion(email) {\n        try {\n            if (!this.props.selectedCrypto) {\n                throw new Error(\"No crypto selected\");\n            }\n            let id = null;\n            if (this.props.dataHashCoin) {\n                id = this.props.dataHashCoin.hash;\n            } else {\n                id = this.props.dataHashToken.hash;\n            }\n            const networkId = parseFloat(this.props.selectedNetwork);\n            const selectedNetwork = this.props.selectedCrypto.networks.find((network)=>network.id === networkId);\n            if (selectedNetwork && selectedNetwork.contract_pay) {\n                var _this_props_selectedCrypto;\n                const temp_wallet_id = selectedNetwork.contract_pay;\n                const transaccion = {\n                    hash: id,\n                    user_id: this.props.email,\n                    crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                    amount_crypto: parseFloat(this.state.finalPrice),\n                    amount_fiat: this.state.totalPrice,\n                    status: \"confirmed\",\n                    network_id: this.props.selectedNetwork,\n                    temp_wallet_id: temp_wallet_id,\n                    invoice: {\n                        invoice_id: \"\",\n                        sent: false,\n                        downloaded: false\n                    }\n                };\n                const newTransaccion = await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.createTransaccion)(transaccion);\n                return newTransaccion._id;\n            } else {\n                throw new Error(\"No network with id \".concat(networkId));\n            }\n        } catch (error) {}\n    }\n    // Resultados del selector de redes\n    getOptions(gasPrices1) {\n        const { isLoading , pendingChainId , cryptoNetworks  } = this.props;\n        const { selectedOption  } = this.state;\n        return this.props.chains.filter((x)=>{\n            const isCompatibleWithCrypto = cryptoNetworks.some((network)=>network.id === x.id);\n            //console.log('esto es la isCompatibleWithCrypto: ', isCompatibleWithCrypto);\n            return isCompatibleWithCrypto;\n        }).map((x)=>{\n            const network = cryptoNetworks.find((network)=>network.id === x.id);\n            //console.log('esto es la network: ', network);\n            const logo = network ? network.image : \"default_logo.png\";\n            return {\n                value: x.id,\n                label: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"custom-label\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"crypto-logo2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    className: \"red-logo2\",\n                                    src: \"/pasarela/\" + logo,\n                                    alt: \"\".concat(x.name, \" logo\")\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 783,\n                                    columnNumber: 33\n                                }, this),\n                                \" \"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 782,\n                            columnNumber: 29\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"network-name\",\n                            children: x.name\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 785,\n                            columnNumber: 29\n                        }, this),\n                        \" \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"gas-price\",\n                            children: [\n                                \"Coste de gas: \",\n                                gasPrices1[x.id],\n                                \"$\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 786,\n                            columnNumber: 29\n                        }, this),\n                        \" \",\n                        isLoading && pendingChainId === x.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"switching-indicator\",\n                            children: \"(switching)\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 787,\n                            columnNumber: 70\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"circle-icon-border\",\n                            children: selectedOption && selectedOption.value === x.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"circle-icon-fill\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 790,\n                                columnNumber: 37\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 788,\n                            columnNumber: 29\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 781,\n                    columnNumber: 25\n                }, this),\n                displayLabel: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"custom-label small-label\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                className: \"red-logo\",\n                                src: \"/pasarela/\" + logo,\n                                alt: \"\".concat(x.name, \" logo\")\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 798,\n                                columnNumber: 33\n                            }, this),\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"network-name\",\n                                children: x.name\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 799,\n                                columnNumber: 33\n                            }, this),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 797,\n                        columnNumber: 29\n                    }, this)\n                }, void 0, false)\n            };\n        });\n    }\n    /* METODOS PARA LOS MENSAJES MODALES */ checkSelectOpacity() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.menuIsOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open\");\n        }\n    }\n    checkSelectOpacityInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.menuInfoOpen) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open2\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open2\");\n        }\n    }\n    checkSelectOpacityMetamaskInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.menuMetamaskOpen) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open3\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open3\");\n        }\n    }\n    checkSelectExpiredInvoiceInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.expiredInvoice) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open4\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open4\");\n        }\n    }\n    checkSelectInvalidNetworkInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.invalidNetwork) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open5\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open5\");\n        }\n    }\n    //Comprobar si es exchange\n    isExchange(walletExchange) {\n        // Si walletExchange es null, devuelve false.\n        if (walletExchange === null) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    renderInfoContainer() {\n        var _this_props_selectedCrypto;\n        if (!this.state.menuInfoOpen) {\n            return null;\n        }\n        const minutes = Math.floor(this.state.timeLeft / 60);\n        const seconds = this.state.timeLeft % 60;\n        // Calcula el importe parcial\n        const { selectedCrypto  } = this.props;\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n        //console.log(partialAmount);\n        //console.log(partialAmount.toFixed(8));\n        const priceFixed = partialAmount.toFixed(8);\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        const payed = this.state.payConfirmed;\n        const payedFixed = payed.toFixed(8);\n        const priceFixedNumber = parseFloat(priceFixed);\n        const payedFixedNumber = parseFloat(payedFixed);\n        const payedPending = priceFixedNumber - payedFixedNumber;\n        const payedPendingFixed = payedPending.toFixed(8);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: [\n                                \"Env\\xede su pago en \",\n                                minutes,\n                                \":\",\n                                seconds < 10 ? \"0\" : \"\",\n                                seconds\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 909,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    menuInfoOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 910,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 908,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Precio total:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 915,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                this.state.totalPrice,\n                                \" USD\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 916,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 914,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Tipo de cambio:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 919,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                this.state.selectedCryptoPrice,\n                                \" USD\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 920,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 918,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Importe parcial:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 923,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                priceFixed,\n                                \" \",\n                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 924,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 922,\n                    columnNumber: 17\n                }, this),\n                !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Ha sido pagado:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 934,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                payedFixed,\n                                \" \",\n                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 935,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 933,\n                    columnNumber: 21\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-total\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Importe total:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 939,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                payedPendingFixed,\n                                \" \",\n                                (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 940,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 938,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 907,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoMetamaskContainer() {\n        if (!this.state.menuMetamaskOpen) {\n            return null;\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-metamask-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Escanea para continuar en Metamask\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 954,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    menuMetamaskOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 955,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 953,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-time\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        className: \"img-qr\",\n                        src: \"pasarela/qr-code.png\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 960,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 959,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 952,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoExpiredInvoiceContainer() {\n        if (!this.state.expiredInvoice) {\n            return null;\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-expired-invoice-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"info-time\",\n                        children: \"Factura caducada\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 974,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 973,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"Una factura solo es v\\xe1lida durante 15 minutos. Si quiere crear otra para realizar el pago, pulse en el siguiente bot\\xf3n\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 977,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 976,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"try-again-button\",\n                        onClick: ()=>{\n                            if (this.props.onTryAgain) {\n                                this.props.onTryAgain();\n                            }\n                            this.setState({\n                                expiredInvoice: false\n                            });\n                        },\n                        children: \"Intentar de nuevo\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 980,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 979,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 972,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoAddressPaymentContainer() {\n        var _this_props_selectedCrypto;\n        if (!this.state.addressPaymentOpen) {\n            return null;\n        }\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-address-payment-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Datos\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1029,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    addressPaymentOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1030,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1028,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-copy-data\",\n                    children: [\n                        \"Direcci\\xf3n\",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"copy-data\",\n                            children: [\n                                this.state.walletAddress,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-symbols-outlined copy-element\",\n                                    onClick: ()=>this.copyToClipboard(this.state.walletAddress, \"address\"),\n                                    children: this.state.copiedAddress ? \"done\" : \"content_copy\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1038,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1036,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1034,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-copy-data\",\n                    children: [\n                        \"Importe total\",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"copy-data\",\n                            children: [\n                                this.state.finalPrice,\n                                \" \",\n                                (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.symbol,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-symbols-outlined copy-element\",\n                                    onClick: ()=>this.copyToClipboard(this.state.finalPrice, \"amount\"),\n                                    children: this.state.copiedAmount ? \"done\" : \"content_copy\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1047,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1045,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1043,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1027,\n            columnNumber: 13\n        }, this);\n    }\n    /*renderInfoPaymentContainer() {\r\n        if (!this.state.infoPaymentOpen) {\r\n            return null;\r\n        }\r\n        // Calcula el importe parcial\r\n        const { selectedCrypto } = this.props;\r\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\r\n\r\n        //console.log(partialAmount);\r\n        //console.log(partialAmount.toFixed(8));\r\n        const priceFixed = partialAmount.toFixed(5)\r\n\r\n        const minutes = Math.floor(this.state.timeLeft / 60);\r\n        const seconds = this.state.timeLeft % 60;\r\n\r\n        return (\r\n            <div className=\"info-container-partial-payment\" >\r\n                <div className=\"info-item-title\">\r\n                    <h3 className=\"info-time\">Envíe su pago en {minutes}:{seconds < 10 ? '0' : ''}{seconds}</h3>\r\n                    <span className=\"material-symbols-outlined close-modal\" onClick={() => this.setState({ infoPaymentOpen: false })}>\r\n                        cancel\r\n                    </span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Precio total:</div>\r\n                    <div className=\"info-value\">{this.state.totalPrice} USD</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Tipo de cambio:</div>\r\n                    <div className=\"info-value\">{this.state.selectedCryptoPrice} USD</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Importe parcial:</div>\r\n                    <div className=\"info-value\">{priceFixed} {selectedCrypto?.symbol}</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Coste de red:</div>\r\n                    <div className=\"info-value\">...</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Ha sido pagado:</div>\r\n                    <div className=\"info-value\">...</div>\r\n                </div>\r\n                <div className=\"info-item-total\">\r\n                    <div className=\"info-label\">Importe total:</div>\r\n                    <div className=\"info-value\">... </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }*/ renderInfoPaymentCompletedContainer() {\n        if (!this.state.paymentCompletedOpen) {\n            return null;\n        }\n        // Crear los botones para cada hash\n        const hashButtons = this.state.hashes.map((hash, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"hash-button\",\n                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(hash), \"_blank\"),\n                children: [\n                    \"Pago \",\n                    index + 1\n                ]\n            }, hash, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1114,\n                columnNumber: 13\n            }, this));\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-payment-completed-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Pago completado\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1126,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>{\n                                this.setState({\n                                    paymentCompletedOpen: false\n                                });\n                                if (this.props.onTryAgain) {\n                                    this.props.onTryAgain();\n                                }\n                            },\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1127,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1125,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"\\xa1Tu pago ha sido completado con \\xe9xito! Gracias por utilizar nuestras servicios. Puedes ver los detalles de tu transacci\\xf3n a continuaci\\xf3n.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1139,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1138,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: this.state.hashes.length === 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            this.props.selectedNetwork === \"1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1146,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"5\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1153,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"97\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://testnet.bscscan.com/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1160,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"80001\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://mumbai.polygonscan.com/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1167,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"43114\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://testnet.snowtrace.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1174,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1181,\n                                columnNumber: 33\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1190,\n                                columnNumber: 29\n                            }, this),\n                            hashButtons\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1189,\n                        columnNumber: 25\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1141,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1124,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoPartialPaymentContainer() {\n        if (!this.state.partialPaymentOpen) {\n            return null;\n        }\n        // Calcula el importe parcial\n        const { selectedCrypto  } = this.props;\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n        //console.log(partialAmount);\n        //console.log(partialAmount.toFixed(8));\n        const priceFixed = partialAmount.toFixed(8);\n        const payed = this.state.payConfirmed;\n        const payedFixed = payed.toFixed(8);\n        const priceFixedNumber = parseFloat(priceFixed);\n        const payedFixedNumber = parseFloat(payedFixed);\n        const payedPending = priceFixedNumber - payedFixedNumber;\n        const payedPendingFixed = payedPending.toFixed(8);\n        //console.log('priceFixedNumber', priceFixedNumber);\n        //console.log('payedFixedNumber', payedFixedNumber);\n        //console.log('payedPending', payedPending);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-partial-payment-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Pago parcialmente recibido\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1235,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    partialPaymentOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1236,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1234,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"Hemos detectado tu pago, pero la cantidad enviada es inferior a la cantidad requerida. Por favor, env\\xeda el saldo restante para completar tu transacci\\xf3n.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1241,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1240,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"amount-outstanding\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: [\n                            \" \",\n                            payedPendingFixed,\n                            \" \",\n                            selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1244,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1243,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"try-again-button\",\n                        onClick: ()=>this.setState({\n                                partialPaymentOpen: false\n                            }),\n                        children: \"Pagar faltante\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1247,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1246,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1233,\n            columnNumber: 13\n        }, this);\n    }\n    /* Aplicar CSS modales */ checkInfoAddressPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.addressPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open5\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open5\");\n        }\n    }\n    checkInfoPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.infoPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open6\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open6\");\n        }\n    }\n    checkInfoPaymentCompleted() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.paymentCompletedOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open7\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open7\");\n        }\n    }\n    checkInfoPartialPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.partialPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open8\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open8\");\n        }\n    }\n    /* HASTA AQUI */ async fetchDataAndUpdateStep() {\n        this.getContractAddressCrypto(); // tengo que saber si hay contrato o no antes de hacer las peticiones\n        const transactions = await this.fetchTransactions();\n        //console.log('transacciones: ', transactions);\n        if (transactions && transactions.length) {\n            this.checkPaymentStatus(transactions);\n        }\n    }\n    modalPartialPayment() {\n        if (!this.state.modalPartialPayment) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false);\n        // Configura un temporizador para cerrar el modal después de 5 segundos (5000 milisegundos)\n        setTimeout(()=>{\n            this.setState({\n                modalPartialPayment: false\n            });\n        }, 1000000);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"modal\",\n                children: [\n                    \"Pago parcialmente recibido\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"material-symbols-outlined\",\n                        onClick: ()=>this.setState({\n                                modalPartialPayment: false\n                            }),\n                        children: \"cancel\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1326,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1324,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1323,\n            columnNumber: 13\n        }, this);\n    }\n    renderStepperPayment() {\n        if (this.state.step === 5) return \"\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"stepper-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 1 ? \"active-4\" : \"\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"circle-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1341,\n                                    columnNumber: 29\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1340,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Esperando pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1343,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1339,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 2 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1347,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1348,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1346,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Pago parcialmente recibido\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1350,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1345,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 3 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1354,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1355,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1353,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 3 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Esperando confirmaci\\xf3n\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1357,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1352,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 4 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1361,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1362,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1360,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 4 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Pago completado\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1364,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1359,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1338,\n                columnNumber: 17\n            }, this)\n        }, void 0, false);\n    }\n    renderInfoInvalidNetworkContainer() {\n        if (!this.state.invalidNetwork) {\n            return null;\n        }\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , pendingChainId , isloadingnetwork  } = this.props;\n        const { selectedOption  } = this.state;\n        const handleOptionChange = (red)=>{\n            //console.log('************', selectedOption);\n            switchNetwork === null || switchNetwork === void 0 ? void 0 : switchNetwork(1);\n            //console.log('pendingChainId ', pendingChainId);\n            {\n                isloadingnetwork && (console.log(\"estoy esperando a que cambies\"), this.setState({\n                    invalidNetwork: false\n                }));\n            }\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-invalid-network-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Red equivocada\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1393,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: ()=>this.setState({\n                                    invalidNetwork: false\n                                }),\n                            children: \"X\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1394,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1392,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"La factura ha sido creada para realizar el pago por otras redes. Para continuar, por favor cambie la red en ajustes de Metamask. O haga clic abajo\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1397,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1396,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"network-change-button\",\n                        onClick: ()=>handleOptionChange(1),\n                        children: \"Conectar a Etherum Mainnet\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1400,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1399,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1391,\n            columnNumber: 13\n        }, this);\n    }\n    //Metodo para pasar a base 64 la imagen recibida del QR\n    renderQRPayment() {\n        //if (!this.isExchange ()) return \"\"; \n        if (!this.state.qrCode) {\n            //return <span>Cargando código QR...</span>;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"lds-roller\",\n                style: {\n                    width: \"75px\",\n                    height: \"100px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 91\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 102\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 113\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 124\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 135\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 146\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 157\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 168\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1412,\n                columnNumber: 20\n            }, this);\n        }\n        function arrayBufferToBase64(buffer) {\n            let binary = \"\";\n            let bytes = [].slice.call(new Uint8Array(buffer));\n            bytes.forEach((b)=>binary += String.fromCharCode(b));\n            return window.btoa(binary);\n        }\n        let base64Image = arrayBufferToBase64(this.state.qrCode);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-qr-exchange\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                className: \"img-qr-exchange\",\n                src: \"data:image/png;base64,\".concat(base64Image)\n            }, void 0, false, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1426,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1425,\n            columnNumber: 13\n        }, this);\n    }\n    // TODO Poner el valor data.data que es la billetera\n    // TODO Poner la imagen que corresponda en el data.logo\n    async getQRCode() {\n        //console.log(this.props.selectedCrypto?.image);\n        //console.log(this.state.walletAddress);\n        const axios = __webpack_require__(/*! axios */ \"./node_modules/axios/dist/browser/axios.cjs\");\n        const options1 = {\n            method: \"POST\",\n            url: \"https://qrcode-monkey.p.rapidapi.com/qr/custom\",\n            responseType: \"arraybuffer\",\n            headers: {\n                \"content-type\": \"application/json\",\n                \"X-RapidAPI-Key\": \"a27538d0admsh91a560dc2646b83p1bf9f9jsn2bd53d9e6666\",\n                \"X-RapidAPI-Host\": \"qrcode-monkey.p.rapidapi.com\"\n            },\n            data: {\n                data: \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\",\n                config: {\n                    body: \"dot\",\n                    eye: \"frame13\",\n                    eyeBall: \"ball14\",\n                    erf1: [],\n                    erf2: [\n                        \"fh\"\n                    ],\n                    erf3: [\n                        \"fv\"\n                    ],\n                    brf1: [],\n                    brf2: [\n                        \"fh\"\n                    ],\n                    brf3: [\n                        \"fv\"\n                    ],\n                    bodyColor: \"#EDEDED\",\n                    bgColor: \"#292929\",\n                    eye1Color: \"#EDEDED\",\n                    eye2Color: \"#EDEDED\",\n                    eye3Color: \"#EDEDED\",\n                    eyeBall1Color: \"#EDEDED\",\n                    eyeBall2Color: \"#EDEDED\",\n                    eyeBall3Color: \"#EDEDED\",\n                    gradientColor1: \"#EDEDED\",\n                    gradientColor2: \"#EDEDED\",\n                    gradientType: \"radial\",\n                    gradientOnEyes: false,\n                    logo: \"https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/512/Tether-USDT-icon.png\"\n                },\n                size: 300,\n                download: false,\n                file: \"png\"\n            }\n        };\n        try {\n            const response = await axios.request(options1);\n            //console.log('devuelvo esto: ', response.data);\n            return response.data;\n        } catch (error) {\n            return \"\";\n            console.error(error);\n        }\n    }\n    formatNumber(value) {\n        if (value) {\n            const numberValue = parseFloat(value);\n            if (!Number.isInteger(numberValue)) {\n                return numberValue.toFixed(5);\n            }\n            return value;\n        }\n        return value;\n    }\n    getContractAddress() {\n        const { selectedCrypto , selectedNetwork  } = this.props;\n        // Encuentra la red seleccionada dentro de las redes de la criptomoneda seleccionada\n        const network = selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.networks.find((net)=>net.id === Number(selectedNetwork));\n        // Comprueba si hay un contract_address para la red seleccionada y devuelve el resultado\n        return network ? !!network.contract_address : false;\n    }\n    checkIfPayButtonShouldBeEnabled() {\n        const { balances  } = this.props;\n        const { finalPrice  } = this.state;\n        //console.log('PRECIO QUE DEBES PAGAR: ', finalPrice);\n        //console.log('balance tokens: ', balances);\n        //console.log('balance ETH: ', this.formatNumber(this.props.data?.formatted));\n        const tipoContractAddress = this.getContractAddress();\n        //TODO Coprobar si es exchange\n        if (!tipoContractAddress) {\n            console.log(\"Soy ETH \");\n            if (this.props.data.formatted >= parseFloat(finalPrice)) {\n                this.setState({\n                    isPayButtonEnabled: true\n                });\n            } else {\n                this.setState({\n                    isPayButtonEnabled: false\n                });\n            }\n        } else {\n            if (finalPrice && balances) {\n                const isPayButtonEnabled = balances >= parseFloat(finalPrice);\n                this.setState({\n                    isPayButtonEnabled\n                });\n            } else {\n                this.setState({\n                    isPayButtonEnabled: false\n                });\n            }\n        }\n    }\n    render() {\n        this.checkSelectOpacity();\n        this.checkSelectOpacityInfo();\n        this.checkSelectOpacityMetamaskInfo();\n        this.checkSelectExpiredInvoiceInfo();\n        this.checkSelectInvalidNetworkInfo();\n        /* AÑADIR NUEVOS METODOS */ this.checkInfoAddressPayment();\n        this.checkInfoPayment();\n        this.checkInfoPaymentCompleted();\n        this.checkInfoPartialPayment();\n        const { isInfoVisible  } = this.state;\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , chains , isLoading , pendingChainId , cryptoNetworks , isError , data , balances  } = this.props;\n        const { gasPrices: gasPrices1 , selectedOption , finalPrice  } = this.state;\n        const handleOptionChange = (selectedOption)=>{\n            //console.log('/*/*/*/*/*/*/*', selectedOption);\n            if (selectedOption && selectedOption.value) {\n                handleNetworkChange(selectedOption.value);\n                this.setState({\n                    selectedOption\n                });\n            }\n        };\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        const timeLeftPercentage = (this.state.timeLeft / this.state.totalTime * 100).toFixed(2);\n        const strokeDashoffset = (282.6 * (this.state.timeLeft / this.state.totalTime)).toFixed(2);\n        //console.log(balances);\n        //console.log(data);\n        //console.log('saldo de la cripto elegida: ', parseFloat(data?.formatted).toFixed(5));\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"right-section-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Datos de pago\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1580,\n                            columnNumber: 17\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"close-button-container\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"material-symbols-outlined close-modal-2\" /*onClick={() => this.setState({ menuInfoOpen: false })}*/ ,\n                                children: \"cancel\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1582,\n                                columnNumber: 21\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1581,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1579,\n                    columnNumber: 15\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"payment-data\",\n                    children: [\n                        this.renderInfoContainer(),\n                        this.renderInfoMetamaskContainer(),\n                        this.renderInfoExpiredInvoiceContainer(),\n                        this.renderInfoPaymentCompletedContainer(),\n                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                this.renderInfoAddressPaymentContainer(),\n                                this.renderInfoPartialPaymentContainer()\n                            ]\n                        }, void 0, true),\n                        comprobarEsExchange && this.renderInfoInvalidNetworkContainer(),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"crypto-network-container\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"selected-crypto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-logo\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                className: \"imagen-logo\",\n                                                src: \"/pasarela/\" + (selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.image),\n                                                alt: \"\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name, \" logo\")\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                lineNumber: 1603,\n                                                columnNumber: 33\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1602,\n                                            columnNumber: 29\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-info\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"crypto-name\",\n                                                    children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1606,\n                                                    columnNumber: 33\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"crypto-symbol\",\n                                                    children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1607,\n                                                    columnNumber: 33\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1605,\n                                            columnNumber: 29\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1600,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"timer-container\",\n                                    onClick: ()=>{\n                                        //console.log('menuAbierto')\n                                        //this.checkSelectOpacityInfo()\n                                        this.setState({\n                                            menuInfoOpen: true\n                                        });\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"material-symbols-outlined material-info a\",\n                                            children: \"info_i\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1616,\n                                            columnNumber: 29\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            width: \"40\",\n                                            height: \"40\",\n                                            viewBox: \"0 0 100 100\",\n                                            className: \"timer-bar\",\n                                            style: {\n                                                transform: \"rotate(-90deg)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: \"50\",\n                                                    cy: \"50\",\n                                                    r: \"45\",\n                                                    \"stroke-width\": \"8\",\n                                                    fill: \"none\",\n                                                    className: \"timer-bar__meter\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1620,\n                                                    columnNumber: 33\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    id: \"countdown\",\n                                                    cx: \"50\",\n                                                    cy: \"50\",\n                                                    r: \"45\",\n                                                    \"stroke-width\": \"8\",\n                                                    fill: \"none\",\n                                                    className: \"timer-bar__value\",\n                                                    \"stroke-dasharray\": \"282.6\",\n                                                    \"stroke-dashoffset\": strokeDashoffset\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1621,\n                                                    columnNumber: 33\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1619,\n                                            columnNumber: 29\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1611,\n                                    columnNumber: 25\n                                }, this),\n                                comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"network-selector\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_select__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            className: \"selector-red\",\n                                            classNamePrefix: \"my-select\",\n                                            isDisabled: !switchNetwork,\n                                            value: selectedOption,\n                                            onChange: handleOptionChange,\n                                            options: this.getOptions(this.state.gasPrices),\n                                            isSearchable: false,\n                                            //menuIsOpen={true}\n                                            onMenuOpen: ()=>{\n                                                console.log(\"menuAbierto\");\n                                                this.setState({\n                                                    menuIsOpen: true\n                                                });\n                                            },\n                                            onMenuClose: ()=>this.setState({\n                                                    menuIsOpen: false\n                                                }),\n                                            formatOptionLabel: (data, state)=>{\n                                                if (state.context === \"menu\") {\n                                                    // Cuando esté en el menú, mostramos todo\n                                                    return data.label;\n                                                } else {\n                                                    // Cuando la opción es la seleccionada, mostramos solo el logo y el nombre\n                                                    return data.displayLabel;\n                                                }\n                                            },\n                                            styles: {\n                                                control: (provided)=>({\n                                                        ...provided,\n                                                        width: this.state.menuIsOpen ? \"auto\" : 200\n                                                    })\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1627,\n                                            columnNumber: 37\n                                        }, this)\n                                    }, void 0, false)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1625,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1599,\n                            columnNumber: 21\n                        }, this),\n                        comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"wallet-balance\",\n                            children: [\n                                isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"Comprobando criptomonedas…\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1663,\n                                    columnNumber: 44\n                                }, this),\n                                isError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"Error comprobando balance\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1664,\n                                    columnNumber: 42\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"align-left\",\n                                    children: \"Tiene en su billetera:\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1665,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-container-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            className: \"imagen-logo-data\",\n                                            src: \"/pasarela/\" + (selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.image),\n                                            alt: \"\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name, \" logo\")\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1669,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-name-data\",\n                                            children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1670,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-balance-data\",\n                                            children: [\n                                                this.formatNumber(balances),\n                                                balances === undefined && this.formatNumber(data === null || data === void 0 ? void 0 : data.formatted),\n                                                \" \",\n                                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1671,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1668,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1662,\n                            columnNumber: 25\n                        }, this),\n                        !comprobarEsExchange /*&& this.state.qrCode*/  && // Si es un exchange mostrará el código QR donde realizar el pago\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: this.renderQRPayment()\n                        }, void 0, false),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"total-to-pay\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"align-left\",\n                                    children: \"Total a pagar:\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1683,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"price-copy\",\n                                    children: [\n                                        finalPrice,\n                                        \" \",\n                                        selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol,\n                                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"material-symbols-outlined copy-element\",\n                                            onClick: ()=>this.setState({\n                                                    addressPaymentOpen: true\n                                                }),\n                                            children: \"content_copy\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1689,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1686,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1682,\n                            columnNumber: 21\n                        }, this),\n                        comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"metamask-button\",\n                            onClick: ()=>{\n                                //console.log('menuAbierto')\n                                //this.checkSelectOpacityInfo()\n                                this.setState({\n                                    menuMetamaskOpen: true\n                                }) // Esto cambiará el estado cada vez que se haga click\n                                ;\n                            },\n                            children: \"Pagar con Metamask App\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1697,\n                            columnNumber: 25\n                        }, this),\n                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: this.renderStepperPayment()\n                        }, void 0, false)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1587,\n                    columnNumber: 17\n                }, this),\n                comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"pay-button \".concat(!this.state.isPayButtonEnabled ? \"disabled\" : \"\"),\n                    onClick: this.state.isPayButtonEnabled ? ()=>this.props.onClick(finalPrice) : undefined,\n                    children: \"Pagar\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1713,\n                    columnNumber: 21\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    constructor(props){\n        super(props);\n        this.wallet = ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3___default().generate();\n        this.toggleInfoVisibility = ()=>{\n            this.setState((prevState)=>({\n                    isInfoVisible: !prevState.isInfoVisible\n                }));\n        };\n        // Método para obtener el precio de Ethereum en dólares desde la API de CoinGecko (Para el GAS de las redes que no me da OWLRACLE)\n        this.getEthPriceInDollars = async ()=>{\n            try {\n                const res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd\");\n                //console.log('****Ethereum price:', res.data.ethereum.usd);\n                return res.data.ethereum.usd;\n            } catch (error) {\n                //console.error('Error fetching Ethereum price:', error);\n                return null;\n            }\n        };\n        // Creo un nuevo método para obtener el precio de la criptomoneda seleccionada\n        this.getCryptoPriceInDollars = async (selectedCrypto)=>{\n            try {\n                const res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.coingecko.com/api/v3/simple/price?ids=\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.id, \"&vs_currencies=usd\"));\n                //console.log('////// precio criptomoneda elegida: ', res.data[selectedCrypto?.id].usd);\n                return res.data[selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.id].usd;\n            } catch (error) {\n                return null;\n            }\n        };\n        // Método para obtener precios de gas desde la API\n        this.getGasPrices = async ()=>{\n            const { chains  } = this.props;\n            const gasPrices1 = {};\n            const ethPriceInDollars = await this.getEthPriceInDollars(); // Obtiene el precio de Ethereum en dólares\n            for (const chain of chains){\n                try {\n                    let res;\n                    if (chain.id === 80001) {\n                        // Si el ID de la cadena es 80001, haz una petición a la otra API\n                        res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://gasstation.polygon.technology/v2\");\n                        // Accede al precio 'standard' y conviértelo a dólares\n                        let gasPriceInGWei = res.data.standard.maxFee;\n                        //console.log('** COSTES DE RED AQUI ESTA EL DATO **:', res.data);\n                        let gasPriceInDollars = gasPriceInGWei * ethPriceInDollars / 1e9;\n                        //console.log('****MUMBAI price gas:', gasPriceInDollars);\n                        gasPrices1[chain.id] = gasPriceInDollars.toFixed(2);\n                    } else {\n                        // Si el ID de la cadena no es 80001, haz una petición a la API original\n                        res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.owlracle.info/v4/\".concat(chain.id, \"/gas?apikey=\", \"9e0db8f010f746ffa3ac7943938ddc6e\"));\n                        gasPrices1[chain.id] = res.data.speeds[3].estimatedFee.toFixed(2);\n                    //console.log('** COSTES DE RED AQUI ESTA EL DATO **:', res.data);\n                    }\n                } catch (error) {\n                    //console.error('Error fetching gas price for chain', chain.id, error);\n                    gasPrices1[chain.id] = \"0.00\"; // Establece el precio del gas a \"0.00\" si la petición falla\n                }\n            }\n            //console.log('Estos son los gasPrices: ', gasPrices);\n            return gasPrices1;\n        };\n        this.getPrices = async ()=>{\n            const { selectedCrypto  } = this.props;\n            const cryptoPriceInDollars = await this.getCryptoPriceInDollars(selectedCrypto); // Obtiene el precio en dólares\n            return cryptoPriceInDollars;\n        };\n        // Funcion para traer las transacciones de internas (ETH) y externas (Tokens)\n        this.fetchTransactions = async ()=>{\n            //const waddress = '0xb92eC3280324526dCc2366E3273fAD65fE69245d'\n            // cambiar por this.state.walletAddress\n            if (this.state.contractAddress) {\n                try {\n                    const res = await (0,_stores_basicStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"https://api-goerli.etherscan.io/api?module=account&action=tokentx&address=\".concat(this.state.walletAddress, \"&startblock=0&endblock=99999999&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8\"));\n                    //const res = await fetchAPI(`https://api-goerli.etherscan.io/api?module=account&action=txlist&address=0xb92eC3280324526dCc2366E3273fAD65fE69245d&startblock=0&endblock=99999999&page=1&offset=10&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8`);\n                    //this.setState({ transactions: res.data.result });\n                    return res.result;\n                } catch (error) {\n                    console.error(\"Error fetching transactions:\", error);\n                }\n            } else {\n                try {\n                    //const res = await fetchAPI(`https://api-goerli.etherscan.io/api?module=account&action=tokentx&address=${waddress}&startblock=0&endblock=99999999&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8`);\n                    const res = await (0,_stores_basicStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"https://api-goerli.etherscan.io/api?module=account&action=txlist&address=\".concat(this.state.walletAddress, \"&startblock=0&endblock=99999999&page=1&offset=10&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8\"));\n                    //this.setState({ transactions: res.data.result });\n                    return res.result;\n                } catch (error) {\n                    console.error(\"Error fetching transactions:\", error);\n                }\n            }\n        };\n        this.timer = null;\n        this.startTimer = ()=>{\n            this.timer = setInterval(()=>{\n                if (this.state.timeLeft <= 0) {\n                    this.clearTimer();\n                    this.setState({\n                        expiredInvoice: true\n                    });\n                } else {\n                    this.setState((prevState)=>({\n                            timeLeft: prevState.timeLeft - 1\n                        }));\n                }\n            }, 1000);\n        };\n        this.clearTimer = ()=>{\n            if (this.timer !== null) {\n                clearInterval(this.timer);\n                this.timer = null;\n            }\n        };\n        // Metodo para comporbar las trasncciones, comprobar los 2 bloques en la cadena y verificar que es superior a la cantidad\n        this.checkPaymentStatus = async (transactions)=>{\n            const totalAmountNeeded = 20.00;\n            let totalReceived = 0;\n            let totalConfirmed = 0;\n            // TODO cambiar para comprobar direccion real\n            //const desiredToAddress = \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\";\n            //const desiredContractAddress = \"0x2e8d98fd126a32362f2bd8aa427e59a1ec63f780\";\n            const desiredToAddress = this.state.walletAddress;\n            this.getContractAddressCrypto();\n            const desiredContractAddress = this.state.contractAddress;\n            const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n            //console.log(partialAmount);\n            //console.log(partialAmount.toFixed(8));\n            const totalPriceFixed = parseFloat(partialAmount.toFixed(5));\n            //console.log('ENTRO AQUI: ', desiredContractAddress);\n            let filteredTransactions = [];\n            if (Array.isArray(transactions)) {\n                filteredTransactions = transactions.filter((tx)=>tx.to.toLowerCase() === desiredToAddress.toLowerCase() && tx.contractAddress.toLowerCase() === desiredContractAddress.toLowerCase());\n            } else {\n                filteredTransactions = [];\n            }\n            if (!desiredContractAddress && Array.isArray(transactions)) {\n                filteredTransactions = transactions;\n            }\n            //console.log('filtradas: ', filteredTransactions);\n            for (let tx of filteredTransactions){\n                const tokenDecimal = tx.tokenDecimal || 18;\n                totalReceived += tx.value / Math.pow(10, tokenDecimal);\n                if (tx.confirmations >= 2) {\n                    totalConfirmed += tx.value / Math.pow(10, tokenDecimal);\n                    //console.log('total confirmadas: ', totalConfirmed);\n                    this.setState({\n                        payConfirmed: totalConfirmed\n                    });\n                }\n            }\n            const hashes = filteredTransactions.map((tx)=>tx.hash);\n            this.setState({\n                hashes: hashes\n            });\n            //console.log('el numero de hashes totales: /*/***//*/*/*/*', hashes);\n            if (!this.state.transaccionId) {\n                const newTransactionId = await this.createTransaccion2(this.props.email);\n                if (newTransactionId) {\n                    await this.updateUser2(this.props.email, newTransactionId);\n                } else {\n                    console.error(\"Error al crear la transacci\\xf3n\");\n                }\n            }\n            if (totalConfirmed >= totalPriceFixed) {\n                this.setState({\n                    step: 4\n                }); // Pago completado\n                await this.updateTransaccion2(this.props.email, hashes, \"4\");\n                if (this.intervalId) {\n                    clearInterval(this.intervalId);\n                }\n                if (!this.state.modalCompletedPaymentShown) {\n                    setTimeout(()=>{\n                        this.setState({\n                            paymentCompletedOpen: true,\n                            modalCompletedPaymentShown: true\n                        });\n                    }, 1000);\n                }\n            } else if (totalReceived >= totalPriceFixed) {\n                this.setState({\n                    step: 3\n                }); // Esperando confirmación\n                await this.updateTransaccion2(this.props.email, hashes, \"3\");\n            } else if (totalReceived > 0) {\n                this.setState({\n                    step: 2\n                }); // Pago parcialmente recibido\n                await this.updateTransaccion2(this.props.email, hashes, \"2\");\n                if (!this.state.modalPartialPaymentShown) {\n                    setTimeout(()=>{\n                        this.setState({\n                            partialPaymentOpen: true,\n                            modalPartialPaymentShown: true\n                        });\n                    }, 1000);\n                }\n            }\n        /*else {\r\n           this.setState({ step: 1 }); // Esperando pago\r\n       }*/ };\n        this.seconds = 0;\n        this.transactions = [];\n        // Metodo para simular transacciones\n        this.simulateTransactions = ()=>{\n            setInterval(()=>{\n                this.seconds += 1;\n                if (this.seconds === 3) {\n                    this.transactions.push(this.createTransaction(4));\n                } else if (this.seconds === 7) {\n                    this.transactions.push(this.createTransaction(10));\n                } else if (this.seconds === 10) {\n                    this.transactions.push(this.createTransaction(7));\n                }\n                this.checkPaymentStatus(this.transactions);\n            }, 6000); // Cada segundo\n        };\n        // Crear un stransaccion simulada\n        this.createTransaction = (value)=>{\n            const desiredToAddress = \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\";\n            const desiredContractAddress = \"0x2e8d98fd126a32362f2bd8aa427e59a1ec63f780\";\n            return {\n                blockHash: \"0xa3d1765bc1099d6253ef38992c257092da33488d576b85efa338980857499b42\",\n                blockNumber: \"9221161\",\n                confirmations: \"34114\",\n                contractAddress: desiredContractAddress,\n                cumulativeGasUsed: \"2975510\",\n                from: \"0xb92ec3280324526dcc2366e3273fad65fe69245d\",\n                gas: \"77469\",\n                gasPrice: \"1500000016\",\n                gasUsed: \"51646\",\n                hash: \"0xa0336fa81536f4dcbe6bfe404d390d8dae998b2d5e1325f1813758c88b66a412\",\n                input: \"deprecated\",\n                nonce: \"27\",\n                timeStamp: \"1687436808\",\n                to: desiredToAddress,\n                tokenDecimal: \"6\",\n                tokenName: \"USDT\",\n                tokenSymbol: \"USDT\",\n                transactionIndex: \"24\",\n                value: String(value * Math.pow(10, 6)) // Multiplica by 10^6 decimales de USDT\n            };\n        };\n        this.intervalId = null;\n        /* Boton para copiar en el portapapeles */ this.copyToClipboard = async (text, type)=>{\n            try {\n                await navigator.clipboard.writeText(text);\n                if (type === \"address\") {\n                    this.setState({\n                        copiedAddress: true\n                    });\n                } else if (type === \"amount\") {\n                    this.setState({\n                        copiedAmount: true\n                    });\n                }\n                setTimeout(()=>{\n                    if (type === \"address\") {\n                        this.setState({\n                            copiedAddress: false\n                        });\n                    } else if (type === \"amount\") {\n                        this.setState({\n                            copiedAmount: false\n                        });\n                    }\n                }, 1000);\n                console.log(\"Text copied to clipboard\");\n            } catch (err) {\n                console.log(\"Error copying text: \", err);\n            }\n        };\n        this.state = {\n            gasPrices: {},\n            selectedOption: null,\n            isInfoVisible: false,\n            menuIsOpen: false,\n            //qrCode: null\n            menuInfoOpen: false,\n            selectedCryptoPrice: 0,\n            totalPrice: 20,\n            finalPrice: \"\",\n            menuMetamaskOpen: false,\n            expiredInvoice: false,\n            invalidNetwork: false,\n            transactions: {},\n            qrCode: \"\",\n            // STEPPER\n            step: 1,\n            modalPartialPayment: false,\n            modalPartialPaymentShown: false,\n            modalCompletedPayment: false,\n            modalCompletedPaymentShown: false,\n            // NUEVOS MENSAJES MODALES\n            addressPaymentOpen: false,\n            infoPaymentOpen: false,\n            paymentCompletedOpen: false,\n            partialPaymentOpen: false,\n            //contador de tiempo\n            timeLeft: 300,\n            totalTime: 300,\n            showPartialPaymentModal: false,\n            timer: null,\n            // Billetera\n            walletAddress: \"\",\n            isWalletGenerated: false,\n            contractAddress: \"\",\n            // copiar\n            copiedAddress: false,\n            copiedAmount: false,\n            //boton pagar\n            isPayButtonEnabled: false,\n            //id transaccion\n            transaccionId: null,\n            // hashes de pago\n            hashes: [],\n            // cantidad pagada\n            payConfirmed: 0,\n            // gas extraido\n            gasPricesFetched: false\n        };\n    }\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtZQUVqQixTQUFTO1lBQ1Q0SSxlQUFlO1lBQ2ZDLGNBQWM7WUFFZCxhQUFhO1lBQ2JpRixvQkFBb0I7WUFFcEIsZ0JBQWdCO1lBQ2hCMU0sZUFBZTtZQUVmLGlCQUFpQjtZQUNqQkksUUFBUSxFQUFFO1lBRVYsa0JBQWtCO1lBQ2xCcUcsY0FBYztZQUVkLGVBQWU7WUFDZnBGLGtCQUFrQjtRQUN0QjtJQUNKO0FBc2hESjtBQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvcGF5bWVudERhdGEudHN4P2UyZmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXhjaGFuZ2UsIE5ldHdvcmssIFdhbGxldCwgQ3J5cHRvLCBCaWxsZXRlcmFUZW1wLCBUcmFuc2FjY2lvbiB9IGZyb20gJ0AvZGVmaW5pdGlvbnMvZ2xvYmFsJztcclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBDaGFpbiB9IGZyb20gJ3dhZ21pJztcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnO1xyXG5pbXBvcnQgeyBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBmZXRjaEFQSSBmcm9tIFwiQC9zdG9yZXMvYmFzaWNTdG9yZVwiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgV2FsbGV0TGlicmFyeSBmcm9tICdldGhlcmV1bWpzLXdhbGxldCc7XHJcbmltcG9ydCB7IHVzZUNvbnRyYWN0V3JpdGUsIHVzZVNlbmRUcmFuc2FjdGlvbiB9IGZyb20gJ3dhZ21pJ1xyXG5pbXBvcnQgeyBVc3VhcmlvIH0gZnJvbSBcIkAvZGVmaW5pdGlvbnMvZ2xvYmFsXCI7XHJcbmltcG9ydCB7IGZpbmRPbmVVc3VhcmlvLCB1cGRhdGVVc3VhcmlvIH0gZnJvbSBcIkAvc3RvcmVzL3VzdWFyaW9TdG9yZVwiO1xyXG5pbXBvcnQgeyBjcmVhdGVCaWxsZXRlcmFUZW1wIH0gZnJvbSBcIkAvc3RvcmVzL2JpbGxldGVyYVRlbXBcIjtcclxuaW1wb3J0IHsgY3JlYXRlVHJhbnNhY2Npb24sIHVwZGF0ZVRyYW5zYWNjaW9uIH0gZnJvbSAnQC9zdG9yZXMvdHJhbnNhY2Npb25TdG9yZSc7XHJcbmV4cG9ydCBpbnRlcmZhY2UgSVBheW1lbnREYXRhUHJvcHMge1xyXG4gICAgd2FsbGV0RXhjaGFuZ2U6IFdhbGxldCB8IEV4Y2hhbmdlO1xyXG4gICAgY3J5cHRvczogQ3J5cHRvW107XHJcbiAgICBzZWxlY3RlZENyeXB0bzogQ3J5cHRvIHwgbnVsbDsgLy8gQ3J5cHRvIHNlbGVjY2lvbmFkYVxyXG4gICAgc2VsZWN0ZWROZXR3b3JrOiBzdHJpbmc7IC8vIFJlZCBzZWxlY2Npb25hZGFcclxuICAgIGhhbmRsZU5ldHdvcmtDaGFuZ2U6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkOyAvLyBGdW5jacOzbiBkZSBjYW1iaW8gZGUgcmVkXHJcbiAgICBzd2l0Y2hOZXR3b3JrPzogKGNoYWluSWQ/OiBudW1iZXIpID0+IHZvaWQ7IC8vIENhbWJpbyBkZSByZWQgZGUgbGEgYmlibGlvdGVjYSB3YWdtaVxyXG4gICAgY2hhaW5zOiBDaGFpbltdOyAvLyBDYWRlbmFzIGRlIGxhIHJlZFxyXG4gICAgaXNMb2FkaW5nOiBib29sZWFuOyAvLyBQYXJhIGluZGljYXIgc2kgc2UgZXN0w6EgY2FyZ2FuZG9cclxuICAgIHBlbmRpbmdDaGFpbklkOiBudW1iZXIgfCB1bmRlZmluZWQ7IC8vIElEIGRlIGxhIGNhZGVuYSBwZW5kaWVudGVcclxuICAgIGNyeXB0b05ldHdvcmtzOiBOZXR3b3JrW107IC8vIFJlZGVzIGRlIGxhIGNyaXB0b21vbmVkYSBzZWxlY2Npb25hZGFcclxuICAgIGRhdGE6IGFueTsgLy8gRGF0b3MgZGUgYmFsYW5jZVxyXG4gICAgaXNFcnJvcjogYm9vbGVhbjsgLy8gSW5kaWNhciBzaSBoYXkgdW4gZXJyb3JcclxuICAgIGJhbGFuY2VzOiBudW1iZXIgfCB1bmRlZmluZWQ7IC8vIEJhbGFuY2UgZGVsIGNvbnRyYXRvXHJcbiAgICBpc2xvYWRpbmduZXR3b3JrOiBib29sZWFuOyAvLyBTaSBlc3RhIGNhbWJpYW5kbyBkZSByZWRcclxuICAgIG9uQ2xpY2s6IChmaW5hbFByaWNlOiBhbnkpID0+IHZvaWQ7IC8vIFNpIHB1bHNhIHBhcmEgZWwgcGFnb1xyXG4gICAgaXNTdWNjZXNzQ29pbjogYm9vbGVhbiwgLy8gUGFnbyBkZSBDb2luIGNvbXBsZXRhZG9cclxuICAgIGlzU3VjY2Vzc1Rva2VuOiBib29sZWFuLCAvLyBQYWdvIGRlIFRva2VuIGNvbXBsZXRhZG9cclxuICAgIGRhdGFIYXNoQ29pbjogYW55LCAvLyBIYXNoIGRlIGxhIENvaW5cclxuICAgIGRhdGFIYXNoVG9rZW46IGFueSwgLy8gSGFzaCBkZUwgVG9rZW5cclxuICAgIGVtYWlsOiBzdHJpbmcsIC8vIEVtYWlsIGRlbCB1c3VhcmlvXHJcbiAgICBhZGRyZXNzOiBhbnksIC8vIERpcmVjY2lvbiBkZWwgdXN1YXJpb1xyXG4gICAgb25UcnlBZ2Fpbj86ICgpID0+IHZvaWQsIC8vIFZvbHZlciBhIHJlcGV0aXIgZSBpciBhbCBpbmljaW9cclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElQYXltZW50RGF0YVN0YXRlIHtcclxuICAgIGlzSW5mb1Zpc2libGU6IGJvb2xlYW47XHJcbiAgICBzZWxlY3RlZE9wdGlvbjoge1xyXG4gICAgICAgIGRpc3BsYXlMYWJlbDogUmVhY3ROb2RlOyB2YWx1ZTogbnVtYmVyLCBsYWJlbDogSlNYLkVsZW1lbnRcclxuICAgIH0gfCBudWxsO1xyXG4gICAgZ2FzUHJpY2VzOiB7fTtcclxuICAgIG1lbnVJc09wZW46IGJvb2xlYW47XHJcbiAgICBxckNvZGU6IHN0cmluZyB8IG51bGw7XHJcbiAgICBtZW51SW5mb09wZW46IGJvb2xlYW47XHJcbiAgICBzZWxlY3RlZENyeXB0b1ByaWNlOiBudW1iZXIsXHJcbiAgICB0b3RhbFByaWNlOiBudW1iZXIsLy8gUHJlY2lvIHF1ZSBwYWdhIGVuIFVTRFxyXG4gICAgZmluYWxQcmljZTogc3RyaW5nLCAvLyBQcmVjaW8gZmluYWwgcXVlIHRpZW5lIHF1ZSBwYWdhclxyXG4gICAgbWVudU1ldGFtYXNrT3BlbjogYm9vbGVhbjtcclxuICAgIGV4cGlyZWRJbnZvaWNlOiBib29sZWFuO1xyXG4gICAgaW52YWxpZE5ldHdvcms6IGJvb2xlYW47XHJcbiAgICB0cmFuc2FjdGlvbnM6IHt9O1xyXG5cclxuICAgIC8vIFNURVBQRVJcclxuICAgIHN0ZXA6IG51bWJlcjtcclxuICAgIG1vZGFsUGFydGlhbFBheW1lbnQ6IGJvb2xlYW47XHJcbiAgICBtb2RhbFBhcnRpYWxQYXltZW50U2hvd246IGJvb2xlYW4sXHJcbiAgICBtb2RhbENvbXBsZXRlZFBheW1lbnQ6IGJvb2xlYW47XHJcbiAgICBtb2RhbENvbXBsZXRlZFBheW1lbnRTaG93bjogYm9vbGVhbixcclxuXHJcbiAgICAvLyBOVUVWT1MgTUVOU0FKRVMgTU9EQUxFU1xyXG4gICAgYWRkcmVzc1BheW1lbnRPcGVuOiBib29sZWFuO1xyXG4gICAgaW5mb1BheW1lbnRPcGVuOiBib29sZWFuO1xyXG4gICAgcGF5bWVudENvbXBsZXRlZE9wZW46IGJvb2xlYW47XHJcbiAgICBwYXJ0aWFsUGF5bWVudE9wZW46IGJvb2xlYW47XHJcblxyXG4gICAgLy8gY29udGFkb3QgZGUgdGllbXBvXHJcbiAgICB0aW1lTGVmdDogbnVtYmVyOyAvLyBFbiBzZWd1bmRvc1xyXG4gICAgdG90YWxUaW1lOiBudW1iZXI7XHJcbiAgICBzaG93UGFydGlhbFBheW1lbnRNb2RhbDogYm9vbGVhbjtcclxuICAgIHRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGw7XHJcblxyXG4gICAgLy8gYmlsbGV0ZXJhc1xyXG4gICAgd2FsbGV0QWRkcmVzczogc3RyaW5nO1xyXG4gICAgaXNXYWxsZXRHZW5lcmF0ZWQ6IGJvb2xlYW47XHJcbiAgICBjb250cmFjdEFkZHJlc3M6IHN0cmluZztcclxuXHJcbiAgICAvLyBDb3BpYXJcclxuICAgIGNvcGllZEFkZHJlc3M6IGJvb2xlYW47XHJcbiAgICBjb3BpZWRBbW91bnQ6IGJvb2xlYW47XHJcblxyXG4gICAgLy8gYm90b24gcGFnYXJcclxuICAgIGlzUGF5QnV0dG9uRW5hYmxlZDogYm9vbGVhbjtcclxuXHJcbiAgICAvL3RyYW5zYWNjaW9uIGlkXHJcbiAgICB0cmFuc2FjY2lvbklkOiBzdHJpbmcgfCBudWxsO1xyXG5cclxuICAgIC8vaGFzaGVzIGRlIHBhZ29cclxuICAgIGhhc2hlczogc3RyaW5nW107XHJcblxyXG4gICAgLy9DYW50aWRhZCBwYWdhZGFcclxuICAgIHBheUNvbmZpcm1lZDogbnVtYmVyO1xyXG5cclxuICAgIC8vIGdhcyBleHRyYWlkb1xyXG4gICAgZ2FzUHJpY2VzRmV0Y2hlZDogYm9vbGVhbixcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50RGF0YSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUGF5bWVudERhdGFQcm9wcywgSVBheW1lbnREYXRhU3RhdGU+IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUGF5bWVudERhdGFQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZ2FzUHJpY2VzOiB7fSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IG51bGwsXHJcbiAgICAgICAgICAgIGlzSW5mb1Zpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZW51SXNPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgLy9xckNvZGU6IG51bGxcclxuICAgICAgICAgICAgbWVudUluZm9PcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRDcnlwdG9QcmljZTogMCxcclxuICAgICAgICAgICAgdG90YWxQcmljZTogMjAsIC8vIFByZWNpbyBpbmljaWFsIGRlICQyMFxyXG4gICAgICAgICAgICBmaW5hbFByaWNlOiBcIlwiLCAvLyBQcmVjaW8gZmluYWwgcXVlIHRpZW5lIHF1ZSBwYWdhclxyXG4gICAgICAgICAgICBtZW51TWV0YW1hc2tPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgZXhwaXJlZEludm9pY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZhbGlkTmV0d29yazogZmFsc2UsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uczoge30sXHJcbiAgICAgICAgICAgIHFyQ29kZTogXCJcIixcclxuXHJcbiAgICAgICAgICAgIC8vIFNURVBQRVJcclxuICAgICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgICAgbW9kYWxQYXJ0aWFsUGF5bWVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsUGFydGlhbFBheW1lbnRTaG93bjogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsQ29tcGxldGVkUGF5bWVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsQ29tcGxldGVkUGF5bWVudFNob3duOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vIE5VRVZPUyBNRU5TQUpFUyBNT0RBTEVTXHJcbiAgICAgICAgICAgIGFkZHJlc3NQYXltZW50T3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGluZm9QYXltZW50T3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBheW1lbnRDb21wbGV0ZWRPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFydGlhbFBheW1lbnRPcGVuOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vY29udGFkb3IgZGUgdGllbXBvXHJcbiAgICAgICAgICAgIHRpbWVMZWZ0OiAzMDAsIC8vIFRpZW1wbyBlbiBzZWd1bmRvc1xyXG4gICAgICAgICAgICB0b3RhbFRpbWU6IDMwMCxcclxuICAgICAgICAgICAgc2hvd1BhcnRpYWxQYXltZW50TW9kYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aW1lcjogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIC8vIEJpbGxldGVyYVxyXG4gICAgICAgICAgICB3YWxsZXRBZGRyZXNzOiAnJyxcclxuICAgICAgICAgICAgaXNXYWxsZXRHZW5lcmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcnLFxyXG5cclxuICAgICAgICAgICAgLy8gY29waWFyXHJcbiAgICAgICAgICAgIGNvcGllZEFkZHJlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3BpZWRBbW91bnQ6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9ib3RvbiBwYWdhclxyXG4gICAgICAgICAgICBpc1BheUJ1dHRvbkVuYWJsZWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9pZCB0cmFuc2FjY2lvblxyXG4gICAgICAgICAgICB0cmFuc2FjY2lvbklkOiBudWxsLFxyXG5cclxuICAgICAgICAgICAgLy8gaGFzaGVzIGRlIHBhZ29cclxuICAgICAgICAgICAgaGFzaGVzOiBbXSBhcyBzdHJpbmdbXSxcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbnRpZGFkIHBhZ2FkYVxyXG4gICAgICAgICAgICBwYXlDb25maXJtZWQ6IDAsXHJcblxyXG4gICAgICAgICAgICAvLyBnYXMgZXh0cmFpZG9cclxuICAgICAgICAgICAgZ2FzUHJpY2VzRmV0Y2hlZDogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdhbGxldCA9IFdhbGxldExpYnJhcnkuZ2VuZXJhdGUoKTtcclxuXHJcbiAgICB0b2dnbGVJbmZvVmlzaWJpbGl0eSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICAgIGlzSW5mb1Zpc2libGU6ICFwcmV2U3RhdGUuaXNJbmZvVmlzaWJsZSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBlbCBwcmVjaW8gZGUgRXRoZXJldW0gZW4gZMOzbGFyZXMgZGVzZGUgbGEgQVBJIGRlIENvaW5HZWNrbyAoUGFyYSBlbCBHQVMgZGUgbGFzIHJlZGVzIHF1ZSBubyBtZSBkYSBPV0xSQUNMRSlcclxuICAgIGdldEV0aFByaWNlSW5Eb2xsYXJzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMvc2ltcGxlL3ByaWNlP2lkcz1ldGhlcmV1bSZ2c19jdXJyZW5jaWVzPXVzZCcpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcqKioqRXRoZXJldW0gcHJpY2U6JywgcmVzLmRhdGEuZXRoZXJldW0udXNkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmV0aGVyZXVtLnVzZDtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEV0aGVyZXVtIHByaWNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZW8gdW4gbnVldm8gbcOpdG9kbyBwYXJhIG9idGVuZXIgZWwgcHJlY2lvIGRlIGxhIGNyaXB0b21vbmVkYSBzZWxlY2Npb25hZGFcclxuICAgIGdldENyeXB0b1ByaWNlSW5Eb2xsYXJzID0gYXN5bmMgKHNlbGVjdGVkQ3J5cHRvOiBhbnkpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS9wcmljZT9pZHM9JHtzZWxlY3RlZENyeXB0bz8uaWR9JnZzX2N1cnJlbmNpZXM9dXNkYCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJy8vLy8vLyBwcmVjaW8gY3JpcHRvbW9uZWRhIGVsZWdpZGE6ICcsIHJlcy5kYXRhW3NlbGVjdGVkQ3J5cHRvPy5pZF0udXNkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhW3NlbGVjdGVkQ3J5cHRvPy5pZF0udXNkO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBwcmVjaW9zIGRlIGdhcyBkZXNkZSBsYSBBUElcclxuICAgIGdldEdhc1ByaWNlcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGNoYWlucyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgY29uc3QgZ2FzUHJpY2VzOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge307XHJcbiAgICAgICAgY29uc3QgZXRoUHJpY2VJbkRvbGxhcnMgPSBhd2FpdCB0aGlzLmdldEV0aFByaWNlSW5Eb2xsYXJzKCk7IC8vIE9idGllbmUgZWwgcHJlY2lvIGRlIEV0aGVyZXVtIGVuIGTDs2xhcmVzXHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgY2hhaW4gb2YgY2hhaW5zKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYWluLmlkID09PSA4MDAwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVsIElEIGRlIGxhIGNhZGVuYSBlcyA4MDAwMSwgaGF6IHVuYSBwZXRpY2nDs24gYSBsYSBvdHJhIEFQSVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9nYXNzdGF0aW9uLnBvbHlnb24udGVjaG5vbG9neS92MmApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY2VkZSBhbCBwcmVjaW8gJ3N0YW5kYXJkJyB5IGNvbnZpw6lydGVsbyBhIGTDs2xhcmVzXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdhc1ByaWNlSW5HV2VpID0gcmVzLmRhdGEuc3RhbmRhcmQubWF4RmVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyoqIENPU1RFUyBERSBSRUQgQVFVSSBFU1RBIEVMIERBVE8gKio6JywgcmVzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBnYXNQcmljZUluRG9sbGFycyA9IGdhc1ByaWNlSW5HV2VpICogZXRoUHJpY2VJbkRvbGxhcnMgLyAxZTk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnKioqKk1VTUJBSSBwcmljZSBnYXM6JywgZ2FzUHJpY2VJbkRvbGxhcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhc1ByaWNlc1tjaGFpbi5pZF0gPSBnYXNQcmljZUluRG9sbGFycy50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTaSBlbCBJRCBkZSBsYSBjYWRlbmEgbm8gZXMgODAwMDEsIGhheiB1bmEgcGV0aWNpw7NuIGEgbGEgQVBJIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2FwaS5vd2xyYWNsZS5pbmZvL3Y0LyR7Y2hhaW4uaWR9L2dhcz9hcGlrZXk9JHsnOWUwZGI4ZjAxMGY3NDZmZmEzYWM3OTQzOTM4ZGRjNmUnfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhc1ByaWNlc1tjaGFpbi5pZF0gPSByZXMuZGF0YS5zcGVlZHNbM10uZXN0aW1hdGVkRmVlLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnKiogQ09TVEVTIERFIFJFRCBBUVVJIEVTVEEgRUwgREFUTyAqKjonLCByZXMuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGdhcyBwcmljZSBmb3IgY2hhaW4nLCBjaGFpbi5pZCwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgZ2FzUHJpY2VzW2NoYWluLmlkXSA9IFwiMC4wMFwiOyAvLyBFc3RhYmxlY2UgZWwgcHJlY2lvIGRlbCBnYXMgYSBcIjAuMDBcIiBzaSBsYSBwZXRpY2nDs24gZmFsbGFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdFc3RvcyBzb24gbG9zIGdhc1ByaWNlczogJywgZ2FzUHJpY2VzKTtcclxuICAgICAgICByZXR1cm4gZ2FzUHJpY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByaWNlcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IGNyeXB0b1ByaWNlSW5Eb2xsYXJzID0gYXdhaXQgdGhpcy5nZXRDcnlwdG9QcmljZUluRG9sbGFycyhzZWxlY3RlZENyeXB0byk7IC8vIE9idGllbmUgZWwgcHJlY2lvIGVuIGTDs2xhcmVzXHJcbiAgICAgICAgcmV0dXJuIGNyeXB0b1ByaWNlSW5Eb2xsYXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZ1bmNpb24gcGFyYSB0cmFlciBsYXMgdHJhbnNhY2Npb25lcyBkZSBpbnRlcm5hcyAoRVRIKSB5IGV4dGVybmFzIChUb2tlbnMpXHJcbiAgICBmZXRjaFRyYW5zYWN0aW9ucyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICAvL2NvbnN0IHdhZGRyZXNzID0gJzB4YjkyZUMzMjgwMzI0NTI2ZENjMjM2NkUzMjczZkFENjVmRTY5MjQ1ZCdcclxuICAgICAgICAvLyBjYW1iaWFyIHBvciB0aGlzLnN0YXRlLndhbGxldEFkZHJlc3NcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb250cmFjdEFkZHJlc3MpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoQVBJKGBodHRwczovL2FwaS1nb2VybGkuZXRoZXJzY2FuLmlvL2FwaT9tb2R1bGU9YWNjb3VudCZhY3Rpb249dG9rZW50eCZhZGRyZXNzPSR7dGhpcy5zdGF0ZS53YWxsZXRBZGRyZXNzfSZzdGFydGJsb2NrPTAmZW5kYmxvY2s9OTk5OTk5OTkmc29ydD1kZXNjJmFwaWtleT03SkRGNE5ETkpCSlhURlFHQjRYTjlIVzNaQ05CS0NQV1k4YCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnN0IHJlcyA9IGF3YWl0IGZldGNoQVBJKGBodHRwczovL2FwaS1nb2VybGkuZXRoZXJzY2FuLmlvL2FwaT9tb2R1bGU9YWNjb3VudCZhY3Rpb249dHhsaXN0JmFkZHJlc3M9MHhiOTJlQzMyODAzMjQ1MjZkQ2MyMzY2RTMyNzNmQUQ2NWZFNjkyNDVkJnN0YXJ0YmxvY2s9MCZlbmRibG9jaz05OTk5OTk5OSZwYWdlPTEmb2Zmc2V0PTEwJnNvcnQ9ZGVzYyZhcGlrZXk9N0pERjRORE5KQkpYVEZRR0I0WE45SFczWkNOQktDUFdZOGApO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLnNldFN0YXRlKHsgdHJhbnNhY3Rpb25zOiByZXMuZGF0YS5yZXN1bHQgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnJlc3VsdDtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIC8vY29uc3QgcmVzID0gYXdhaXQgZmV0Y2hBUEkoYGh0dHBzOi8vYXBpLWdvZXJsaS5ldGhlcnNjYW4uaW8vYXBpP21vZHVsZT1hY2NvdW50JmFjdGlvbj10b2tlbnR4JmFkZHJlc3M9JHt3YWRkcmVzc30mc3RhcnRibG9jaz0wJmVuZGJsb2NrPTk5OTk5OTk5JnNvcnQ9ZGVzYyZhcGlrZXk9N0pERjRORE5KQkpYVEZRR0I0WE45SFczWkNOQktDUFdZOGApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2hBUEkoYGh0dHBzOi8vYXBpLWdvZXJsaS5ldGhlcnNjYW4uaW8vYXBpP21vZHVsZT1hY2NvdW50JmFjdGlvbj10eGxpc3QmYWRkcmVzcz0ke3RoaXMuc3RhdGUud2FsbGV0QWRkcmVzc30mc3RhcnRibG9jaz0wJmVuZGJsb2NrPTk5OTk5OTk5JnBhZ2U9MSZvZmZzZXQ9MTAmc29ydD1kZXNjJmFwaWtleT03SkRGNE5ETkpCSlhURlFHQjRYTjlIVzNaQ05CS0NQV1k4YCk7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMuc2V0U3RhdGUoeyB0cmFuc2FjdGlvbnM6IHJlcy5kYXRhLnJlc3VsdCB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMucmVzdWx0O1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdHJhbnNhY3Rpb25zOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG4gICAgc3RhcnRUaW1lciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS50aW1lTGVmdCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBpcmVkSW52b2ljZTogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4gKHsgdGltZUxlZnQ6IHByZXZTdGF0ZS50aW1lTGVmdCAtIDEgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJUaW1lciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy50aW1lciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmludGVydmFsSWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmFyIHVuYSBudWV2YSBiaWxsZXRlcmFcclxuICAgIGFzeW5jIGdlbmVyYXRlV2FsbGV0KCkge1xyXG5cclxuICAgICAgICAvLyBPYnRlbmVyIGxhIGNsYXZlIHByaXZhZGEgeSBsYSBkaXJlY2Npw7NuIGRlIGxhIGJpbGxldGVyYVxyXG4gICAgICAgIGNvbnN0IHByaXZhdGVLZXkgPSB0aGlzLndhbGxldC5nZXRQcml2YXRlS2V5U3RyaW5nKCk7XHJcbiAgICAgICAgY29uc3QgYWRkcmVzcyA9IHRoaXMud2FsbGV0LmdldEFkZHJlc3NTdHJpbmcoKTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgRGlyZWNjacOzbiBkZSBsYSBiaWxsZXRlcmE6ICR7YWRkcmVzc31gKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBDbGF2ZSBwcml2YWRhOiAke3ByaXZhdGVLZXl9YCk7XHJcblxyXG4gICAgICAgIC8vIEd1YXJkYXIgbGEgZGlyZWNjacOzbiBlbiBlbCBlc3RhZG9cclxuICAgICAgICBpZiAoYXdhaXQgdGhpcy5jcmVhdGVCaWxsZXRlcmFUZW1wKHByaXZhdGVLZXksIGFkZHJlc3MpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB3YWxsZXRBZGRyZXNzOiBhZGRyZXNzIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXIgZW4gbGEgYmFzZSBkZSBkYXRvcyBsYSBiaWxsZXRlcmFcclxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlQmlsbGV0ZXJhVGVtcChwcml2YXRlS2V5OiBzdHJpbmcsIGFkZHJlc3M6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJpbGxldGVyYVRlbXA6IEJpbGxldGVyYVRlbXAgPSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB0aGlzLnByb3BzLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25faWQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBjcnlwdG9jdXJyZW5jeV9pZDogdGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uaWQgYXMgYW55LFxyXG4gICAgICAgICAgICAgICAgcHVibGljX2tleTogYWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIHByaXZhdGVfa2V5X2VuY3J5cHRlZDogcHJpdmF0ZUtleSxcclxuICAgICAgICAgICAgICAgIGV4cGlyYXRpb25fZGF0ZTogbmV3IERhdGUoXCIyMDIzLTA3LTAxVDAwOjAwOjAwLjAwMFpcIiksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUJpbGxldGVyYVRlbXAoYmlsbGV0ZXJhVGVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udHJhY3RBZGRyZXNzQ3J5cHRvKCkge1xyXG5cclxuICAgICAgICAvL2lmKCF0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayl7XHJcbiAgICAgICAgY29uc3QgbmV0d29yayA9IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/Lm5ldHdvcmtzLmZpbmQobmV0ID0+IG5ldC5pZCA9PT0gNSk7XHJcbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBuZXR3b3JrPy5jb250cmFjdF9hZGRyZXNzO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coYERpcmVjY2nDs24gZGVsIGNvbnRyYXRvIGVuIEV0aGVyZXVtIEdvZXJsaTogJHtjb250cmFjdH1gKTtcclxuICAgICAgICAvL31cclxuICAgICAgICBpZiAoY29udHJhY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbnRyYWN0QWRkcmVzczogY29udHJhY3QgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTm8gc2UgZW5jb250csOzIGxhIGRpcmVjY2nDs24gZGVsIGNvbnRyYXRvIHBhcmEgbGEgcmVkIHNlbGVjY2lvbmFkYScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQ3JlYXIgbGEgdHJhbnNhY2Npb24gZW4gbGEgYmFzZSBkZSBkYXRvcyBwYXJhIGV4Y2hhbmdlc1xyXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVUcmFuc2FjY2lvbjIoZW1haWw6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY3J5cHRvIHNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd0cmFuc2FjY2lvbiBkZXNkZSBleGNoYW5nZScpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY2Npb246IFRyYW5zYWNjaW9uID0ge1xyXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5wcm9wcy5lbWFpbCxcclxuICAgICAgICAgICAgICAgIGNyeXB0b19pZDogdGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uaWQsXHJcbiAgICAgICAgICAgICAgICBhbW91bnRfY3J5cHRvOiBwYXJzZUZsb2F0KHRoaXMuc3RhdGUuZmluYWxQcmljZSksXHJcbiAgICAgICAgICAgICAgICBhbW91bnRfZmlhdDogdGhpcy5zdGF0ZS50b3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcclxuICAgICAgICAgICAgICAgIG5ldHdvcmtfaWQ6IFwiNVwiLFxyXG4gICAgICAgICAgICAgICAgdGVtcF93YWxsZXRfaWQ6IHRoaXMuc3RhdGUud2FsbGV0QWRkcmVzcyxcclxuICAgICAgICAgICAgICAgIGludm9pY2U6IHsgaW52b2ljZV9pZDogXCJcIiwgc2VudDogZmFsc2UsIGRvd25sb2FkZWQ6IGZhbHNlIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkVHJhbnNhY2Npb24gPSBhd2FpdCBjcmVhdGVUcmFuc2FjY2lvbih0cmFuc2FjY2lvbik7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3JlYXRlZFRyYW5zYWNjaW9uLl9pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRyYW5zYWNjaW9uSWQ6IGNyZWF0ZWRUcmFuc2FjY2lvbi5faWQgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gaGF5IElEIGRlIGxhIHRyYW5zYWNjaW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVkVHJhbnNhY2Npb24uX2lkO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBjcmVhbmRvIGxhIHRyYW5zYWNjacOzbiBkZSBleGNoYW5nZXMgZW4gbGEgYmFzZSBkZSBkYXRvcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGxvcyBlc3RhZG9zIGRlIGxhIHRyYW5zYWNjaW9uIGRlIGV4Y2hhbmdlc1xyXG4gICAgcHJpdmF0ZSBhc3luYyB1cGRhdGVUcmFuc2FjY2lvbjIoZW1haWw6IHN0cmluZywgaGFzaGVzOiBzdHJpbmdbXSwgc3RlcDogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChzdGVwID09IFwiNFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGhlcmUsIGZvciBleGFtcGxlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gZnJvbSB0aGUgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjcnlwdG8gc2VsZWN0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd0cmFuc2FjY2lvbiBkZXNkZSBleGNoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY2Npb246IFBhcnRpYWw8VHJhbnNhY2Npb24+ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hlcyxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiB0aGlzLnByb3BzLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyeXB0b19pZDogdGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50X2NyeXB0bzogcGFyc2VGbG9hdCh0aGlzLnN0YXRlLmZpbmFsUHJpY2UpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudF9maWF0OiB0aGlzLnN0YXRlLnRvdGFsUHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImNvbmZpcm1lZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldHdvcmtfaWQ6IFwiNVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBfd2FsbGV0X2lkOiB0aGlzLnN0YXRlLndhbGxldEFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZTogeyBpbnZvaWNlX2lkOiBcIlwiLCBzZW50OiBmYWxzZSwgZG93bmxvYWRlZDogZmFsc2UgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVRyYW5zYWNjaW9uKHRoaXMuc3RhdGUudHJhbnNhY2Npb25JZCBhcyBzdHJpbmcsIHRyYW5zYWNjaW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3RlcCA9PSBcIjNcIikge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWNjaW9uOiBQYXJ0aWFsPFRyYW5zYWNjaW9uPiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIndhaXRpbmdfZm9yX2NvbmZpcm1hdGlvbnNcIixcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVUcmFuc2FjY2lvbih0aGlzLnN0YXRlLnRyYW5zYWNjaW9uSWQgYXMgc3RyaW5nLCB0cmFuc2FjY2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0ZXAgPT0gXCIyXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjY2lvbjogUGFydGlhbDxUcmFuc2FjY2lvbj4gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogaGFzaGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ1bmRlcnBhaWRcIixcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVUcmFuc2FjY2lvbih0aGlzLnN0YXRlLnRyYW5zYWNjaW9uSWQgYXMgc3RyaW5nLCB0cmFuc2FjY2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhY3R1YWxpemFuZG8gbGEgdHJhbnNhY2Npw7NuIGRlIGV4Y2hhbmdlcyBlbiBsYSBiYXNlIGRlIGRhdG9zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZWwgdXN1YXJpbyBjb24gbGEgdHJhc2FjY2lvbiByZWFsaXphZGFcclxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlVXNlcjIoZW1haWw6IHN0cmluZywgbmV3VHJhbnNhY3Rpb25JZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gT2J0ZW5lciBlbCB1c3VhcmlvIGV4aXN0ZW50ZVxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IGZpbmRPbmVVc3VhcmlvKGVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXIgdW5hIG51ZXZhIGxpc3RhIGRlIElEcyBxdWUgaW5jbHV5ZSBsb3MgZXhpc3RlbnRlcyB5IGxhIG51ZXZhXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VHJhbnNhY3Rpb25JZHMgPSBjdXJyZW50VXNlci50cmFuc2FjdGlvbl9pZHMgfHwgW107IC8vIFV0aWxpemFyIHVuIGFycmF5IHZhY8OtbyBzaSBlcyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvbklkcyA9IFsuLi5jdXJyZW50VHJhbnNhY3Rpb25JZHMsIG5ld1RyYW5zYWN0aW9uSWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJVcGRhdGU6IFBhcnRpYWw8VXN1YXJpbz4gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0czogW3sgYWRkcmVzczogXCJleGNoYW5nZSB3YWxsZXRcIiwgbmV0d29yazogXCI1XCIgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb25faWRzOiB1cGRhdGVkVHJhbnNhY3Rpb25JZHMsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVVc3VhcmlvKGVtYWlsLCB1c2VyVXBkYXRlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE1hbmVqYXIgZWwgY2FzbyBjdWFuZG8gZWwgdXN1YXJpbyBubyBzZSBlbmN1ZW50cmFcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTWFuZWphciBlbCBlcnJvclxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNZXRvZG8gcGFyYSBjb21wb3JiYXIgbGFzIHRyYXNuY2Npb25lcywgY29tcHJvYmFyIGxvcyAyIGJsb3F1ZXMgZW4gbGEgY2FkZW5hIHkgdmVyaWZpY2FyIHF1ZSBlcyBzdXBlcmlvciBhIGxhIGNhbnRpZGFkXHJcbiAgICBwcml2YXRlIGNoZWNrUGF5bWVudFN0YXR1cyA9IGFzeW5jICh0cmFuc2FjdGlvbnM6IGFueVtdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG90YWxBbW91bnROZWVkZWQgPSAyMC4wMDtcclxuICAgICAgICBsZXQgdG90YWxSZWNlaXZlZCA9IDA7XHJcbiAgICAgICAgbGV0IHRvdGFsQ29uZmlybWVkID0gMDtcclxuICAgICAgICAvLyBUT0RPIGNhbWJpYXIgcGFyYSBjb21wcm9iYXIgZGlyZWNjaW9uIHJlYWxcclxuICAgICAgICAvL2NvbnN0IGRlc2lyZWRUb0FkZHJlc3MgPSBcIjB4YjkyZUMzMjgwMzI0NTI2ZENjMjM2NkUzMjczZkFENjVmRTY5MjQ1ZFwiO1xyXG4gICAgICAgIC8vY29uc3QgZGVzaXJlZENvbnRyYWN0QWRkcmVzcyA9IFwiMHgyZThkOThmZDEyNmEzMjM2MmYyYmQ4YWE0MjdlNTlhMWVjNjNmNzgwXCI7XHJcbiAgICAgICAgY29uc3QgZGVzaXJlZFRvQWRkcmVzcyA9IHRoaXMuc3RhdGUud2FsbGV0QWRkcmVzcztcclxuICAgICAgICB0aGlzLmdldENvbnRyYWN0QWRkcmVzc0NyeXB0bygpO1xyXG4gICAgICAgIGNvbnN0IGRlc2lyZWRDb250cmFjdEFkZHJlc3MgPSB0aGlzLnN0YXRlLmNvbnRyYWN0QWRkcmVzcztcclxuICAgICAgICBjb25zdCBwYXJ0aWFsQW1vdW50ID0gdGhpcy5zdGF0ZS50b3RhbFByaWNlIC8gdGhpcy5zdGF0ZS5zZWxlY3RlZENyeXB0b1ByaWNlO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGFydGlhbEFtb3VudC50b0ZpeGVkKDgpKTtcclxuICAgICAgICBjb25zdCB0b3RhbFByaWNlRml4ZWQgPSBwYXJzZUZsb2F0KHBhcnRpYWxBbW91bnQudG9GaXhlZCg1KSk7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ0VOVFJPIEFRVUk6ICcsIGRlc2lyZWRDb250cmFjdEFkZHJlc3MpO1xyXG5cclxuICAgICAgICBsZXQgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodHJhbnNhY3Rpb25zKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucy5maWx0ZXIoKHR4OiB7IHRvOiBzdHJpbmc7IGNvbnRyYWN0QWRkcmVzczogc3RyaW5nOyB9KSA9PlxyXG4gICAgICAgICAgICAgICAgdHgudG8udG9Mb3dlckNhc2UoKSA9PT0gZGVzaXJlZFRvQWRkcmVzcy50b0xvd2VyQ2FzZSgpICYmXHJcbiAgICAgICAgICAgICAgICB0eC5jb250cmFjdEFkZHJlc3MudG9Mb3dlckNhc2UoKSA9PT0gZGVzaXJlZENvbnRyYWN0QWRkcmVzcy50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkZXNpcmVkQ29udHJhY3RBZGRyZXNzICYmIEFycmF5LmlzQXJyYXkodHJhbnNhY3Rpb25zKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFRyYW5zYWN0aW9ucyA9IHRyYW5zYWN0aW9ucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2ZpbHRyYWRhczogJywgZmlsdGVyZWRUcmFuc2FjdGlvbnMpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB0eCBvZiBmaWx0ZXJlZFRyYW5zYWN0aW9ucykge1xyXG4gICAgICAgICAgICBjb25zdCB0b2tlbkRlY2ltYWwgPSB0eC50b2tlbkRlY2ltYWwgfHwgMTg7XHJcbiAgICAgICAgICAgIHRvdGFsUmVjZWl2ZWQgKz0gdHgudmFsdWUgLyBNYXRoLnBvdygxMCwgdG9rZW5EZWNpbWFsKTtcclxuICAgICAgICAgICAgaWYgKHR4LmNvbmZpcm1hdGlvbnMgPj0gMikge1xyXG4gICAgICAgICAgICAgICAgdG90YWxDb25maXJtZWQgKz0gdHgudmFsdWUgLyBNYXRoLnBvdygxMCwgdG9rZW5EZWNpbWFsKTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3RvdGFsIGNvbmZpcm1hZGFzOiAnLCB0b3RhbENvbmZpcm1lZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXlDb25maXJtZWQ6IHRvdGFsQ29uZmlybWVkXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBoYXNoZXMgPSBmaWx0ZXJlZFRyYW5zYWN0aW9ucy5tYXAodHggPT4gdHguaGFzaCk7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGhhc2hlczogaGFzaGVzIH0pO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2VsIG51bWVybyBkZSBoYXNoZXMgdG90YWxlczogLyovKioqLy8qLyovKi8qJywgaGFzaGVzKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnRyYW5zYWNjaW9uSWQpIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3VHJhbnNhY3Rpb25JZCA9IGF3YWl0IHRoaXMuY3JlYXRlVHJhbnNhY2Npb24yKHRoaXMucHJvcHMuZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5ld1RyYW5zYWN0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVXNlcjIodGhpcy5wcm9wcy5lbWFpbCwgbmV3VHJhbnNhY3Rpb25JZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBsYSB0cmFuc2FjY2nDs24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRvdGFsQ29uZmlybWVkID49IHRvdGFsUHJpY2VGaXhlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RlcDogNCB9KTsgLy8gUGFnbyBjb21wbGV0YWRvXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVHJhbnNhY2Npb24yKHRoaXMucHJvcHMuZW1haWwsIGhhc2hlcywgXCI0XCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLm1vZGFsQ29tcGxldGVkUGF5bWVudFNob3duKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheW1lbnRDb21wbGV0ZWRPcGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbENvbXBsZXRlZFBheW1lbnRTaG93bjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsUmVjZWl2ZWQgPj0gdG90YWxQcmljZUZpeGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGVwOiAzIH0pOyAvLyBFc3BlcmFuZG8gY29uZmlybWFjacOzblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zYWNjaW9uMih0aGlzLnByb3BzLmVtYWlsLCBoYXNoZXMsIFwiM1wiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRvdGFsUmVjZWl2ZWQgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGVwOiAyIH0pOyAvLyBQYWdvIHBhcmNpYWxtZW50ZSByZWNpYmlkb1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zYWNjaW9uMih0aGlzLnByb3BzLmVtYWlsLCBoYXNoZXMsIFwiMlwiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLm1vZGFsUGFydGlhbFBheW1lbnRTaG93bikge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxQYXltZW50T3BlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxQYXJ0aWFsUGF5bWVudFNob3duOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvKmVsc2Uge1xyXG4gICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzdGVwOiAxIH0pOyAvLyBFc3BlcmFuZG8gcGFnb1xyXG4gICAgICAgfSovXHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgc2Vjb25kcyA9IDA7XHJcbiAgICBwcml2YXRlIHRyYW5zYWN0aW9uczogYW55W10gPSBbXTtcclxuXHJcbiAgICAvLyBNZXRvZG8gcGFyYSBzaW11bGFyIHRyYW5zYWNjaW9uZXNcclxuICAgIHByaXZhdGUgc2ltdWxhdGVUcmFuc2FjdGlvbnMgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzICs9IDE7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZWNvbmRzID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zYWN0aW9ucy5wdXNoKHRoaXMuY3JlYXRlVHJhbnNhY3Rpb24oNCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Vjb25kcyA9PT0gNykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVRyYW5zYWN0aW9uKDEwKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWNvbmRzID09PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVRyYW5zYWN0aW9uKDcpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGVja1BheW1lbnRTdGF0dXModGhpcy50cmFuc2FjdGlvbnMpO1xyXG4gICAgICAgIH0sIDYwMDApOyAgLy8gQ2FkYSBzZWd1bmRvXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENyZWFyIHVuIHN0cmFuc2FjY2lvbiBzaW11bGFkYVxyXG4gICAgcHJpdmF0ZSBjcmVhdGVUcmFuc2FjdGlvbiA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVzaXJlZFRvQWRkcmVzcyA9IFwiMHhiOTJlQzMyODAzMjQ1MjZkQ2MyMzY2RTMyNzNmQUQ2NWZFNjkyNDVkXCI7XHJcbiAgICAgICAgY29uc3QgZGVzaXJlZENvbnRyYWN0QWRkcmVzcyA9IFwiMHgyZThkOThmZDEyNmEzMjM2MmYyYmQ4YWE0MjdlNTlhMWVjNjNmNzgwXCI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYmxvY2tIYXNoOiBcIjB4YTNkMTc2NWJjMTA5OWQ2MjUzZWYzODk5MmMyNTcwOTJkYTMzNDg4ZDU3NmI4NWVmYTMzODk4MDg1NzQ5OWI0MlwiLFxyXG4gICAgICAgICAgICBibG9ja051bWJlcjogXCI5MjIxMTYxXCIsXHJcbiAgICAgICAgICAgIGNvbmZpcm1hdGlvbnM6IFwiMzQxMTRcIixcclxuICAgICAgICAgICAgY29udHJhY3RBZGRyZXNzOiBkZXNpcmVkQ29udHJhY3RBZGRyZXNzLFxyXG4gICAgICAgICAgICBjdW11bGF0aXZlR2FzVXNlZDogXCIyOTc1NTEwXCIsXHJcbiAgICAgICAgICAgIGZyb206IFwiMHhiOTJlYzMyODAzMjQ1MjZkY2MyMzY2ZTMyNzNmYWQ2NWZlNjkyNDVkXCIsXHJcbiAgICAgICAgICAgIGdhczogXCI3NzQ2OVwiLFxyXG4gICAgICAgICAgICBnYXNQcmljZTogXCIxNTAwMDAwMDE2XCIsXHJcbiAgICAgICAgICAgIGdhc1VzZWQ6IFwiNTE2NDZcIixcclxuICAgICAgICAgICAgaGFzaDogXCIweGEwMzM2ZmE4MTUzNmY0ZGNiZTZiZmU0MDRkMzkwZDhkYWU5OThiMmQ1ZTEzMjVmMTgxMzc1OGM4OGI2NmE0MTJcIixcclxuICAgICAgICAgICAgaW5wdXQ6IFwiZGVwcmVjYXRlZFwiLFxyXG4gICAgICAgICAgICBub25jZTogXCIyN1wiLFxyXG4gICAgICAgICAgICB0aW1lU3RhbXA6IFwiMTY4NzQzNjgwOFwiLFxyXG4gICAgICAgICAgICB0bzogZGVzaXJlZFRvQWRkcmVzcyxcclxuICAgICAgICAgICAgdG9rZW5EZWNpbWFsOiBcIjZcIixcclxuICAgICAgICAgICAgdG9rZW5OYW1lOiBcIlVTRFRcIixcclxuICAgICAgICAgICAgdG9rZW5TeW1ib2w6IFwiVVNEVFwiLFxyXG4gICAgICAgICAgICB0cmFuc2FjdGlvbkluZGV4OiBcIjI0XCIsXHJcbiAgICAgICAgICAgIHZhbHVlOiBTdHJpbmcodmFsdWUgKiBNYXRoLnBvdygxMCwgNikpICAvLyBNdWx0aXBsaWNhIGJ5IDEwXjYgZGVjaW1hbGVzIGRlIFVTRFRcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDb21wcnVlYmEgdW5hIHZleiBhbGd1bmFzIGNvc2FzIGNvbW8gc2kgZXMgZXhjaGFuZ2UsIGxvcyBwcmVjaW9zIGRlbCBnYXMsIHRyYW5zYWNjaW9uZXMgeSBvdHJvcyBwcmVjaW9zLlxyXG4gICAgcHVibGljIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG5cclxuICAgICAgICBjb25zdCBjb21wcm9iYXJFc0V4Y2hhbmdlID0gdGhpcy5pc0V4Y2hhbmdlKHRoaXMucHJvcHMud2FsbGV0RXhjaGFuZ2UpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXNXYWxsZXRHZW5lcmF0ZWQgJiYgIWNvbXByb2JhckVzRXhjaGFuZ2UpIHtcclxuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVdhbGxldCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWVyKCk7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBsb3MgcHJlY2lvcyBkZWwgZ2FzIGRlIGxhcyBjYWRlbmFzXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmdhc1ByaWNlc0ZldGNoZWQpIHtcclxuICAgICAgICAgICAgLy8gT2J0ZW5lciBsb3MgcHJlY2lvcyBkZWwgZ2FzIGRlIGxhcyBjYWRlbmFzXHJcbiAgICAgICAgICAgIGNvbnN0IGdhc1ByaWNlcyA9IGF3YWl0IHRoaXMuZ2V0R2FzUHJpY2VzKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoZ2FzUHJpY2VzKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGdhc1ByaWNlc0ZldGNoZWQ6IHRydWUsIHNlbGVjdGVkT3B0aW9uOiBvcHRpb25zWzBdLCBnYXNQcmljZXMgfSk7ICAvLyBBY3R1YWxpemFyIGxhIHZhcmlhYmxlIGEgdHJ1ZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdHJhbnNhY2Npb25lcyA9IGF3YWl0IHRoaXMuZmV0Y2hUcmFuc2FjdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnbGFzIHRyYW5zYWNjaW9uZXMgJywgdHJhbnNhY2Npb25lcyk7XHJcblxyXG4gICAgICAgIC8vIE9idGVuZXIgcHJlY2lvIGRlIGxhIGNyaXB0b21vbmVkYSB5IGNhbGN1bGFyIGVuIGxhIGNhbnRpZGFkIHBhcmEgZGVzcHVlcyBoYWNlciBlbCBmaXhlZFxyXG4gICAgICAgIGNvbnN0IGNyeXB0b1ByaWNlID0gYXdhaXQgdGhpcy5nZXRQcmljZXMoKTtcclxuICAgICAgICBjb25zdCBwYXJ0aWFsQW1vdW50ID0gdGhpcy5zdGF0ZS50b3RhbFByaWNlIC8gY3J5cHRvUHJpY2U7XHJcbiAgICAgICAgY29uc3QgcHJpY2VGaXhlZCA9IHBhcnRpYWxBbW91bnQudG9GaXhlZCg4KVxyXG5cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRPcHRpb246IG9wdGlvbnNbMF0sIGdhc1ByaWNlcywgc2VsZWN0ZWRDcnlwdG9QcmljZTogY3J5cHRvUHJpY2UsIGZpbmFsUHJpY2U6IHByaWNlRml4ZWQsIHRyYW5zYWN0aW9uczogdHJhbnNhY2Npb25lcyB9KTtcclxuXHJcbiAgICAgICAgLy9jb25zdCBxckNvZGUgPSBhd2FpdCB0aGlzLmdldFFSKCk7XHJcbiAgICAgICAgLy90aGlzLnNldFN0YXRlKHsgcXJDb2RlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvLCBzZWxlY3RlZE5ldHdvcmssIGhhbmRsZU5ldHdvcmtDaGFuZ2UsIHN3aXRjaE5ldHdvcmssIGNoYWlucywgaXNMb2FkaW5nLCBwZW5kaW5nQ2hhaW5JZCwgY3J5cHRvTmV0d29ya3MsIGlzRXJyb3IsIGRhdGEsIGJhbGFuY2VzIH0gPSB0aGlzLnByb3BzO1xyXG5cclxuICAgICAgICBpZiAoIWNoYWlucy5zb21lKCh4KSA9PiB4LmlkID09PSBwYXJzZUludChzZWxlY3RlZE5ldHdvcmssIDEwKSkpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpbnZhbGlkTmV0d29yazogdHJ1ZSB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdlc3RhIGVzIGxhIG5ldHdvcms6ICcsIHNlbGVjdGVkTmV0d29yayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIC8vIEFjdHVsaXphciBlbCBRUiB5IGNyZWFyIG51ZXZhIHRyYW5zYWNjaW9uXHJcbiAgICBwdWJsaWMgYXN5bmMgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUmVhZG9ubHk8SVBheW1lbnREYXRhUHJvcHM+LCBwcmV2U3RhdGU6IFJlYWRvbmx5PElQYXltZW50RGF0YVN0YXRlPiwgc25hcHNob3Q/OiBhbnkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUucXJDb2RlICYmICF0aGlzLmlzRXhjaGFuZ2UodGhpcy5wcm9wcy53YWxsZXRFeGNoYW5nZSkgJiYgdGhpcy5zdGF0ZS5zdGVwID09PSAxICYmIHRoaXMuaW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGRlc2NvbWVudGEgbGFzIGRvcyBsaW5lYXMgZGUgYWJham8gY3VhbmRvIHF1aWVyYXMgcXVlIGVsIGNvZGlnbyBRUiBzZSBlamVjdXRlXHJcbiAgICAgICAgICAgIC8vY29uc3QgcXIgPSBhd2FpdCB0aGlzLmdldFFSQ29kZSgpO1xyXG4gICAgICAgICAgICAvL2lmIChxcikgdGhpcy5zZXRTdGF0ZSh7IHFyQ29kZTogcXIgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBOb3cgc2V0IGEgbmV3IGludGVydmFsXHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHRoaXMuZmV0Y2hEYXRhQW5kVXBkYXRlU3RlcCgpLCAzMDAwKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICAgICAgICAvL3RoaXMuc2ltdWxhdGVUcmFuc2FjdGlvbnMoKTtcclxuICAgICAgICAgICAgLy8gVE9ETyBjb21lbnRhIGxhIGxpbmVhIHRoaXMuc2ltdWxhdGVUcmFuc2FjdGlvbnMoKSB5IGRlc2NvbWVudGEgbGEgc3VwZXJpb3IgcGFyYSBxdWUgZnVuY2lvbmUgZW4gdW4gZW50b3JubyByZWFsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjb21wcm9iYXIgYm90b24gZGUgcGFnb1xyXG5cclxuICAgICAgICBjb25zdCBjb21wcm9iYXJFc0V4Y2hhbmdlID0gdGhpcy5pc0V4Y2hhbmdlKHRoaXMucHJvcHMud2FsbGV0RXhjaGFuZ2UpO1xyXG5cclxuICAgICAgICBpZiAoY29tcHJvYmFyRXNFeGNoYW5nZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5iYWxhbmNlcyAhPT0gcHJldlByb3BzLmJhbGFuY2VzIHx8IHRoaXMuc3RhdGUuZmluYWxQcmljZSAhPT0gcHJldlN0YXRlLmZpbmFsUHJpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tJZlBheUJ1dHRvblNob3VsZEJlRW5hYmxlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoKHRoaXMucHJvcHMuaXNTdWNjZXNzQ29pbiB8fCB0aGlzLnByb3BzLmlzU3VjY2Vzc1Rva2VuKSAmJiAhdGhpcy5zdGF0ZS5wYXltZW50Q29tcGxldGVkT3Blbikge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzZSBoYSBjb21wbGV0YWRvIGVsIHBhZ28nKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc2UgaGEgY29tcGxldGFkbyBlbCBwYWdvIENvaW4nLCB0aGlzLnByb3BzLmRhdGFIYXNoQ29pbik7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NlIGhhIGNvbXBsZXRhZG8gZWwgcGFnbyBUb2tlbicsIHRoaXMucHJvcHMuZGF0YUhhc2hUb2tlbik7XHJcblxyXG4gICAgICAgICAgICBsZXQgaGFzaCA9IHRoaXMucHJvcHMuaXNTdWNjZXNzQ29pbiA/IHRoaXMucHJvcHMuZGF0YUhhc2hDb2luIDogdGhpcy5wcm9wcy5kYXRhSGFzaFRva2VuO1xyXG4gICAgICAgICAgICBpZiAoaGFzaCAmJiBoYXNoLmhhc2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRDb21wbGV0ZWRPcGVuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc2hlczogW2hhc2guaGFzaF0gLy8gQXNpZ25hIGVsIHZhbG9yIGRlIGhhc2guaGFzaCBlbiB1biBhcnJheVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBhY2NlZGVyIGEgbGEgcHJvcGllZGFkIGhhc2ggZGVsIG9iamV0bycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhciBsYSB0cmFuc2FjY2lvbiB5IGFjdHVhbGl6YXIgdXN1YXJpbyBjb24gZWwgSUQgZGUgbGEgdHJhbnNhY2Npb25cclxuICAgICAgICAgICAgY29uc3QgbmV3VHJhbnNhY3Rpb25JZCA9IGF3YWl0IHRoaXMuY3JlYXRlVHJhbnNhY2Npb24odGhpcy5wcm9wcy5lbWFpbCk7XHJcbiAgICAgICAgICAgIGlmIChuZXdUcmFuc2FjdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVVzZXIodGhpcy5wcm9wcy5lbWFpbCwgbmV3VHJhbnNhY3Rpb25JZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjcmVhciBsYSB0cmFuc2FjY2nDs24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHVwZGF0ZVVzZXIoZW1haWw6IHN0cmluZywgbmV3VHJhbnNhY3Rpb25JZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gT2J0ZW5lciBlbCB1c3VhcmlvIGV4aXN0ZW50ZVxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VXNlciA9IGF3YWl0IGZpbmRPbmVVc3VhcmlvKGVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VXNlcikge1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXIgdW5hIG51ZXZhIGxpc3RhIGRlIElEcyBxdWUgaW5jbHV5ZSBsb3MgZXhpc3RlbnRlcyB5IGxhIG51ZXZhXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VHJhbnNhY3Rpb25JZHMgPSBjdXJyZW50VXNlci50cmFuc2FjdGlvbl9pZHMgfHwgW107IC8vIFV0aWxpemFyIHVuIGFycmF5IHZhY8OtbyBzaSBlcyB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvbklkcyA9IFsuLi5jdXJyZW50VHJhbnNhY3Rpb25JZHMsIG5ld1RyYW5zYWN0aW9uSWRdO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJVcGRhdGU6IFBhcnRpYWw8VXN1YXJpbz4gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbGV0czogW3sgYWRkcmVzczogdGhpcy5wcm9wcy5hZGRyZXNzLCBuZXR3b3JrOiB0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayB9XSxcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbl9pZHM6IHVwZGF0ZWRUcmFuc2FjdGlvbklkcyxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVVzdWFyaW8oZW1haWwsIHVzZXJVcGRhdGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHNlIGVuY3VlbnRyYSBlbCB1c3VhcmlvJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhbCBhY3R1YWxpemFyIGVsIHVzdWFyaW8nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENyZWFyIHRyYW5zYWNjaW9uIGRlc2RlIGJpbGxldGVyYVxyXG4gICAgcHJpdmF0ZSBhc3luYyBjcmVhdGVUcmFuc2FjY2lvbihlbWFpbDogc3RyaW5nKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bykge1xyXG5cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNyeXB0byBzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgaWQgPSBudWxsXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5kYXRhSGFzaENvaW4pIHtcclxuICAgICAgICAgICAgICAgIGlkID0gdGhpcy5wcm9wcy5kYXRhSGFzaENvaW4uaGFzaDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlkID0gdGhpcy5wcm9wcy5kYXRhSGFzaFRva2VuLmhhc2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtJZCA9IHBhcnNlRmxvYXQodGhpcy5wcm9wcy5zZWxlY3RlZE5ldHdvcmspO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZE5ldHdvcmsgPSB0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvLm5ldHdvcmtzLmZpbmQobmV0d29yayA9PiBuZXR3b3JrLmlkID09PSBuZXR3b3JrSWQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkTmV0d29yayAmJiBzZWxlY3RlZE5ldHdvcmsuY29udHJhY3RfcGF5KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wX3dhbGxldF9pZCA9IHNlbGVjdGVkTmV0d29yay5jb250cmFjdF9wYXk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY2Npb246IFRyYW5zYWNjaW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMucHJvcHMuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgY3J5cHRvX2lkOiB0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvPy5pZCxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnRfY3J5cHRvOiBwYXJzZUZsb2F0KHRoaXMuc3RhdGUuZmluYWxQcmljZSksXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50X2ZpYXQ6IHRoaXMuc3RhdGUudG90YWxQcmljZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiY29uZmlybWVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV0d29ya19pZDogdGhpcy5wcm9wcy5zZWxlY3RlZE5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcF93YWxsZXRfaWQ6IHRlbXBfd2FsbGV0X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGludm9pY2U6IHsgaW52b2ljZV9pZDogXCJcIiwgc2VudDogZmFsc2UsIGRvd25sb2FkZWQ6IGZhbHNlIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RyYW5zYWNjaW9uID0gYXdhaXQgY3JlYXRlVHJhbnNhY2Npb24odHJhbnNhY2Npb24pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1RyYW5zYWNjaW9uLl9pZDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gbmV0d29yayB3aXRoIGlkICR7bmV0d29ya0lkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzdWx0YWRvcyBkZWwgc2VsZWN0b3IgZGUgcmVkZXNcclxuICAgIHByaXZhdGUgZ2V0T3B0aW9ucyhnYXNQcmljZXM6IGFueSk6IHsgdmFsdWU6IG51bWJlcjsgbGFiZWw6IEpTWC5FbGVtZW50OyBkaXNwbGF5TGFiZWw6IEpTWC5FbGVtZW50IH1bXSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgaXNMb2FkaW5nLCBwZW5kaW5nQ2hhaW5JZCwgY3J5cHRvTmV0d29ya3MgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZE9wdGlvbiB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hhaW5zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29tcGF0aWJsZVdpdGhDcnlwdG8gPSBjcnlwdG9OZXR3b3Jrcy5zb21lKFxyXG4gICAgICAgICAgICAgICAgICAgIChuZXR3b3JrKSA9PiBuZXR3b3JrLmlkID09PSB4LmlkXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZXN0byBlcyBsYSBpc0NvbXBhdGlibGVXaXRoQ3J5cHRvOiAnLCBpc0NvbXBhdGlibGVXaXRoQ3J5cHRvKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0NvbXBhdGlibGVXaXRoQ3J5cHRvO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAubWFwKCh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXR3b3JrID0gY3J5cHRvTmV0d29ya3MuZmluZCgobmV0d29yaykgPT4gbmV0d29yay5pZCA9PT0geC5pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZXN0byBlcyBsYSBuZXR3b3JrOiAnLCBuZXR3b3JrKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvZ28gPSBuZXR3b3JrID8gbmV0d29yay5pbWFnZSA6ICdkZWZhdWx0X2xvZ28ucG5nJztcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB4LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VzdG9tLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1sb2dvMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwicmVkLWxvZ28yXCIgc3JjPXtcIi9wYXNhcmVsYS9cIiArIGxvZ299IGFsdD17YCR7eC5uYW1lfSBsb2dvYH0gLz4gey8qIExvZ28gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldHdvcmstbmFtZVwiPnt4Lm5hbWV9PC9zcGFuPiB7LyogTm9tYnJlICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZ2FzLXByaWNlXCI+Q29zdGUgZGUgZ2FzOiB7Z2FzUHJpY2VzW3guaWRdfSQ8L3NwYW4+IHsvKiBQcmVjaW8gZGVsIGdhcyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmcgJiYgcGVuZGluZ0NoYWluSWQgPT09IHguaWQgJiYgPHNwYW4gY2xhc3NOYW1lPVwic3dpdGNoaW5nLWluZGljYXRvclwiPihzd2l0Y2hpbmcpPC9zcGFuPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2lyY2xlLWljb24tYm9yZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkT3B0aW9uICYmIHNlbGVjdGVkT3B0aW9uLnZhbHVlID09PSB4LmlkICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaXJjbGUtaWNvbi1maWxsXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxhYmVsOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1c3RvbS1sYWJlbCBzbWFsbC1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwicmVkLWxvZ29cIiBzcmM9e1wiL3Bhc2FyZWxhL1wiICsgbG9nb30gYWx0PXtgJHt4Lm5hbWV9IGxvZ29gfSAvPiB7LyogTG9nbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuZXR3b3JrLW5hbWVcIj57eC5uYW1lfTwvc3Bhbj4gey8qIE5vbWJyZSAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogTUVUT0RPUyBQQVJBIExPUyBNRU5TQUpFUyBNT0RBTEVTICovXHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NlbGVjdE9wYWNpdHkoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWVudUlzT3Blbikge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTZWxlY3RPcGFjaXR5SW5mbygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubWVudUluZm9PcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyMj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuMicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTZWxlY3RPcGFjaXR5TWV0YW1hc2tJbmZvKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBtYWluV3JhcHBlcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZW51TWV0YW1hc2tPcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyMj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuMycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTZWxlY3RFeHBpcmVkSW52b2ljZUluZm8oKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmZhY2UtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmV4cGlyZWRJbnZvaWNlKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyMj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuNCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW40Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTZWxlY3RJbnZhbGlkTmV0d29ya0luZm8oKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmZhY2UtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmludmFsaWROZXR3b3JrKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyMj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuNScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW41Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vQ29tcHJvYmFyIHNpIGVzIGV4Y2hhbmdlXHJcbiAgICBwcml2YXRlIGlzRXhjaGFuZ2Uod2FsbGV0RXhjaGFuZ2U6IFdhbGxldCB8IEV4Y2hhbmdlIHwgbnVsbCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIC8vIFNpIHdhbGxldEV4Y2hhbmdlIGVzIG51bGwsIGRldnVlbHZlIGZhbHNlLlxyXG4gICAgICAgIGlmICh3YWxsZXRFeGNoYW5nZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckluZm9Db250YWluZXIoKSB7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5tZW51SW5mb09wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0aGlzLnN0YXRlLnRpbWVMZWZ0IC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLnN0YXRlLnRpbWVMZWZ0ICUgNjA7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGEgZWwgaW1wb3J0ZSBwYXJjaWFsXHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZENyeXB0byB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBwYXJ0aWFsQW1vdW50ID0gdGhpcy5zdGF0ZS50b3RhbFByaWNlIC8gdGhpcy5zdGF0ZS5zZWxlY3RlZENyeXB0b1ByaWNlO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGFydGlhbEFtb3VudC50b0ZpeGVkKDgpKTtcclxuICAgICAgICBjb25zdCBwcmljZUZpeGVkID0gcGFydGlhbEFtb3VudC50b0ZpeGVkKDgpXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXByb2JhckVzRXhjaGFuZ2UgPSB0aGlzLmlzRXhjaGFuZ2UodGhpcy5wcm9wcy53YWxsZXRFeGNoYW5nZSk7XHJcbiAgICAgICAgY29uc3QgcGF5ZWQgPSB0aGlzLnN0YXRlLnBheUNvbmZpcm1lZDtcclxuICAgICAgICBjb25zdCBwYXllZEZpeGVkID0gcGF5ZWQudG9GaXhlZCg4KVxyXG5cclxuICAgICAgICBjb25zdCBwcmljZUZpeGVkTnVtYmVyID0gcGFyc2VGbG9hdChwcmljZUZpeGVkKTtcclxuICAgICAgICBjb25zdCBwYXllZEZpeGVkTnVtYmVyID0gcGFyc2VGbG9hdChwYXllZEZpeGVkKTtcclxuICAgICAgICBjb25zdCBwYXllZFBlbmRpbmcgPSBwcmljZUZpeGVkTnVtYmVyIC0gcGF5ZWRGaXhlZE51bWJlcjtcclxuICAgICAgICBjb25zdCBwYXllZFBlbmRpbmdGaXhlZCA9IHBheWVkUGVuZGluZy50b0ZpeGVkKDgpO1xyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWNvbnRhaW5lclwiID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImluZm8tdGltZVwiPkVudsOtZSBzdSBwYWdvIGVuIHttaW51dGVzfTp7c2Vjb25kcyA8IDEwID8gJzAnIDogJyd9e3NlY29uZHN9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNsb3NlLW1vZGFsXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IG1lbnVJbmZvT3BlbjogZmFsc2UgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+UHJlY2lvIHRvdGFsOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPnt0aGlzLnN0YXRlLnRvdGFsUHJpY2V9IFVTRDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPlRpcG8gZGUgY2FtYmlvOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPnt0aGlzLnN0YXRlLnNlbGVjdGVkQ3J5cHRvUHJpY2V9IFVTRDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPkltcG9ydGUgcGFyY2lhbDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj57cHJpY2VGaXhlZH0ge3NlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHsvKiBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+Q29zdGUgZGUgcmVkOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPi4uLiB7dGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uc3ltYm9sfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAqL31cclxuICAgICAgICAgICAgICAgIHshY29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SGEgc2lkbyBwYWdhZG86PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPntwYXllZEZpeGVkfSB7c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbS10b3RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPkltcG9ydGUgdG90YWw6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3BheWVkUGVuZGluZ0ZpeGVkfSB7dGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uc3ltYm9sfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW5mb01ldGFtYXNrQ29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5tZW51TWV0YW1hc2tPcGVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLW1ldGFtYXNrLWNvbnRhaW5lclwiID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImluZm8tdGltZVwiPkVzY2FuZWEgcGFyYSBjb250aW51YXIgZW4gTWV0YW1hc2s8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY2xvc2UtbW9kYWxcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbWVudU1ldGFtYXNrT3BlbjogZmFsc2UgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbWctcXJcIiBzcmM9XCJwYXNhcmVsYS9xci1jb2RlLnBuZ1wiPjwvaW1nPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW5mb0V4cGlyZWRJbnZvaWNlQ29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5leHBpcmVkSW52b2ljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1leHBpcmVkLWludm9pY2UtY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+RmFjdHVyYSBjYWR1Y2FkYTwvaDM+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+VW5hIGZhY3R1cmEgc29sbyBlcyB2w6FsaWRhIGR1cmFudGUgMTUgbWludXRvcy4gU2kgcXVpZXJlIGNyZWFyIG90cmEgcGFyYSByZWFsaXphciBlbCBwYWdvLCBwdWxzZSBlbiBlbCBzaWd1aWVudGUgYm90w7NuPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby10cnktYWdhaW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIiBvbkNsaWNrPXsoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblRyeUFnYWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVHJ5QWdhaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwaXJlZEludm9pY2U6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH19PkludGVudGFyIGRlIG51ZXZvPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogQm90b24gcGFyYSBjb3BpYXIgZW4gZWwgcG9ydGFwYXBlbGVzICovXHJcblxyXG4gICAgY29weVRvQ2xpcGJvYXJkID0gYXN5bmMgKHRleHQ6IHN0cmluZywgdHlwZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2FkZHJlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29waWVkQWRkcmVzczogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYW1vdW50Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcGllZEFtb3VudDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2FkZHJlc3MnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcGllZEFkZHJlc3M6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYW1vdW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb3BpZWRBbW91bnQ6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUZXh0IGNvcGllZCB0byBjbGlwYm9hcmQnKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGNvcHlpbmcgdGV4dDogJywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW5mb0FkZHJlc3NQYXltZW50Q29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5hZGRyZXNzUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb21wcm9iYXJFc0V4Y2hhbmdlID0gdGhpcy5pc0V4Y2hhbmdlKHRoaXMucHJvcHMud2FsbGV0RXhjaGFuZ2UpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tYWRkcmVzcy1wYXltZW50LWNvbnRhaW5lclwiID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImluZm8tdGltZVwiPkRhdG9zPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNsb3NlLW1vZGFsXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGFkZHJlc3NQYXltZW50T3BlbjogZmFsc2UgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1jb3B5LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICBEaXJlY2Npw7NuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3B5LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUud2FsbGV0QWRkcmVzc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjb3B5LWVsZW1lbnRcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmNvcHlUb0NsaXBib2FyZCh0aGlzLnN0YXRlLndhbGxldEFkZHJlc3MsICdhZGRyZXNzJyl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY29waWVkQWRkcmVzcyA/ICdkb25lJyA6ICdjb250ZW50X2NvcHknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1jb3B5LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICBJbXBvcnRlIHRvdGFsXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3B5LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZmluYWxQcmljZX0ge3RoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjb3B5LWVsZW1lbnRcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmNvcHlUb0NsaXBib2FyZCh0aGlzLnN0YXRlLmZpbmFsUHJpY2UsICdhbW91bnQnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb3BpZWRBbW91bnQgPyAnZG9uZScgOiAnY29udGVudF9jb3B5J31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLypyZW5kZXJJbmZvUGF5bWVudENvbnRhaW5lcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaW5mb1BheW1lbnRPcGVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDYWxjdWxhIGVsIGltcG9ydGUgcGFyY2lhbFxyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8gfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgcGFydGlhbEFtb3VudCA9IHRoaXMuc3RhdGUudG90YWxQcmljZSAvIHRoaXMuc3RhdGUuc2VsZWN0ZWRDcnlwdG9QcmljZTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYXJ0aWFsQW1vdW50KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQudG9GaXhlZCg4KSk7XHJcbiAgICAgICAgY29uc3QgcHJpY2VGaXhlZCA9IHBhcnRpYWxBbW91bnQudG9GaXhlZCg1KVxyXG5cclxuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0aGlzLnN0YXRlLnRpbWVMZWZ0IC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLnN0YXRlLnRpbWVMZWZ0ICUgNjA7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1jb250YWluZXItcGFydGlhbC1wYXltZW50XCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+RW52w61lIHN1IHBhZ28gZW4ge21pbnV0ZXN9OntzZWNvbmRzIDwgMTAgPyAnMCcgOiAnJ317c2Vjb25kc308L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY2xvc2UtbW9kYWxcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgaW5mb1BheW1lbnRPcGVuOiBmYWxzZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5QcmVjaW8gdG90YWw6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3RoaXMuc3RhdGUudG90YWxQcmljZX0gVVNEPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+VGlwbyBkZSBjYW1iaW86PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3RoaXMuc3RhdGUuc2VsZWN0ZWRDcnlwdG9QcmljZX0gVVNEPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SW1wb3J0ZSBwYXJjaWFsOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPntwcmljZUZpeGVkfSB7c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5Db3N0ZSBkZSByZWQ6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+Li4uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SGEgc2lkbyBwYWdhZG86PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+Li4uPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRvdGFsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SW1wb3J0ZSB0b3RhbDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj4uLi4gPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH0qL1xyXG5cclxuICAgIHJlbmRlckluZm9QYXltZW50Q29tcGxldGVkQ29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5wYXltZW50Q29tcGxldGVkT3Blbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGxvcyBib3RvbmVzIHBhcmEgY2FkYSBoYXNoXHJcbiAgICAgICAgY29uc3QgaGFzaEJ1dHRvbnMgPSB0aGlzLnN0YXRlLmhhc2hlcy5tYXAoKGhhc2gsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGtleT17aGFzaH1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhhc2gtYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL2dvZXJsaS5ldGhlcnNjYW4uaW8vdHgvJHtoYXNofWAsIFwiX2JsYW5rXCIpfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBQYWdvIHtpbmRleCArIDF9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICkpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tcGF5bWVudC1jb21wbGV0ZWQtY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+UGFnbyBjb21wbGV0YWRvPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNsb3NlLW1vZGFsXCIgb25DbGljaz17KCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHBheW1lbnRDb21wbGV0ZWRPcGVuOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMub25UcnlBZ2Fpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vblRyeUFnYWluKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj7CoVR1IHBhZ28gaGEgc2lkbyBjb21wbGV0YWRvIGNvbiDDqXhpdG8hIEdyYWNpYXMgcG9yIHV0aWxpemFyIG51ZXN0cmFzIHNlcnZpY2lvcy4gUHVlZGVzIHZlciBsb3MgZGV0YWxsZXMgZGUgdHUgdHJhbnNhY2Npw7NuIGEgY29udGludWFjacOzbi48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXRyeS1hZ2FpblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiBTaSBzb2xvIGhheSB1biBoYXNoLCBzb2xvIG1vc3RyYW1vcyBcIlZlciBwYWdvXCIgKi99XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaGFzaGVzLmxlbmd0aCA9PT0gMSA/IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCIxXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL2V0aGVyc2Nhbi5pby90eC8ke3RoaXMuc3RhdGUuaGFzaGVzWzBdfWAsIFwiX2JsYW5rXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVyIHBhZ29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zZWxlY3RlZE5ldHdvcmsgPT09IFwiNVwiICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgaHR0cHM6Ly9nb2VybGkuZXRoZXJzY2FuLmlvL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXIgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCI5N1wiICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgaHR0cHM6Ly90ZXN0bmV0LmJzY3NjYW4uY29tL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXIgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCI4MDAwMVwiICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgaHR0cHM6Ly9tdW1iYWkucG9seWdvbnNjYW4uY29tL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXIgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCI0MzExNFwiICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRyeS1hZ2Fpbi1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgaHR0cHM6Ly90ZXN0bmV0LnNub3d0cmFjZS5pby90eC8ke3RoaXMuc3RhdGUuaGFzaGVzWzBdfWAsIFwiX2JsYW5rXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVyIHBhZ29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zZWxlY3RlZE5ldHdvcmsgPT09IFwiXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL2dvZXJsaS5ldGhlcnNjYW4uaW8vdHgvJHt0aGlzLnN0YXRlLmhhc2hlc1swXX1gLCBcIl9ibGFua1wiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlciBwYWdvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oYGh0dHBzOi8vZ29lcmxpLmV0aGVyc2Nhbi5pby90eC8ke3RoaXMuc3RhdGUuaGFzaGVzWzBdfWAsIFwiX2JsYW5rXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlciBwYWdvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaSBoYXkgbcOhcyBkZSB1biBoYXNoLCBtb3N0cmFtb3MgbG9zIGJvdG9uZXMgYWRpY2lvbmFsZXMgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGFzaEJ1dHRvbnN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgcmVuZGVySW5mb1BhcnRpYWxQYXltZW50Q29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5wYXJ0aWFsUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxjdWxhIGVsIGltcG9ydGUgcGFyY2lhbFxyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8gfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhcnRpYWxBbW91bnQgPSB0aGlzLnN0YXRlLnRvdGFsUHJpY2UgLyB0aGlzLnN0YXRlLnNlbGVjdGVkQ3J5cHRvUHJpY2U7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGFydGlhbEFtb3VudCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYXJ0aWFsQW1vdW50LnRvRml4ZWQoOCkpO1xyXG4gICAgICAgIGNvbnN0IHByaWNlRml4ZWQgPSBwYXJ0aWFsQW1vdW50LnRvRml4ZWQoOClcclxuXHJcbiAgICAgICAgY29uc3QgcGF5ZWQgPSB0aGlzLnN0YXRlLnBheUNvbmZpcm1lZDtcclxuICAgICAgICBjb25zdCBwYXllZEZpeGVkID0gcGF5ZWQudG9GaXhlZCg4KVxyXG5cclxuICAgICAgICBjb25zdCBwcmljZUZpeGVkTnVtYmVyID0gcGFyc2VGbG9hdChwcmljZUZpeGVkKTtcclxuICAgICAgICBjb25zdCBwYXllZEZpeGVkTnVtYmVyID0gcGFyc2VGbG9hdChwYXllZEZpeGVkKTtcclxuICAgICAgICBjb25zdCBwYXllZFBlbmRpbmcgPSBwcmljZUZpeGVkTnVtYmVyIC0gcGF5ZWRGaXhlZE51bWJlcjtcclxuICAgICAgICBjb25zdCBwYXllZFBlbmRpbmdGaXhlZCA9IHBheWVkUGVuZGluZy50b0ZpeGVkKDgpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3ByaWNlRml4ZWROdW1iZXInLCBwcmljZUZpeGVkTnVtYmVyKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdwYXllZEZpeGVkTnVtYmVyJywgcGF5ZWRGaXhlZE51bWJlcik7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygncGF5ZWRQZW5kaW5nJywgcGF5ZWRQZW5kaW5nKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXBhcnRpYWwtcGF5bWVudC1jb250YWluZXJcIiA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJpbmZvLXRpbWVcIj5QYWdvIHBhcmNpYWxtZW50ZSByZWNpYmlkbzwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjbG9zZS1tb2RhbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBwYXJ0aWFsUGF5bWVudE9wZW46IGZhbHNlIH0pfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPkhlbW9zIGRldGVjdGFkbyB0dSBwYWdvLCBwZXJvIGxhIGNhbnRpZGFkIGVudmlhZGEgZXMgaW5mZXJpb3IgYSBsYSBjYW50aWRhZCByZXF1ZXJpZGEuIFBvciBmYXZvciwgZW52w61hIGVsIHNhbGRvIHJlc3RhbnRlIHBhcmEgY29tcGxldGFyIHR1IHRyYW5zYWNjacOzbi48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbW91bnQtb3V0c3RhbmRpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj4ge3BheWVkUGVuZGluZ0ZpeGVkfSB7c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXRyeS1hZ2FpblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBwYXJ0aWFsUGF5bWVudE9wZW46IGZhbHNlIH0pfT5QYWdhciBmYWx0YW50ZTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQXBsaWNhciBDU1MgbW9kYWxlcyAqL1xyXG5cclxuICAgIHByaXZhdGUgY2hlY2tJbmZvQWRkcmVzc1BheW1lbnQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYWRkcmVzc1BheW1lbnRPcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW41Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuNScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgY2hlY2tJbmZvUGF5bWVudCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pbmZvUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbjYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW42Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjaGVja0luZm9QYXltZW50Q29tcGxldGVkKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBtYWluV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmZhY2UtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnBheW1lbnRDb21wbGV0ZWRPcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW43Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuNycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgY2hlY2tJbmZvUGFydGlhbFBheW1lbnQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucGFydGlhbFBheW1lbnRPcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW44Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuOCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogSEFTVEEgQVFVSSAqL1xyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZmV0Y2hEYXRhQW5kVXBkYXRlU3RlcCgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5nZXRDb250cmFjdEFkZHJlc3NDcnlwdG8oKTsgLy8gdGVuZ28gcXVlIHNhYmVyIHNpIGhheSBjb250cmF0byBvIG5vIGFudGVzIGRlIGhhY2VyIGxhcyBwZXRpY2lvbmVzXHJcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID0gYXdhaXQgdGhpcy5mZXRjaFRyYW5zYWN0aW9ucygpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3RyYW5zYWNjaW9uZXM6ICcsIHRyYW5zYWN0aW9ucyk7XHJcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9ucyAmJiB0cmFuc2FjdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQYXltZW50U3RhdHVzKHRyYW5zYWN0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIG1vZGFsUGFydGlhbFBheW1lbnQoKTogSlNYLkVsZW1lbnQge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5tb2RhbFBhcnRpYWxQYXltZW50KSByZXR1cm4gPD48Lz47XHJcblxyXG4gICAgICAgIC8vIENvbmZpZ3VyYSB1biB0ZW1wb3JpemFkb3IgcGFyYSBjZXJyYXIgZWwgbW9kYWwgZGVzcHXDqXMgZGUgNSBzZWd1bmRvcyAoNTAwMCBtaWxpc2VndW5kb3MpXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtb2RhbFBhcnRpYWxQYXltZW50OiBmYWxzZSB9KTtcclxuICAgICAgICB9LCAxMDAwMDAwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZS1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWxcIj5cclxuICAgICAgICAgICAgICAgICAgICBQYWdvIHBhcmNpYWxtZW50ZSByZWNpYmlkb1xyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWRcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbW9kYWxQYXJ0aWFsUGF5bWVudDogZmFsc2UgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJTdGVwcGVyUGF5bWVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zdGVwID09PSA1KSByZXR1cm4gXCJcIjtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGVwcGVyLTRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXAtNCAke3RoaXMuc3RhdGUuc3RlcCA+PSAxID8gXCJhY3RpdmUtNFwiIDogXCJcIn1gfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2lyY2xlLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN0ZXAgPT09IDEgJiYgPGRpdiBjbGFzc05hbWU9XCJzdGVwLXRleHRcIj5Fc3BlcmFuZG8gcGFnbzwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXAtNCAke3RoaXMuc3RhdGUuc3RlcCA+PSAyID8gXCJhY3RpdmUtNFwiIDogXCJcIn1gfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluZS00XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNpcmNsZS00XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdGVwID09PSAyICYmIDxkaXYgY2xhc3NOYW1lPVwic3RlcC10ZXh0XCI+UGFnbyBwYXJjaWFsbWVudGUgcmVjaWJpZG88L2Rpdj59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzdGVwLTQgJHt0aGlzLnN0YXRlLnN0ZXAgPj0gMyA/IFwiYWN0aXZlLTRcIiA6IFwiXCJ9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmUtNFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaXJjbGUtNFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc3RlcCA9PT0gMyAmJiA8ZGl2IGNsYXNzTmFtZT1cInN0ZXAtdGV4dFwiPkVzcGVyYW5kbyBjb25maXJtYWNpw7NuPC9kaXY+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RlcC00ICR7dGhpcy5zdGF0ZS5zdGVwID49IDQgPyBcImFjdGl2ZS00XCIgOiBcIlwifWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5lLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2lyY2xlLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN0ZXAgPT09IDQgJiYgPGRpdiBjbGFzc05hbWU9XCJzdGVwLXRleHRcIj5QYWdvIGNvbXBsZXRhZG88L2Rpdj59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJbmZvSW52YWxpZE5ldHdvcmtDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmludmFsaWROZXR3b3JrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvLCBzZWxlY3RlZE5ldHdvcmssIGhhbmRsZU5ldHdvcmtDaGFuZ2UsIHN3aXRjaE5ldHdvcmssIHBlbmRpbmdDaGFpbklkLCBpc2xvYWRpbmduZXR3b3JrIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRPcHRpb24gfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgY29uc3QgaGFuZGxlT3B0aW9uQ2hhbmdlID0gKHJlZDogbnVtYmVyKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcqKioqKioqKioqKionLCBzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgICAgIHN3aXRjaE5ldHdvcms/LigxKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygncGVuZGluZ0NoYWluSWQgJywgcGVuZGluZ0NoYWluSWQpO1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpc2xvYWRpbmduZXR3b3JrICYmIChcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2VzdG95IGVzcGVyYW5kbyBhIHF1ZSBjYW1iaWVzJyksXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludmFsaWROZXR3b3JrOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taW52YWxpZC1uZXR3b3JrLWNvbnRhaW5lclwiID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImluZm8tdGltZVwiPlJlZCBlcXVpdm9jYWRhPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBpbnZhbGlkTmV0d29yazogZmFsc2UgfSl9Plg8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5MYSBmYWN0dXJhIGhhIHNpZG8gY3JlYWRhIHBhcmEgcmVhbGl6YXIgZWwgcGFnbyBwb3Igb3RyYXMgcmVkZXMuIFBhcmEgY29udGludWFyLCBwb3IgZmF2b3IgY2FtYmllIGxhIHJlZCBlbiBhanVzdGVzIGRlIE1ldGFtYXNrLiBPIGhhZ2EgY2xpYyBhYmFqbzwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV0d29yay1jaGFuZ2UtYnV0dG9uXCIgb25DbGljaz17KCkgPT4gaGFuZGxlT3B0aW9uQ2hhbmdlKDEpfT5Db25lY3RhciBhIEV0aGVydW0gTWFpbm5ldDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9NZXRvZG8gcGFyYSBwYXNhciBhIGJhc2UgNjQgbGEgaW1hZ2VuIHJlY2liaWRhIGRlbCBRUlxyXG4gICAgcHJpdmF0ZSByZW5kZXJRUlBheW1lbnQoKSB7XHJcbiAgICAgICAgLy9pZiAoIXRoaXMuaXNFeGNoYW5nZSAoKSkgcmV0dXJuIFwiXCI7IFxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUucXJDb2RlKSB7XHJcbiAgICAgICAgICAgIC8vcmV0dXJuIDxzcGFuPkNhcmdhbmRvIGPDs2RpZ28gUVIuLi48L3NwYW4+O1xyXG4gICAgICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJsZHMtcm9sbGVyXCIgc3R5bGU9e3sgd2lkdGg6ICc3NXB4JywgaGVpZ2h0OiAnMTAwcHgnIH19PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CYXNlNjQoYnVmZmVyOiBhbnkpIHtcclxuICAgICAgICAgICAgbGV0IGJpbmFyeSA9ICcnO1xyXG4gICAgICAgICAgICBsZXQgYnl0ZXMgPSBbXS5zbGljZS5jYWxsKG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xyXG4gICAgICAgICAgICBieXRlcy5mb3JFYWNoKChiKSA9PiBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShiKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShiaW5hcnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGJhc2U2NEltYWdlID0gYXJyYXlCdWZmZXJUb0Jhc2U2NCh0aGlzLnN0YXRlLnFyQ29kZSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1xci1leGNoYW5nZVwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbWctcXItZXhjaGFuZ2VcIiBzcmM9e2BkYXRhOmltYWdlL3BuZztiYXNlNjQsJHtiYXNlNjRJbWFnZX1gfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE8gUG9uZXIgZWwgdmFsb3IgZGF0YS5kYXRhIHF1ZSBlcyBsYSBiaWxsZXRlcmFcclxuICAgIC8vIFRPRE8gUG9uZXIgbGEgaW1hZ2VuIHF1ZSBjb3JyZXNwb25kYSBlbiBlbCBkYXRhLmxvZ29cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGdldFFSQ29kZSgpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LmltYWdlKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuc3RhdGUud2FsbGV0QWRkcmVzcyk7XHJcbiAgICAgICAgY29uc3QgYXhpb3MgPSByZXF1aXJlKCdheGlvcycpO1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICB1cmw6ICdodHRwczovL3FyY29kZS1tb25rZXkucC5yYXBpZGFwaS5jb20vcXIvY3VzdG9tJyxcclxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLCAvLyBNYWtlIHN1cmUgd2UgZ2V0IGEgQmxvYlxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ1gtUmFwaWRBUEktS2V5JzogJ2EyNzUzOGQwYWRtc2g5MWE1NjBkYzI2NDZiODNwMWJmOWY5anNuMmJkNTNkOWU2NjY2JyxcclxuICAgICAgICAgICAgICAgICdYLVJhcGlkQVBJLUhvc3QnOiAncXJjb2RlLW1vbmtleS5wLnJhcGlkYXBpLmNvbSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogXCIweGI5MmVDMzI4MDMyNDUyNmRDYzIzNjZFMzI3M2ZBRDY1ZkU2OTI0NWRcIixcclxuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6ICdkb3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGV5ZTogJ2ZyYW1lMTMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGV5ZUJhbGw6ICdiYWxsMTQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyZjE6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyZjI6IFsnZmgnXSxcclxuICAgICAgICAgICAgICAgICAgICBlcmYzOiBbJ2Z2J10sXHJcbiAgICAgICAgICAgICAgICAgICAgYnJmMTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgYnJmMjogWydmaCddLFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZjM6IFsnZnYnXSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5Q29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiAnIzI5MjkyOScsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllMUNvbG9yOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllMkNvbG9yOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllM0NvbG9yOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllQmFsbDFDb2xvcjogJyNFREVERUQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGV5ZUJhbGwyQ29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBleWVCYWxsM0NvbG9yOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRDb2xvcjE6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENvbG9yMjogJyNFREVERUQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VHlwZTogJ3JhZGlhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRPbkV5ZXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ286IFwiaHR0cHM6Ly9pY29ucy5pY29uYXJjaGl2ZS5jb20vaWNvbnMvY2pkb3duZXIvY3J5cHRvY3VycmVuY3ktZmxhdC81MTIvVGV0aGVyLVVTRFQtaWNvbi5wbmdcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNpemU6IDMwMCxcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGZpbGU6ICdwbmcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnJlcXVlc3Qob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2RldnVlbHZvIGVzdG86ICcsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvcm1hdE51bWJlcih2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51bWJlclZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihudW1iZXJWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJWYWx1ZS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRyYWN0QWRkcmVzcygpIHtcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvLCBzZWxlY3RlZE5ldHdvcmsgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIC8vIEVuY3VlbnRyYSBsYSByZWQgc2VsZWNjaW9uYWRhIGRlbnRybyBkZSBsYXMgcmVkZXMgZGUgbGEgY3JpcHRvbW9uZWRhIHNlbGVjY2lvbmFkYVxyXG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSBzZWxlY3RlZENyeXB0bz8ubmV0d29ya3MuZmluZCgobmV0OiB7IGlkOiBudW1iZXI7IH0pID0+IG5ldC5pZCA9PT0gTnVtYmVyKHNlbGVjdGVkTmV0d29yaykpO1xyXG5cclxuICAgICAgICAvLyBDb21wcnVlYmEgc2kgaGF5IHVuIGNvbnRyYWN0X2FkZHJlc3MgcGFyYSBsYSByZWQgc2VsZWNjaW9uYWRhIHkgZGV2dWVsdmUgZWwgcmVzdWx0YWRvXHJcbiAgICAgICAgcmV0dXJuIG5ldHdvcmsgPyAhIW5ldHdvcmsuY29udHJhY3RfYWRkcmVzcyA6IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjaGVja0lmUGF5QnV0dG9uU2hvdWxkQmVFbmFibGVkKCkge1xyXG4gICAgICAgIGNvbnN0IHsgYmFsYW5jZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBmaW5hbFByaWNlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ1BSRUNJTyBRVUUgREVCRVMgUEFHQVI6ICcsIGZpbmFsUHJpY2UpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2JhbGFuY2UgdG9rZW5zOiAnLCBiYWxhbmNlcyk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnYmFsYW5jZSBFVEg6ICcsIHRoaXMuZm9ybWF0TnVtYmVyKHRoaXMucHJvcHMuZGF0YT8uZm9ybWF0dGVkKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRpcG9Db250cmFjdEFkZHJlc3MgPSB0aGlzLmdldENvbnRyYWN0QWRkcmVzcygpO1xyXG4gICAgICAgIC8vVE9ETyBDb3Byb2JhciBzaSBlcyBleGNoYW5nZVxyXG5cclxuICAgICAgICBpZiAoIXRpcG9Db250cmFjdEFkZHJlc3MpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NveSBFVEggJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEuZm9ybWF0dGVkID49IHBhcnNlRmxvYXQoZmluYWxQcmljZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1BheUJ1dHRvbkVuYWJsZWQ6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNQYXlCdXR0b25FbmFibGVkOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGZpbmFsUHJpY2UgJiYgYmFsYW5jZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzUGF5QnV0dG9uRW5hYmxlZCA9IGJhbGFuY2VzID49IHBhcnNlRmxvYXQoZmluYWxQcmljZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNQYXlCdXR0b25FbmFibGVkIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUGF5QnV0dG9uRW5hYmxlZDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xyXG4gICAgICAgIHRoaXMuY2hlY2tTZWxlY3RPcGFjaXR5KCk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NlbGVjdE9wYWNpdHlJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NlbGVjdE9wYWNpdHlNZXRhbWFza0luZm8oKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2VsZWN0RXhwaXJlZEludm9pY2VJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NlbGVjdEludmFsaWROZXR3b3JrSW5mbygpO1xyXG5cclxuICAgICAgICAvKiBBw5FBRElSIE5VRVZPUyBNRVRPRE9TICovXHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tJbmZvQWRkcmVzc1BheW1lbnQoKTtcclxuICAgICAgICB0aGlzLmNoZWNrSW5mb1BheW1lbnQoKTtcclxuICAgICAgICB0aGlzLmNoZWNrSW5mb1BheW1lbnRDb21wbGV0ZWQoKTtcclxuICAgICAgICB0aGlzLmNoZWNrSW5mb1BhcnRpYWxQYXltZW50KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgaXNJbmZvVmlzaWJsZSB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvLCBzZWxlY3RlZE5ldHdvcmssIGhhbmRsZU5ldHdvcmtDaGFuZ2UsIHN3aXRjaE5ldHdvcmssIGNoYWlucywgaXNMb2FkaW5nLCBwZW5kaW5nQ2hhaW5JZCwgY3J5cHRvTmV0d29ya3MsIGlzRXJyb3IsIGRhdGEsIGJhbGFuY2VzIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHsgZ2FzUHJpY2VzLCBzZWxlY3RlZE9wdGlvbiwgZmluYWxQcmljZSB9ID0gdGhpcy5zdGF0ZTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFuZGxlT3B0aW9uQ2hhbmdlID0gKHNlbGVjdGVkT3B0aW9uOiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJy8qLyovKi8qLyovKi8qJywgc2VsZWN0ZWRPcHRpb24pO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgc2VsZWN0ZWRPcHRpb24udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZU5ldHdvcmtDaGFuZ2Uoc2VsZWN0ZWRPcHRpb24udmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkT3B0aW9uIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tcHJvYmFyRXNFeGNoYW5nZSA9IHRoaXMuaXNFeGNoYW5nZSh0aGlzLnByb3BzLndhbGxldEV4Y2hhbmdlKTtcclxuICAgICAgICBjb25zdCB0aW1lTGVmdFBlcmNlbnRhZ2UgPSAoKHRoaXMuc3RhdGUudGltZUxlZnQgLyB0aGlzLnN0YXRlLnRvdGFsVGltZSkgKiAxMDApLnRvRml4ZWQoMik7XHJcbiAgICAgICAgY29uc3Qgc3Ryb2tlRGFzaG9mZnNldCA9ICgyODIuNiAqICh0aGlzLnN0YXRlLnRpbWVMZWZ0IC8gdGhpcy5zdGF0ZS50b3RhbFRpbWUpKS50b0ZpeGVkKDIpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKGJhbGFuY2VzKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3NhbGRvIGRlIGxhIGNyaXB0byBlbGVnaWRhOiAnLCBwYXJzZUZsb2F0KGRhdGE/LmZvcm1hdHRlZCkudG9GaXhlZCg1KSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDw+PGRpdiBjbGFzc05hbWU9XCJyaWdodC1zZWN0aW9uLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgPGgyPkRhdG9zIGRlIHBhZ288L2gyPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjbG9zZS1idXR0b24tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjbG9zZS1tb2RhbC0yXCIgLypvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbWVudUluZm9PcGVuOiBmYWxzZSB9KX0qLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYXltZW50LWRhdGFcIj5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvQ29udGFpbmVyKCl9XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW5mb01ldGFtYXNrQ29udGFpbmVyKCl9XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW5mb0V4cGlyZWRJbnZvaWNlQ29udGFpbmVyKCl9XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW5mb1BheW1lbnRDb21wbGV0ZWRDb250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICB7IWNvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW5mb0FkZHJlc3NQYXltZW50Q29udGFpbmVyKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvUGFydGlhbFBheW1lbnRDb250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICB7Y29tcHJvYmFyRXNFeGNoYW5nZSAmJiB0aGlzLnJlbmRlckluZm9JbnZhbGlkTmV0d29ya0NvbnRhaW5lcigpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3J5cHRvLW5ldHdvcmstY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0ZWQtY3J5cHRvXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8tbG9nb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiaW1hZ2VuLWxvZ29cIiBzcmM9e1wiL3Bhc2FyZWxhL1wiICsgc2VsZWN0ZWRDcnlwdG8/LmltYWdlfSBhbHQ9e2Ake3NlbGVjdGVkQ3J5cHRvPy5uYW1lfSBsb2dvYH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8taW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3J5cHRvLW5hbWVcIj57c2VsZWN0ZWRDcnlwdG8/Lm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8tc3ltYm9sXCI+e3NlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpbWVyLWNvbnRhaW5lclwiIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ21lbnVBYmllcnRvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGVja1NlbGVjdE9wYWNpdHlJbmZvKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51SW5mb09wZW46IHRydWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIG1hdGVyaWFsLWluZm8gYVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9faVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB3aWR0aD1cIjQwXCIgaGVpZ2h0PVwiNDBcIiB2aWV3Qm94PVwiMCAwIDEwMCAxMDBcIiBjbGFzc05hbWU9XCJ0aW1lci1iYXJcIiBzdHlsZT17eyB0cmFuc2Zvcm06ICdyb3RhdGUoLTkwZGVnKScgYXMgY29uc3QgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI0NVwiIHN0cm9rZS13aWR0aD1cIjhcIiBmaWxsPVwibm9uZVwiIGNsYXNzTmFtZT1cInRpbWVyLWJhcl9fbWV0ZXJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9XCJjb3VudGRvd25cIiBjeD1cIjUwXCIgY3k9XCI1MFwiIHI9XCI0NVwiIHN0cm9rZS13aWR0aD1cIjhcIiBmaWxsPVwibm9uZVwiIGNsYXNzTmFtZT1cInRpbWVyLWJhcl9fdmFsdWVcIiBzdHJva2UtZGFzaGFycmF5PVwiMjgyLjZcIiBzdHJva2UtZGFzaG9mZnNldD17c3Ryb2tlRGFzaG9mZnNldH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXR3b3JrLXNlbGVjdG9yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VsZWN0b3ItcmVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZVByZWZpeD1cIm15LXNlbGVjdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkPXshc3dpdGNoTmV0d29ya31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZE9wdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVPcHRpb25DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXt0aGlzLmdldE9wdGlvbnModGhpcy5zdGF0ZS5nYXNQcmljZXMpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWFyY2hhYmxlPXtmYWxzZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWVudUlzT3Blbj17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTWVudU9wZW49eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1lbnVBYmllcnRvXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVJc09wZW46IHRydWUgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVDbG9zZT17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IG1lbnVJc09wZW46IGZhbHNlIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0T3B0aW9uTGFiZWw9eyhkYXRhLCBzdGF0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jb250ZXh0ID09PSAnbWVudScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3VhbmRvIGVzdMOpIGVuIGVsIG1lbsO6LCBtb3N0cmFtb3MgdG9kb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdWFuZG8gbGEgb3BjacOzbiBlcyBsYSBzZWxlY2Npb25hZGEsIG1vc3RyYW1vcyBzb2xvIGVsIGxvZ28geSBlbCBub21icmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGlzcGxheUxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sOiAocHJvdmlkZWQpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByb3ZpZGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5zdGF0ZS5tZW51SXNPcGVuID8gJ2F1dG8nIDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHtjb21wcm9iYXJFc0V4Y2hhbmdlICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3YWxsZXQtYmFsYW5jZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyAmJiAoPGRpdj5Db21wcm9iYW5kbyBjcmlwdG9tb25lZGFz4oCmPC9kaXY+KX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0Vycm9yICYmICg8ZGl2PkVycm9yIGNvbXByb2JhbmRvIGJhbGFuY2U8L2Rpdj4pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGllbmUgZW4gc3UgYmlsbGV0ZXJhOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtY29udGFpbmVyLTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImltYWdlbi1sb2dvLWRhdGFcIiBzcmM9e1wiL3Bhc2FyZWxhL1wiICsgc2VsZWN0ZWRDcnlwdG8/LmltYWdlfSBhbHQ9e2Ake3NlbGVjdGVkQ3J5cHRvPy5uYW1lfSBsb2dvYH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1uYW1lLWRhdGFcIj57c2VsZWN0ZWRDcnlwdG8/Lm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8tYmFsYW5jZS1kYXRhXCI+e3RoaXMuZm9ybWF0TnVtYmVyKGJhbGFuY2VzIGFzIGFueSl9e2JhbGFuY2VzID09PSB1bmRlZmluZWQgJiYgdGhpcy5mb3JtYXROdW1iZXIoZGF0YT8uZm9ybWF0dGVkKX0ge3NlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgeyFjb21wcm9iYXJFc0V4Y2hhbmdlIC8qJiYgdGhpcy5zdGF0ZS5xckNvZGUqLyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIHVuIGV4Y2hhbmdlIG1vc3RyYXLDoSBlbCBjw7NkaWdvIFFSIGRvbmRlIHJlYWxpemFyIGVsIHBhZ29cclxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclFSUGF5bWVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG90YWwtdG8tcGF5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWxpZ24tbGVmdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG90YWwgYSBwYWdhcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJpY2UtY29weVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2ZpbmFsUHJpY2V9IHtzZWxlY3RlZENyeXB0bz8uc3ltYm9sfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyFjb21wcm9iYXJFc0V4Y2hhbmdlICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNvcHktZWxlbWVudFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBhZGRyZXNzUGF5bWVudE9wZW46IHRydWUgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50X2NvcHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1ldGFtYXNrLWJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ21lbnVBYmllcnRvJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGVja1NlbGVjdE9wYWNpdHlJbmZvKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZW51TWV0YW1hc2tPcGVuOiB0cnVlIH0pIC8vIEVzdG8gY2FtYmlhcsOhIGVsIGVzdGFkbyBjYWRhIHZleiBxdWUgc2UgaGFnYSBjbGlja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhZ2FyIGNvbiBNZXRhbWFzayBBcHBcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICB7IWNvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qdGhpcy5mZXRjaFRyYW5zYWN0aW9ucygpKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJTdGVwcGVyUGF5bWVudCgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICB7Y29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwYXktYnV0dG9uICR7IXRoaXMuc3RhdGUuaXNQYXlCdXR0b25FbmFibGVkID8gJ2Rpc2FibGVkJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3RhdGUuaXNQYXlCdXR0b25FbmFibGVkID8gKCkgPT4gdGhpcy5wcm9wcy5vbkNsaWNrKGZpbmFsUHJpY2UpIDogdW5kZWZpbmVkfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUGFnYXJcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJheGlvcyIsIlNlbGVjdCIsImZldGNoQVBJIiwiV2FsbGV0TGlicmFyeSIsImZpbmRPbmVVc3VhcmlvIiwidXBkYXRlVXN1YXJpbyIsImNyZWF0ZUJpbGxldGVyYVRlbXAiLCJjcmVhdGVUcmFuc2FjY2lvbiIsInVwZGF0ZVRyYW5zYWNjaW9uIiwiUGF5bWVudERhdGEiLCJDb21wb25lbnQiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNsZWFyVGltZXIiLCJpbnRlcnZhbElkIiwiY2xlYXJJbnRlcnZhbCIsImdlbmVyYXRlV2FsbGV0IiwicHJpdmF0ZUtleSIsIndhbGxldCIsImdldFByaXZhdGVLZXlTdHJpbmciLCJhZGRyZXNzIiwiZ2V0QWRkcmVzc1N0cmluZyIsInNldFN0YXRlIiwid2FsbGV0QWRkcmVzcyIsImJpbGxldGVyYVRlbXAiLCJ1c2VyX2lkIiwicHJvcHMiLCJlbWFpbCIsInRyYW5zYWN0aW9uX2lkIiwiY3J5cHRvY3VycmVuY3lfaWQiLCJzZWxlY3RlZENyeXB0byIsImlkIiwicHVibGljX2tleSIsInByaXZhdGVfa2V5X2VuY3J5cHRlZCIsImV4cGlyYXRpb25fZGF0ZSIsIkRhdGUiLCJlcnJvciIsImdldENvbnRyYWN0QWRkcmVzc0NyeXB0byIsIm5ldHdvcmsiLCJuZXR3b3JrcyIsImZpbmQiLCJuZXQiLCJjb250cmFjdCIsImNvbnRyYWN0X2FkZHJlc3MiLCJjb250cmFjdEFkZHJlc3MiLCJjcmVhdGVUcmFuc2FjY2lvbjIiLCJFcnJvciIsInRyYW5zYWNjaW9uIiwiY3J5cHRvX2lkIiwiYW1vdW50X2NyeXB0byIsInBhcnNlRmxvYXQiLCJzdGF0ZSIsImZpbmFsUHJpY2UiLCJhbW91bnRfZmlhdCIsInRvdGFsUHJpY2UiLCJzdGF0dXMiLCJuZXR3b3JrX2lkIiwidGVtcF93YWxsZXRfaWQiLCJpbnZvaWNlIiwiaW52b2ljZV9pZCIsInNlbnQiLCJkb3dubG9hZGVkIiwiY3JlYXRlZFRyYW5zYWNjaW9uIiwiX2lkIiwidHJhbnNhY2Npb25JZCIsImNvbnNvbGUiLCJsb2ciLCJ1cGRhdGVUcmFuc2FjY2lvbjIiLCJoYXNoZXMiLCJzdGVwIiwiaGFzaCIsInVwZGF0ZVVzZXIyIiwibmV3VHJhbnNhY3Rpb25JZCIsImN1cnJlbnRVc2VyIiwiY3VycmVudFRyYW5zYWN0aW9uSWRzIiwidHJhbnNhY3Rpb25faWRzIiwidXBkYXRlZFRyYW5zYWN0aW9uSWRzIiwidXNlclVwZGF0ZSIsIndhbGxldHMiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXByb2JhckVzRXhjaGFuZ2UiLCJpc0V4Y2hhbmdlIiwid2FsbGV0RXhjaGFuZ2UiLCJpc1dhbGxldEdlbmVyYXRlZCIsInN0YXJ0VGltZXIiLCJnYXNQcmljZXNGZXRjaGVkIiwiZ2FzUHJpY2VzIiwiZ2V0R2FzUHJpY2VzIiwib3B0aW9ucyIsImdldE9wdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsInRyYW5zYWNjaW9uZXMiLCJmZXRjaFRyYW5zYWN0aW9ucyIsImNyeXB0b1ByaWNlIiwiZ2V0UHJpY2VzIiwicGFydGlhbEFtb3VudCIsInByaWNlRml4ZWQiLCJ0b0ZpeGVkIiwic2VsZWN0ZWRDcnlwdG9QcmljZSIsInRyYW5zYWN0aW9ucyIsInNlbGVjdGVkTmV0d29yayIsImhhbmRsZU5ldHdvcmtDaGFuZ2UiLCJzd2l0Y2hOZXR3b3JrIiwiY2hhaW5zIiwiaXNMb2FkaW5nIiwicGVuZGluZ0NoYWluSWQiLCJjcnlwdG9OZXR3b3JrcyIsImlzRXJyb3IiLCJkYXRhIiwiYmFsYW5jZXMiLCJzb21lIiwieCIsInBhcnNlSW50IiwiaW52YWxpZE5ldHdvcmsiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJzbmFwc2hvdCIsInFyQ29kZSIsInNldEludGVydmFsIiwiZmV0Y2hEYXRhQW5kVXBkYXRlU3RlcCIsImNoZWNrSWZQYXlCdXR0b25TaG91bGRCZUVuYWJsZWQiLCJpc1N1Y2Nlc3NDb2luIiwiaXNTdWNjZXNzVG9rZW4iLCJwYXltZW50Q29tcGxldGVkT3BlbiIsImRhdGFIYXNoQ29pbiIsImRhdGFIYXNoVG9rZW4iLCJ1cGRhdGVVc2VyIiwibmV0d29ya0lkIiwiY29udHJhY3RfcGF5IiwibmV3VHJhbnNhY2Npb24iLCJmaWx0ZXIiLCJpc0NvbXBhdGlibGVXaXRoQ3J5cHRvIiwibWFwIiwibG9nbyIsImltYWdlIiwidmFsdWUiLCJsYWJlbCIsImRpdiIsImNsYXNzTmFtZSIsImltZyIsInNyYyIsImFsdCIsIm5hbWUiLCJzcGFuIiwiZGlzcGxheUxhYmVsIiwiY2hlY2tTZWxlY3RPcGFjaXR5IiwibWFpbldyYXBwZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibWVudUlzT3BlbiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNoZWNrU2VsZWN0T3BhY2l0eUluZm8iLCJtYWluV3JhcHBlcjIiLCJtZW51SW5mb09wZW4iLCJjaGVja1NlbGVjdE9wYWNpdHlNZXRhbWFza0luZm8iLCJtZW51TWV0YW1hc2tPcGVuIiwiY2hlY2tTZWxlY3RFeHBpcmVkSW52b2ljZUluZm8iLCJleHBpcmVkSW52b2ljZSIsImNoZWNrU2VsZWN0SW52YWxpZE5ldHdvcmtJbmZvIiwicmVuZGVySW5mb0NvbnRhaW5lciIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJ0aW1lTGVmdCIsInNlY29uZHMiLCJwYXllZCIsInBheUNvbmZpcm1lZCIsInBheWVkRml4ZWQiLCJwcmljZUZpeGVkTnVtYmVyIiwicGF5ZWRGaXhlZE51bWJlciIsInBheWVkUGVuZGluZyIsInBheWVkUGVuZGluZ0ZpeGVkIiwiaDMiLCJvbkNsaWNrIiwic3ltYm9sIiwicmVuZGVySW5mb01ldGFtYXNrQ29udGFpbmVyIiwicmVuZGVySW5mb0V4cGlyZWRJbnZvaWNlQ29udGFpbmVyIiwib25UcnlBZ2FpbiIsInJlbmRlckluZm9BZGRyZXNzUGF5bWVudENvbnRhaW5lciIsImFkZHJlc3NQYXltZW50T3BlbiIsImNvcHlUb0NsaXBib2FyZCIsImNvcGllZEFkZHJlc3MiLCJjb3BpZWRBbW91bnQiLCJyZW5kZXJJbmZvUGF5bWVudENvbXBsZXRlZENvbnRhaW5lciIsImhhc2hCdXR0b25zIiwiaW5kZXgiLCJidXR0b24iLCJ3aW5kb3ciLCJvcGVuIiwibGVuZ3RoIiwiRnJhZ21lbnQiLCJyZW5kZXJJbmZvUGFydGlhbFBheW1lbnRDb250YWluZXIiLCJwYXJ0aWFsUGF5bWVudE9wZW4iLCJjaGVja0luZm9BZGRyZXNzUGF5bWVudCIsImNoZWNrSW5mb1BheW1lbnQiLCJpbmZvUGF5bWVudE9wZW4iLCJjaGVja0luZm9QYXltZW50Q29tcGxldGVkIiwiY2hlY2tJbmZvUGFydGlhbFBheW1lbnQiLCJjaGVja1BheW1lbnRTdGF0dXMiLCJtb2RhbFBhcnRpYWxQYXltZW50Iiwic2V0VGltZW91dCIsInJlbmRlclN0ZXBwZXJQYXltZW50IiwicmVuZGVySW5mb0ludmFsaWROZXR3b3JrQ29udGFpbmVyIiwiaXNsb2FkaW5nbmV0d29yayIsImhhbmRsZU9wdGlvbkNoYW5nZSIsInJlZCIsInJlbmRlclFSUGF5bWVudCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJhcnJheUJ1ZmZlclRvQmFzZTY0IiwiYnVmZmVyIiwiYmluYXJ5IiwiYnl0ZXMiLCJzbGljZSIsImNhbGwiLCJVaW50OEFycmF5IiwiZm9yRWFjaCIsImIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJidG9hIiwiYmFzZTY0SW1hZ2UiLCJnZXRRUkNvZGUiLCJyZXF1aXJlIiwibWV0aG9kIiwidXJsIiwicmVzcG9uc2VUeXBlIiwiaGVhZGVycyIsImNvbmZpZyIsImJvZHkiLCJleWUiLCJleWVCYWxsIiwiZXJmMSIsImVyZjIiLCJlcmYzIiwiYnJmMSIsImJyZjIiLCJicmYzIiwiYm9keUNvbG9yIiwiYmdDb2xvciIsImV5ZTFDb2xvciIsImV5ZTJDb2xvciIsImV5ZTNDb2xvciIsImV5ZUJhbGwxQ29sb3IiLCJleWVCYWxsMkNvbG9yIiwiZXllQmFsbDNDb2xvciIsImdyYWRpZW50Q29sb3IxIiwiZ3JhZGllbnRDb2xvcjIiLCJncmFkaWVudFR5cGUiLCJncmFkaWVudE9uRXllcyIsInNpemUiLCJkb3dubG9hZCIsImZpbGUiLCJyZXNwb25zZSIsInJlcXVlc3QiLCJmb3JtYXROdW1iZXIiLCJudW1iZXJWYWx1ZSIsIk51bWJlciIsImlzSW50ZWdlciIsImdldENvbnRyYWN0QWRkcmVzcyIsInRpcG9Db250cmFjdEFkZHJlc3MiLCJmb3JtYXR0ZWQiLCJpc1BheUJ1dHRvbkVuYWJsZWQiLCJyZW5kZXIiLCJpc0luZm9WaXNpYmxlIiwidGltZUxlZnRQZXJjZW50YWdlIiwidG90YWxUaW1lIiwic3Ryb2tlRGFzaG9mZnNldCIsImgyIiwic3ZnIiwidmlld0JveCIsInRyYW5zZm9ybSIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlLXdpZHRoIiwiZmlsbCIsInN0cm9rZS1kYXNoYXJyYXkiLCJzdHJva2UtZGFzaG9mZnNldCIsImNsYXNzTmFtZVByZWZpeCIsImlzRGlzYWJsZWQiLCJvbkNoYW5nZSIsImlzU2VhcmNoYWJsZSIsIm9uTWVudU9wZW4iLCJvbk1lbnVDbG9zZSIsImZvcm1hdE9wdGlvbkxhYmVsIiwiY29udGV4dCIsInN0eWxlcyIsImNvbnRyb2wiLCJwcm92aWRlZCIsInVuZGVmaW5lZCIsImNvbnN0cnVjdG9yIiwiZ2VuZXJhdGUiLCJ0b2dnbGVJbmZvVmlzaWJpbGl0eSIsImdldEV0aFByaWNlSW5Eb2xsYXJzIiwicmVzIiwiZ2V0IiwiZXRoZXJldW0iLCJ1c2QiLCJnZXRDcnlwdG9QcmljZUluRG9sbGFycyIsImV0aFByaWNlSW5Eb2xsYXJzIiwiY2hhaW4iLCJnYXNQcmljZUluR1dlaSIsInN0YW5kYXJkIiwibWF4RmVlIiwiZ2FzUHJpY2VJbkRvbGxhcnMiLCJzcGVlZHMiLCJlc3RpbWF0ZWRGZWUiLCJjcnlwdG9QcmljZUluRG9sbGFycyIsInJlc3VsdCIsInRpbWVyIiwidG90YWxBbW91bnROZWVkZWQiLCJ0b3RhbFJlY2VpdmVkIiwidG90YWxDb25maXJtZWQiLCJkZXNpcmVkVG9BZGRyZXNzIiwiZGVzaXJlZENvbnRyYWN0QWRkcmVzcyIsInRvdGFsUHJpY2VGaXhlZCIsImZpbHRlcmVkVHJhbnNhY3Rpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwidHgiLCJ0byIsInRvTG93ZXJDYXNlIiwidG9rZW5EZWNpbWFsIiwicG93IiwiY29uZmlybWF0aW9ucyIsIm1vZGFsQ29tcGxldGVkUGF5bWVudFNob3duIiwibW9kYWxQYXJ0aWFsUGF5bWVudFNob3duIiwic2ltdWxhdGVUcmFuc2FjdGlvbnMiLCJwdXNoIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJibG9ja0hhc2giLCJibG9ja051bWJlciIsImN1bXVsYXRpdmVHYXNVc2VkIiwiZnJvbSIsImdhcyIsImdhc1ByaWNlIiwiZ2FzVXNlZCIsImlucHV0Iiwibm9uY2UiLCJ0aW1lU3RhbXAiLCJ0b2tlbk5hbWUiLCJ0b2tlblN5bWJvbCIsInRyYW5zYWN0aW9uSW5kZXgiLCJ0ZXh0IiwidHlwZSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImVyciIsIm1vZGFsQ29tcGxldGVkUGF5bWVudCIsInNob3dQYXJ0aWFsUGF5bWVudE1vZGFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/paymentData.tsx\n"));

/***/ })

});