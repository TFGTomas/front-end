"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/paymentData.tsx":
/*!************************************!*\
  !*** ./components/paymentData.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PaymentData; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-select */ \"./node_modules/react-select/dist/react-select.esm.js\");\n/* harmony import */ var _stores_basicStore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/stores/basicStore */ \"./stores/basicStore.ts\");\n/* harmony import */ var ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ethereumjs-wallet */ \"./node_modules/ethereumjs-wallet/dist.browser/index.js\");\n/* harmony import */ var ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/stores/usuarioStore */ \"./stores/usuarioStore.ts\");\n/* harmony import */ var _stores_billeteraTemp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/stores/billeteraTemp */ \"./stores/billeteraTemp.ts\");\n/* harmony import */ var _stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/stores/transaccionStore */ \"./stores/transaccionStore.ts\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\n\n\n\n\n\n\n\n\nclass PaymentData extends react__WEBPACK_IMPORTED_MODULE_1__.Component {\n    componentWillUnmount() {\n        this.clearTimer();\n        if (this.intervalId !== null) {\n            clearInterval(this.intervalId);\n        }\n    }\n    // Generar una nueva billetera\n    async generateWallet() {\n        // Obtener la clave privada y la dirección de la billetera\n        const privateKey = this.wallet.getPrivateKeyString();\n        const address = this.wallet.getAddressString();\n        //console.log(`Dirección de la billetera: ${address}`);\n        //console.log(`Clave privada: ${privateKey}`);\n        // Guardar la dirección en el estado\n        if (await this.createBilleteraTemp(privateKey, address)) {\n            this.setState({\n                walletAddress: address\n            });\n        }\n    }\n    // Crear en la base de datos la billetera\n    async createBilleteraTemp(privateKey, address) {\n        try {\n            var _this_props_selectedCrypto;\n            const billeteraTemp = {\n                user_id: this.props.email,\n                transaction_id: \"\",\n                cryptocurrency_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                public_key: address,\n                private_key_encrypted: privateKey,\n                expiration_date: new Date(\"2023-07-01T00:00:00.000Z\")\n            };\n            return await (0,_stores_billeteraTemp__WEBPACK_IMPORTED_MODULE_5__.createBilleteraTemp)(billeteraTemp);\n        } catch (error) {\n            return \"\";\n        }\n    }\n    getContractAddressCrypto() {\n        var _this_props_selectedCrypto;\n        //if(!this.props.selectedNetwork){\n        const network = (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.networks.find((net)=>net.id === 5);\n        const contract = network === null || network === void 0 ? void 0 : network.contract_address;\n        //console.log(`Dirección del contrato en Ethereum Goerli: ${contract}`);\n        //}\n        if (contract) {\n            this.setState({\n                contractAddress: contract\n            });\n        } else {\n        //console.log('No se encontró la dirección del contrato para la red seleccionada');\n        }\n    }\n    // Crear la transaccion en la base de datos para exchanges\n    async createTransaccion2(email) {\n        try {\n            var _this_props_selectedCrypto;\n            if (!this.props.selectedCrypto) {\n                throw new Error(\"No crypto selected\");\n            }\n            //console.log('transaccion desde exchange');\n            const transaccion = {\n                user_id: this.props.email,\n                crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                amount_crypto: parseFloat(this.state.finalPrice),\n                amount_fiat: this.state.totalPrice,\n                status: \"pending\",\n                network_id: \"5\",\n                temp_wallet_id: this.state.walletAddress,\n                invoice: {\n                    invoice_id: \"\",\n                    sent: false,\n                    downloaded: false\n                }\n            };\n            const createdTransaccion = await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.createTransaccion)(transaccion);\n            if (createdTransaccion._id) {\n                this.setState({\n                    transaccionId: createdTransaccion._id\n                });\n            } else {\n                console.log(\"No hay ID de la transaccion\");\n            }\n            return createdTransaccion._id;\n        } catch (error) {\n            console.log(\"Error creando la transacci\\xf3n de exchanges en la base de datos\");\n        }\n    }\n    // Actualizar los estados de la transaccion de exchanges\n    async updateTransaccion2(email, hashes, step) {\n        try {\n            if (step == \"4\") {\n                var _this_props_selectedCrypto;\n                if (!this.props.selectedCrypto) {\n                    // handle the error here, for example, throw an error or return from the function\n                    throw new Error(\"No crypto selected\");\n                }\n                //console.log('transaccion desde exchange');\n                const transaccion = {\n                    hash: hashes,\n                    user_id: this.props.email,\n                    crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                    amount_crypto: parseFloat(this.state.finalPrice),\n                    amount_fiat: this.state.totalPrice,\n                    status: \"confirmed\",\n                    network_id: \"5\",\n                    temp_wallet_id: this.state.walletAddress,\n                    invoice: {\n                        invoice_id: \"\",\n                        sent: false,\n                        downloaded: false\n                    }\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n            if (step == \"3\") {\n                const transaccion = {\n                    hash: hashes,\n                    status: \"waiting_for_confirmations\"\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n            if (step == \"2\") {\n                const transaccion = {\n                    hash: hashes,\n                    status: \"underpaid\"\n                };\n                await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.updateTransaccion)(this.state.transaccionId, transaccion);\n            }\n        } catch (error) {\n            console.log(\"Error actualizando la transacci\\xf3n de exchanges en la base de datos\");\n        }\n    }\n    // Actualizar el usuario con la trasaccion realizada\n    async updateUser2(email, newTransactionId) {\n        try {\n            // Obtener el usuario existente\n            const currentUser = await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.findOneUsuario)(email);\n            if (currentUser) {\n                // Crear una nueva lista de IDs que incluye los existentes y la nueva\n                const currentTransactionIds = currentUser.transaction_ids || []; // Utilizar un array vacío si es undefined\n                const updatedTransactionIds = [\n                    ...currentTransactionIds,\n                    newTransactionId\n                ];\n                const userUpdate = {\n                    wallets: [\n                        {\n                            address: \"exchange wallet\",\n                            network: \"5\"\n                        }\n                    ],\n                    transaction_ids: updatedTransactionIds\n                };\n                await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.updateUsuario)(email, userUpdate);\n            } else {\n            // Manejar el caso cuando el usuario no se encuentra\n            }\n        } catch (error) {\n        // Manejar el error\n        }\n    }\n    // Comprueba una vez algunas cosas como si es exchange, los precios del gas, transacciones y otros precios.\n    async componentDidMount() {\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        if (!this.state.isWalletGenerated && !comprobarEsExchange) {\n            this.generateWallet();\n        }\n        this.startTimer();\n        // Obtener los precios del gas de las cadenas\n        const gasPrices = await this.getGasPrices();\n        const options = this.getOptions(gasPrices);\n        const transacciones = await this.fetchTransactions();\n        //console.log('las transacciones ', transacciones);\n        // Obtener precio de la criptomoneda y calcular en la cantidad para despues hacer el fixed\n        const cryptoPrice = await this.getPrices();\n        const partialAmount = this.state.totalPrice / cryptoPrice;\n        const priceFixed = partialAmount.toFixed(8);\n        this.setState({\n            selectedOption: options[0],\n            gasPrices,\n            selectedCryptoPrice: cryptoPrice,\n            finalPrice: priceFixed,\n            transactions: transacciones\n        });\n        //const qrCode = await this.getQR();\n        //this.setState({ qrCode });\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , chains , isLoading , pendingChainId , cryptoNetworks , isError , data , balances  } = this.props;\n        if (!chains.some((x)=>x.id === parseInt(selectedNetwork, 10))) {\n            this.setState({\n                invalidNetwork: true\n            });\n        }\n    //console.log('esta es la network: ', selectedNetwork);\n    }\n    // Actulizar el QR y crear nueva transaccion\n    async componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.state.qrCode && !this.isExchange(this.props.walletExchange) && this.state.step === 1 && this.intervalId === null) {\n            // TODO descomenta las dos lineas de abajo cuando quieras que el codigo QR se ejecute\n            //const qr = await this.getQRCode();\n            //if (qr) this.setState({ qrCode: qr });\n            // Now set a new interval\n            this.intervalId = setInterval(()=>this.fetchDataAndUpdateStep(), 3000);\n        //console.log(this.intervalId);\n        //this.simulateTransactions();\n        // TODO comenta la linea this.simulateTransactions() y descomenta la superior para que funcione en un entorno real\n        }\n        // comprobar boton de pago\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        if (comprobarEsExchange) {\n            if (this.props.balances !== prevProps.balances || this.state.finalPrice !== prevState.finalPrice) {\n                this.checkIfPayButtonShouldBeEnabled();\n            }\n        }\n        if ((this.props.isSuccessCoin || this.props.isSuccessToken) && !this.state.paymentCompletedOpen) {\n            //console.log('se ha completado el pago');\n            //console.log('se ha completado el pago Coin', this.props.dataHashCoin);\n            //console.log('se ha completado el pago Token', this.props.dataHashToken);\n            let hash = this.props.isSuccessCoin ? this.props.dataHashCoin : this.props.dataHashToken;\n            if (hash && hash.hash) {\n                this.setState({\n                    paymentCompletedOpen: true,\n                    hashes: [\n                        hash.hash\n                    ] // Asigna el valor de hash.hash en un array\n                });\n            } else {\n                console.error(\"Error al acceder a la propiedad hash del objeto\");\n            }\n            // crear la transaccion y actualizar usuario con el ID de la transaccion\n            const newTransactionId = await this.createTransaccion(this.props.email);\n            if (newTransactionId) {\n                await this.updateUser(this.props.email, newTransactionId);\n            } else {\n                console.error(\"Error al crear la transacci\\xf3n\");\n            }\n        }\n    }\n    async updateUser(email, newTransactionId) {\n        try {\n            // Obtener el usuario existente\n            const currentUser = await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.findOneUsuario)(email);\n            if (currentUser) {\n                // Crear una nueva lista de IDs que incluye los existentes y la nueva\n                const currentTransactionIds = currentUser.transaction_ids || []; // Utilizar un array vacío si es undefined\n                const updatedTransactionIds = [\n                    ...currentTransactionIds,\n                    newTransactionId\n                ];\n                const userUpdate = {\n                    wallets: [\n                        {\n                            address: this.props.address,\n                            network: this.props.selectedNetwork\n                        }\n                    ],\n                    transaction_ids: updatedTransactionIds\n                };\n                await (0,_stores_usuarioStore__WEBPACK_IMPORTED_MODULE_4__.updateUsuario)(email, userUpdate);\n            } else {\n                console.log(\"No se encuentra el usuario\");\n            }\n        } catch (error) {\n            console.log(\"Error al actualizar el usuario\");\n        }\n    }\n    // Crear transaccion desde billetera\n    async createTransaccion(email) {\n        try {\n            if (!this.props.selectedCrypto) {\n                throw new Error(\"No crypto selected\");\n            }\n            let id = null;\n            if (this.props.dataHashCoin) {\n                id = this.props.dataHashCoin.hash;\n            } else {\n                id = this.props.dataHashToken.hash;\n            }\n            const networkId = parseFloat(this.props.selectedNetwork);\n            const selectedNetwork = this.props.selectedCrypto.networks.find((network)=>network.id === networkId);\n            if (selectedNetwork && selectedNetwork.contract_pay) {\n                var _this_props_selectedCrypto;\n                const temp_wallet_id = selectedNetwork.contract_pay;\n                const transaccion = {\n                    hash: id,\n                    user_id: this.props.email,\n                    crypto_id: (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.id,\n                    amount_crypto: parseFloat(this.state.finalPrice),\n                    amount_fiat: this.state.totalPrice,\n                    status: \"confirmed\",\n                    network_id: this.props.selectedNetwork,\n                    temp_wallet_id: temp_wallet_id,\n                    invoice: {\n                        invoice_id: \"\",\n                        sent: false,\n                        downloaded: false\n                    }\n                };\n                const newTransaccion = await (0,_stores_transaccionStore__WEBPACK_IMPORTED_MODULE_6__.createTransaccion)(transaccion);\n                return newTransaccion._id;\n            } else {\n                throw new Error(\"No network with id \".concat(networkId));\n            }\n        } catch (error) {}\n    }\n    // Resultados del selector de redes\n    getOptions(gasPrices) {\n        const { isLoading , pendingChainId , cryptoNetworks  } = this.props;\n        const { selectedOption  } = this.state;\n        return this.props.chains.filter((x)=>{\n            const isCompatibleWithCrypto = cryptoNetworks.some((network)=>network.id === x.id);\n            //console.log('esto es la isCompatibleWithCrypto: ', isCompatibleWithCrypto);\n            return isCompatibleWithCrypto;\n        }).map((x)=>{\n            const network = cryptoNetworks.find((network)=>network.id === x.id);\n            //console.log('esto es la network: ', network);\n            const logo = network ? network.image : \"default_logo.png\";\n            return {\n                value: x.id,\n                label: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"custom-label\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"crypto-logo2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    className: \"red-logo2\",\n                                    src: \"/pasarela/\" + logo,\n                                    alt: \"\".concat(x.name, \" logo\")\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 774,\n                                    columnNumber: 33\n                                }, this),\n                                \" \"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 773,\n                            columnNumber: 29\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"network-name\",\n                            children: x.name\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 776,\n                            columnNumber: 29\n                        }, this),\n                        \" \",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"gas-price\",\n                            children: [\n                                \"Coste de gas: \",\n                                gasPrices[x.id],\n                                \"$\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 777,\n                            columnNumber: 29\n                        }, this),\n                        \" \",\n                        isLoading && pendingChainId === x.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"switching-indicator\",\n                            children: \"(switching)\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 778,\n                            columnNumber: 70\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"circle-icon-border\",\n                            children: selectedOption && selectedOption.value === x.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"circle-icon-fill\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 781,\n                                columnNumber: 37\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 779,\n                            columnNumber: 29\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 772,\n                    columnNumber: 25\n                }, this),\n                displayLabel: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"custom-label small-label\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                className: \"red-logo\",\n                                src: \"/pasarela/\" + logo,\n                                alt: \"\".concat(x.name, \" logo\")\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 789,\n                                columnNumber: 33\n                            }, this),\n                            \" \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"network-name\",\n                                children: x.name\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 790,\n                                columnNumber: 33\n                            }, this),\n                            \" \"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 788,\n                        columnNumber: 29\n                    }, this)\n                }, void 0, false)\n            };\n        });\n    }\n    /* METODOS PARA LOS MENSAJES MODALES */ checkSelectOpacity() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.menuIsOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open\");\n        }\n    }\n    checkSelectOpacityInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.menuInfoOpen) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open2\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open2\");\n        }\n    }\n    checkSelectOpacityMetamaskInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.menuMetamaskOpen) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open3\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open3\");\n        }\n    }\n    checkSelectExpiredInvoiceInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.expiredInvoice) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open4\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open4\");\n        }\n    }\n    checkSelectInvalidNetworkInfo() {\n        const mainWrapper2 = document.getElementById(\"interface-container\");\n        if (this.state.invalidNetwork) {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.add(\"menu-open5\");\n        } else {\n            mainWrapper2 === null || mainWrapper2 === void 0 ? void 0 : mainWrapper2.classList.remove(\"menu-open5\");\n        }\n    }\n    //Comprobar si es exchange\n    isExchange(walletExchange) {\n        // Si walletExchange es null, devuelve false.\n        if (walletExchange === null) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    renderInfoContainer() {\n        var _this_props_selectedCrypto;\n        if (!this.state.menuInfoOpen) {\n            return null;\n        }\n        const minutes = Math.floor(this.state.timeLeft / 60);\n        const seconds = this.state.timeLeft % 60;\n        // Calcula el importe parcial\n        const { selectedCrypto  } = this.props;\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n        //console.log(partialAmount);\n        //console.log(partialAmount.toFixed(8));\n        const priceFixed = partialAmount.toFixed(8);\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        const payed = this.state.payConfirmed;\n        const payedFixed = payed.toFixed(8);\n        const priceFixedNumber = parseFloat(priceFixed);\n        const payedFixedNumber = parseFloat(payedFixed);\n        const payedPending = priceFixedNumber - payedFixedNumber;\n        const payedPendingFixed = payedPending.toFixed(8);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: [\n                                \"Env\\xede su pago en \",\n                                minutes,\n                                \":\",\n                                seconds < 10 ? \"0\" : \"\",\n                                seconds\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 900,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    menuInfoOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 901,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 899,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Precio total:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 906,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                this.state.totalPrice,\n                                \" USD\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 907,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 905,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Tipo de cambio:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 910,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                this.state.selectedCryptoPrice,\n                                \" USD\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 911,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 909,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Importe parcial:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 914,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                priceFixed,\n                                \" \",\n                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 915,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 913,\n                    columnNumber: 17\n                }, this),\n                !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Ha sido pagado:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 925,\n                            columnNumber: 25\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                payedFixed,\n                                \" \",\n                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 926,\n                            columnNumber: 25\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 924,\n                    columnNumber: 21\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-total\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-label\",\n                            children: \"Importe total:\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 930,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"info-value\",\n                            children: [\n                                payedPendingFixed,\n                                \" \",\n                                (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.symbol\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 931,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 929,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 898,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoMetamaskContainer() {\n        if (!this.state.menuMetamaskOpen) {\n            return null;\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-metamask-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Escanea para continuar en Metamask\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 945,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    menuMetamaskOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 946,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 944,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-time\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        className: \"img-qr\",\n                        src: \"pasarela/qr-code.png\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 951,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 950,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 943,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoExpiredInvoiceContainer() {\n        if (!this.state.expiredInvoice) {\n            return null;\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-expired-invoice-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"info-time\",\n                        children: \"Factura caducada\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 965,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 964,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"Una factura solo es v\\xe1lida durante 15 minutos. Si quiere crear otra para realizar el pago, pulse en el siguiente bot\\xf3n\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 968,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 967,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"try-again-button\",\n                        onClick: ()=>{\n                            if (this.props.onTryAgain) {\n                                this.props.onTryAgain();\n                            }\n                            this.setState({\n                                expiredInvoice: false\n                            });\n                        },\n                        children: \"Intentar de nuevo\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 971,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 970,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 963,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoAddressPaymentContainer() {\n        var _this_props_selectedCrypto;\n        if (!this.state.addressPaymentOpen) {\n            return null;\n        }\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-address-payment-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Datos\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1020,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    addressPaymentOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1021,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1019,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-copy-data\",\n                    children: [\n                        \"Direcci\\xf3n\",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"copy-data\",\n                            children: [\n                                this.state.walletAddress,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-symbols-outlined copy-element\",\n                                    onClick: ()=>this.copyToClipboard(this.state.walletAddress, \"address\"),\n                                    children: this.state.copiedAddress ? \"done\" : \"content_copy\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1029,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1027,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1025,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-copy-data\",\n                    children: [\n                        \"Importe total\",\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"copy-data\",\n                            children: [\n                                this.state.finalPrice,\n                                \" \",\n                                (_this_props_selectedCrypto = this.props.selectedCrypto) === null || _this_props_selectedCrypto === void 0 ? void 0 : _this_props_selectedCrypto.symbol,\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"material-symbols-outlined copy-element\",\n                                    onClick: ()=>this.copyToClipboard(this.state.finalPrice, \"amount\"),\n                                    children: this.state.copiedAmount ? \"done\" : \"content_copy\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1038,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1036,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1034,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1018,\n            columnNumber: 13\n        }, this);\n    }\n    /*renderInfoPaymentContainer() {\r\n        if (!this.state.infoPaymentOpen) {\r\n            return null;\r\n        }\r\n        // Calcula el importe parcial\r\n        const { selectedCrypto } = this.props;\r\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\r\n\r\n        //console.log(partialAmount);\r\n        //console.log(partialAmount.toFixed(8));\r\n        const priceFixed = partialAmount.toFixed(5)\r\n\r\n        const minutes = Math.floor(this.state.timeLeft / 60);\r\n        const seconds = this.state.timeLeft % 60;\r\n\r\n        return (\r\n            <div className=\"info-container-partial-payment\" >\r\n                <div className=\"info-item-title\">\r\n                    <h3 className=\"info-time\">Envíe su pago en {minutes}:{seconds < 10 ? '0' : ''}{seconds}</h3>\r\n                    <span className=\"material-symbols-outlined close-modal\" onClick={() => this.setState({ infoPaymentOpen: false })}>\r\n                        cancel\r\n                    </span>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Precio total:</div>\r\n                    <div className=\"info-value\">{this.state.totalPrice} USD</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Tipo de cambio:</div>\r\n                    <div className=\"info-value\">{this.state.selectedCryptoPrice} USD</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Importe parcial:</div>\r\n                    <div className=\"info-value\">{priceFixed} {selectedCrypto?.symbol}</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Coste de red:</div>\r\n                    <div className=\"info-value\">...</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-label\">Ha sido pagado:</div>\r\n                    <div className=\"info-value\">...</div>\r\n                </div>\r\n                <div className=\"info-item-total\">\r\n                    <div className=\"info-label\">Importe total:</div>\r\n                    <div className=\"info-value\">... </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }*/ renderInfoPaymentCompletedContainer() {\n        if (!this.state.paymentCompletedOpen) {\n            return null;\n        }\n        // Crear los botones para cada hash\n        const hashButtons = this.state.hashes.map((hash, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"hash-button\",\n                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(hash), \"_blank\"),\n                children: [\n                    \"Pago \",\n                    index + 1\n                ]\n            }, hash, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1105,\n                columnNumber: 13\n            }, this));\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-payment-completed-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Pago completado\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1117,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>{\n                                this.setState({\n                                    paymentCompletedOpen: false\n                                });\n                                if (this.props.onTryAgain) {\n                                    this.props.onTryAgain();\n                                }\n                            },\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1118,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1116,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"\\xa1Tu pago ha sido completado con \\xe9xito! Gracias por utilizar nuestras servicios. Puedes ver los detalles de tu transacci\\xf3n a continuaci\\xf3n.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1130,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1129,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: this.state.hashes.length === 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            this.props.selectedNetwork === \"1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1137,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"5\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1144,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"97\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://testnet.bscscan.com/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1151,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"80001\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://mumbai.polygonscan.com/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1158,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"43114\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://testnet.snowtrace.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1165,\n                                columnNumber: 33\n                            }, this),\n                            this.props.selectedNetwork === \"\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1172,\n                                columnNumber: 33\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"try-again-button\",\n                                onClick: ()=>window.open(\"https://goerli.etherscan.io/tx/\".concat(this.state.hashes[0]), \"_blank\"),\n                                children: \"Ver pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1181,\n                                columnNumber: 29\n                            }, this),\n                            hashButtons\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1180,\n                        columnNumber: 25\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1132,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1115,\n            columnNumber: 13\n        }, this);\n    }\n    renderInfoPartialPaymentContainer() {\n        if (!this.state.partialPaymentOpen) {\n            return null;\n        }\n        // Calcula el importe parcial\n        const { selectedCrypto  } = this.props;\n        const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n        //console.log(partialAmount);\n        //console.log(partialAmount.toFixed(8));\n        const priceFixed = partialAmount.toFixed(8);\n        const payed = this.state.payConfirmed;\n        const payedFixed = payed.toFixed(8);\n        const priceFixedNumber = parseFloat(priceFixed);\n        const payedFixedNumber = parseFloat(payedFixed);\n        const payedPending = priceFixedNumber - payedFixedNumber;\n        const payedPendingFixed = payedPending.toFixed(8);\n        //console.log('priceFixedNumber', priceFixedNumber);\n        //console.log('payedFixedNumber', payedFixedNumber);\n        //console.log('payedPending', payedPending);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-partial-payment-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Pago parcialmente recibido\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1226,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"material-symbols-outlined close-modal\",\n                            onClick: ()=>this.setState({\n                                    partialPaymentOpen: false\n                                }),\n                            children: \"cancel\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1227,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1225,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"Hemos detectado tu pago, pero la cantidad enviada es inferior a la cantidad requerida. Por favor, env\\xeda el saldo restante para completar tu transacci\\xf3n.\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1232,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1231,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"amount-outstanding\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: [\n                            \" \",\n                            payedPendingFixed,\n                            \" \",\n                            selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1235,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1234,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-try-again\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"try-again-button\",\n                        onClick: ()=>this.setState({\n                                partialPaymentOpen: false\n                            }),\n                        children: \"Pagar faltante\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1238,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1237,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1224,\n            columnNumber: 13\n        }, this);\n    }\n    /* Aplicar CSS modales */ checkInfoAddressPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.addressPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open5\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open5\");\n        }\n    }\n    checkInfoPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.infoPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open6\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open6\");\n        }\n    }\n    checkInfoPaymentCompleted() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.paymentCompletedOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open7\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open7\");\n        }\n    }\n    checkInfoPartialPayment() {\n        const mainWrapper = document.getElementById(\"interface-container\");\n        if (this.state.partialPaymentOpen) {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.add(\"menu-open8\");\n        } else {\n            mainWrapper === null || mainWrapper === void 0 ? void 0 : mainWrapper.classList.remove(\"menu-open8\");\n        }\n    }\n    /* HASTA AQUI */ async fetchDataAndUpdateStep() {\n        this.getContractAddressCrypto(); // tengo que saber si hay contrato o no antes de hacer las peticiones\n        const transactions = await this.fetchTransactions();\n        //console.log('transacciones: ', transactions);\n        if (transactions && transactions.length) {\n            this.checkPaymentStatus(transactions);\n        }\n    }\n    modalPartialPayment() {\n        if (!this.state.modalPartialPayment) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {}, void 0, false);\n        // Configura un temporizador para cerrar el modal después de 5 segundos (5000 milisegundos)\n        setTimeout(()=>{\n            this.setState({\n                modalPartialPayment: false\n            });\n        }, 1000000);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative-container\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"modal\",\n                children: [\n                    \"Pago parcialmente recibido\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"material-symbols-outlined\",\n                        onClick: ()=>this.setState({\n                                modalPartialPayment: false\n                            }),\n                        children: \"cancel\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1317,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1315,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1314,\n            columnNumber: 13\n        }, this);\n    }\n    renderStepperPayment() {\n        if (this.state.step === 5) return \"\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"stepper-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 1 ? \"active-4\" : \"\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"circle-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1332,\n                                    columnNumber: 29\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1331,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Esperando pago\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1334,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1330,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 2 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1338,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1339,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1337,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 2 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Pago parcialmente recibido\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1341,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1336,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 3 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1345,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1346,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1344,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 3 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Esperando confirmaci\\xf3n\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1348,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1343,\n                        columnNumber: 21\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-4 \".concat(this.state.step >= 4 ? \"active-4\" : \"\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"line-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1352,\n                                        columnNumber: 29\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"circle-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                        lineNumber: 1353,\n                                        columnNumber: 29\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1351,\n                                columnNumber: 25\n                            }, this),\n                            this.state.step === 4 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"step-text\",\n                                children: \"Pago completado\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1355,\n                                columnNumber: 51\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1350,\n                        columnNumber: 21\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1329,\n                columnNumber: 17\n            }, this)\n        }, void 0, false);\n    }\n    renderInfoInvalidNetworkContainer() {\n        if (!this.state.invalidNetwork) {\n            return null;\n        }\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , pendingChainId , isloadingnetwork  } = this.props;\n        const { selectedOption  } = this.state;\n        const handleOptionChange = (red)=>{\n            //console.log('************', selectedOption);\n            switchNetwork === null || switchNetwork === void 0 ? void 0 : switchNetwork(1);\n            //console.log('pendingChainId ', pendingChainId);\n            {\n                isloadingnetwork && (console.log(\"estoy esperando a que cambies\"), this.setState({\n                    invalidNetwork: false\n                }));\n            }\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-invalid-network-container\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item-title\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"info-time\",\n                            children: \"Red equivocada\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1384,\n                            columnNumber: 21\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: ()=>this.setState({\n                                    invalidNetwork: false\n                                }),\n                            children: \"X\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1385,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1383,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"info-label\",\n                        children: \"La factura ha sido creada para realizar el pago por otras redes. Para continuar, por favor cambie la red en ajustes de Metamask. O haga clic abajo\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1388,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1387,\n                    columnNumber: 17\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"info-item\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"network-change-button\",\n                        onClick: ()=>handleOptionChange(1),\n                        children: \"Conectar a Etherum Mainnet\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1391,\n                        columnNumber: 21\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1390,\n                    columnNumber: 17\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1382,\n            columnNumber: 13\n        }, this);\n    }\n    //Metodo para pasar a base 64 la imagen recibida del QR\n    renderQRPayment() {\n        //if (!this.isExchange ()) return \"\"; \n        if (!this.state.qrCode) {\n            //return <span>Cargando código QR...</span>;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"lds-roller\",\n                style: {\n                    width: \"75px\",\n                    height: \"100px\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 91\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 102\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 113\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 124\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 135\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 146\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 157\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n                        fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                        lineNumber: 1403,\n                        columnNumber: 168\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1403,\n                columnNumber: 20\n            }, this);\n        }\n        function arrayBufferToBase64(buffer) {\n            let binary = \"\";\n            let bytes = [].slice.call(new Uint8Array(buffer));\n            bytes.forEach((b)=>binary += String.fromCharCode(b));\n            return window.btoa(binary);\n        }\n        let base64Image = arrayBufferToBase64(this.state.qrCode);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"info-qr-exchange\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                className: \"img-qr-exchange\",\n                src: \"data:image/png;base64,\".concat(base64Image)\n            }, void 0, false, {\n                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                lineNumber: 1417,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n            lineNumber: 1416,\n            columnNumber: 13\n        }, this);\n    }\n    // TODO Poner el valor data.data que es la billetera\n    // TODO Poner la imagen que corresponda en el data.logo\n    async getQRCode() {\n        //console.log(this.props.selectedCrypto?.image);\n        //console.log(this.state.walletAddress);\n        const axios = __webpack_require__(/*! axios */ \"./node_modules/axios/dist/browser/axios.cjs\");\n        const options = {\n            method: \"POST\",\n            url: \"https://qrcode-monkey.p.rapidapi.com/qr/custom\",\n            responseType: \"arraybuffer\",\n            headers: {\n                \"content-type\": \"application/json\",\n                \"X-RapidAPI-Key\": \"a27538d0admsh91a560dc2646b83p1bf9f9jsn2bd53d9e6666\",\n                \"X-RapidAPI-Host\": \"qrcode-monkey.p.rapidapi.com\"\n            },\n            data: {\n                data: \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\",\n                config: {\n                    body: \"dot\",\n                    eye: \"frame13\",\n                    eyeBall: \"ball14\",\n                    erf1: [],\n                    erf2: [\n                        \"fh\"\n                    ],\n                    erf3: [\n                        \"fv\"\n                    ],\n                    brf1: [],\n                    brf2: [\n                        \"fh\"\n                    ],\n                    brf3: [\n                        \"fv\"\n                    ],\n                    bodyColor: \"#EDEDED\",\n                    bgColor: \"#292929\",\n                    eye1Color: \"#EDEDED\",\n                    eye2Color: \"#EDEDED\",\n                    eye3Color: \"#EDEDED\",\n                    eyeBall1Color: \"#EDEDED\",\n                    eyeBall2Color: \"#EDEDED\",\n                    eyeBall3Color: \"#EDEDED\",\n                    gradientColor1: \"#EDEDED\",\n                    gradientColor2: \"#EDEDED\",\n                    gradientType: \"radial\",\n                    gradientOnEyes: false,\n                    logo: \"https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/512/Tether-USDT-icon.png\"\n                },\n                size: 300,\n                download: false,\n                file: \"png\"\n            }\n        };\n        try {\n            const response = await axios.request(options);\n            //console.log('devuelvo esto: ', response.data);\n            return response.data;\n        } catch (error) {\n            return \"\";\n            console.error(error);\n        }\n    }\n    formatNumber(value) {\n        if (value) {\n            const numberValue = parseFloat(value);\n            if (!Number.isInteger(numberValue)) {\n                return numberValue.toFixed(5);\n            }\n            return value;\n        }\n        return value;\n    }\n    getContractAddress() {\n        const { selectedCrypto , selectedNetwork  } = this.props;\n        // Encuentra la red seleccionada dentro de las redes de la criptomoneda seleccionada\n        const network = selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.networks.find((net)=>net.id === Number(selectedNetwork));\n        // Comprueba si hay un contract_address para la red seleccionada y devuelve el resultado\n        return network ? !!network.contract_address : false;\n    }\n    checkIfPayButtonShouldBeEnabled() {\n        const { balances  } = this.props;\n        const { finalPrice  } = this.state;\n        //console.log('PRECIO QUE DEBES PAGAR: ', finalPrice);\n        //console.log('balance tokens: ', balances);\n        //console.log('balance ETH: ', this.formatNumber(this.props.data?.formatted));\n        const tipoContractAddress = this.getContractAddress();\n        //TODO Coprobar si es exchange\n        if (!tipoContractAddress) {\n            console.log(\"Soy ETH \");\n            if (this.props.data.formatted >= parseFloat(finalPrice)) {\n                this.setState({\n                    isPayButtonEnabled: true\n                });\n            } else {\n                this.setState({\n                    isPayButtonEnabled: false\n                });\n            }\n        } else {\n            if (finalPrice && balances) {\n                const isPayButtonEnabled = balances >= parseFloat(finalPrice);\n                this.setState({\n                    isPayButtonEnabled\n                });\n            } else {\n                this.setState({\n                    isPayButtonEnabled: false\n                });\n            }\n        }\n    }\n    render() {\n        this.checkSelectOpacity();\n        this.checkSelectOpacityInfo();\n        this.checkSelectOpacityMetamaskInfo();\n        this.checkSelectExpiredInvoiceInfo();\n        this.checkSelectInvalidNetworkInfo();\n        /* AÑADIR NUEVOS METODOS */ this.checkInfoAddressPayment();\n        this.checkInfoPayment();\n        this.checkInfoPaymentCompleted();\n        this.checkInfoPartialPayment();\n        const { isInfoVisible  } = this.state;\n        const { selectedCrypto , selectedNetwork , handleNetworkChange , switchNetwork , chains , isLoading , pendingChainId , cryptoNetworks , isError , data , balances  } = this.props;\n        const { gasPrices , selectedOption , finalPrice  } = this.state;\n        const handleOptionChange = (selectedOption)=>{\n            //console.log('/*/*/*/*/*/*/*', selectedOption);\n            if (selectedOption && selectedOption.value) {\n                handleNetworkChange(selectedOption.value);\n                this.setState({\n                    selectedOption\n                });\n            }\n        };\n        const comprobarEsExchange = this.isExchange(this.props.walletExchange);\n        const timeLeftPercentage = (this.state.timeLeft / this.state.totalTime * 100).toFixed(2);\n        const strokeDashoffset = (282.6 * (this.state.timeLeft / this.state.totalTime)).toFixed(2);\n        //console.log(balances);\n        //console.log(data);\n        //console.log('saldo de la cripto elegida: ', parseFloat(data?.formatted).toFixed(5));\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"right-section-header\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            children: \"Datos de pago\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1571,\n                            columnNumber: 17\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"close-button-container\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"material-symbols-outlined close-modal-2\" /*onClick={() => this.setState({ menuInfoOpen: false })}*/ ,\n                                children: \"cancel\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                lineNumber: 1573,\n                                columnNumber: 21\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1572,\n                            columnNumber: 17\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1570,\n                    columnNumber: 15\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"payment-data\",\n                    children: [\n                        this.renderInfoContainer(),\n                        this.renderInfoMetamaskContainer(),\n                        this.renderInfoExpiredInvoiceContainer(),\n                        this.renderInfoPaymentCompletedContainer(),\n                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                this.renderInfoAddressPaymentContainer(),\n                                this.renderInfoPartialPaymentContainer()\n                            ]\n                        }, void 0, true),\n                        comprobarEsExchange && this.renderInfoInvalidNetworkContainer(),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"crypto-network-container\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"selected-crypto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-logo\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                className: \"imagen-logo\",\n                                                src: \"/pasarela/\" + (selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.image),\n                                                alt: \"\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name, \" logo\")\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                lineNumber: 1594,\n                                                columnNumber: 33\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1593,\n                                            columnNumber: 29\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-info\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"crypto-name\",\n                                                    children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1597,\n                                                    columnNumber: 33\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"crypto-symbol\",\n                                                    children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1598,\n                                                    columnNumber: 33\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1596,\n                                            columnNumber: 29\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1591,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"timer-container\",\n                                    onClick: ()=>{\n                                        //console.log('menuAbierto')\n                                        //this.checkSelectOpacityInfo()\n                                        this.setState({\n                                            menuInfoOpen: true\n                                        });\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"material-symbols-outlined material-info a\",\n                                            children: \"info_i\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1607,\n                                            columnNumber: 29\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            width: \"40\",\n                                            height: \"40\",\n                                            viewBox: \"0 0 100 100\",\n                                            className: \"timer-bar\",\n                                            style: {\n                                                transform: \"rotate(-90deg)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    cx: \"50\",\n                                                    cy: \"50\",\n                                                    r: \"45\",\n                                                    \"stroke-width\": \"8\",\n                                                    fill: \"none\",\n                                                    className: \"timer-bar__meter\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1611,\n                                                    columnNumber: 33\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    id: \"countdown\",\n                                                    cx: \"50\",\n                                                    cy: \"50\",\n                                                    r: \"45\",\n                                                    \"stroke-width\": \"8\",\n                                                    fill: \"none\",\n                                                    className: \"timer-bar__value\",\n                                                    \"stroke-dasharray\": \"282.6\",\n                                                    \"stroke-dashoffset\": strokeDashoffset\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                                    lineNumber: 1612,\n                                                    columnNumber: 33\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1610,\n                                            columnNumber: 29\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1602,\n                                    columnNumber: 25\n                                }, this),\n                                comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"network-selector\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_select__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            className: \"selector-red\",\n                                            classNamePrefix: \"my-select\",\n                                            isDisabled: !switchNetwork,\n                                            value: selectedOption,\n                                            onChange: handleOptionChange,\n                                            options: this.getOptions(this.state.gasPrices),\n                                            isSearchable: false,\n                                            //menuIsOpen={true}\n                                            onMenuOpen: ()=>{\n                                                console.log(\"menuAbierto\");\n                                                this.setState({\n                                                    menuIsOpen: true\n                                                });\n                                            },\n                                            onMenuClose: ()=>this.setState({\n                                                    menuIsOpen: false\n                                                }),\n                                            formatOptionLabel: (data, state)=>{\n                                                if (state.context === \"menu\") {\n                                                    // Cuando esté en el menú, mostramos todo\n                                                    return data.label;\n                                                } else {\n                                                    // Cuando la opción es la seleccionada, mostramos solo el logo y el nombre\n                                                    return data.displayLabel;\n                                                }\n                                            },\n                                            styles: {\n                                                control: (provided)=>({\n                                                        ...provided,\n                                                        width: this.state.menuIsOpen ? \"auto\" : 200\n                                                    })\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1618,\n                                            columnNumber: 37\n                                        }, this)\n                                    }, void 0, false)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1616,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1590,\n                            columnNumber: 21\n                        }, this),\n                        comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"wallet-balance\",\n                            children: [\n                                isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"Comprobando criptomonedas…\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1654,\n                                    columnNumber: 44\n                                }, this),\n                                isError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: \"Error comprobando balance\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1655,\n                                    columnNumber: 42\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"align-left\",\n                                    children: \"Tiene en su billetera:\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1656,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-container-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            className: \"imagen-logo-data\",\n                                            src: \"/pasarela/\" + (selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.image),\n                                            alt: \"\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name, \" logo\")\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1660,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-name-data\",\n                                            children: selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.name\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1661,\n                                            columnNumber: 33\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"crypto-balance-data\",\n                                            children: [\n                                                this.formatNumber(balances),\n                                                balances === undefined && this.formatNumber(data === null || data === void 0 ? void 0 : data.formatted),\n                                                \" \",\n                                                selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1662,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1659,\n                                    columnNumber: 29\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1653,\n                            columnNumber: 25\n                        }, this),\n                        !comprobarEsExchange /*&& this.state.qrCode*/  && // Si es un exchange mostrará el código QR donde realizar el pago\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: this.renderQRPayment()\n                        }, void 0, false),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"total-to-pay\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"align-left\",\n                                    children: \"Total a pagar:\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1674,\n                                    columnNumber: 25\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"price-copy\",\n                                    children: [\n                                        finalPrice,\n                                        \" \",\n                                        selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.symbol,\n                                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"material-symbols-outlined copy-element\",\n                                            onClick: ()=>this.setState({\n                                                    addressPaymentOpen: true\n                                                }),\n                                            children: \"content_copy\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                            lineNumber: 1680,\n                                            columnNumber: 33\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                                    lineNumber: 1677,\n                                    columnNumber: 25\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1673,\n                            columnNumber: 21\n                        }, this),\n                        comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"metamask-button\",\n                            onClick: ()=>{\n                                //console.log('menuAbierto')\n                                //this.checkSelectOpacityInfo()\n                                this.setState({\n                                    menuMetamaskOpen: true\n                                }) // Esto cambiará el estado cada vez que se haga click\n                                ;\n                            },\n                            children: \"Pagar con Metamask App\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                            lineNumber: 1688,\n                            columnNumber: 25\n                        }, this),\n                        !comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: this.renderStepperPayment()\n                        }, void 0, false)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1578,\n                    columnNumber: 17\n                }, this),\n                comprobarEsExchange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"pay-button \".concat(!this.state.isPayButtonEnabled ? \"disabled\" : \"\"),\n                    onClick: this.state.isPayButtonEnabled ? ()=>this.props.onClick(finalPrice) : undefined,\n                    children: \"Pagar\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\TFG\\\\front-end\\\\components\\\\paymentData.tsx\",\n                    lineNumber: 1704,\n                    columnNumber: 21\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    constructor(props){\n        super(props);\n        this.wallet = ethereumjs_wallet__WEBPACK_IMPORTED_MODULE_3___default().generate();\n        this.toggleInfoVisibility = ()=>{\n            this.setState((prevState)=>({\n                    isInfoVisible: !prevState.isInfoVisible\n                }));\n        };\n        // Método para obtener el precio de Ethereum en dólares desde la API de CoinGecko (Para el GAS de las redes que no me da OWLRACLE)\n        this.getEthPriceInDollars = async ()=>{\n            try {\n                const res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.coingecko.com/api/v3/simple/price?ids=ethereum&vs_currencies=usd\");\n                //console.log('****Ethereum price:', res.data.ethereum.usd);\n                return res.data.ethereum.usd;\n            } catch (error) {\n                //console.error('Error fetching Ethereum price:', error);\n                return null;\n            }\n        };\n        // Creo un nuevo método para obtener el precio de la criptomoneda seleccionada\n        this.getCryptoPriceInDollars = async (selectedCrypto)=>{\n            try {\n                const res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.coingecko.com/api/v3/simple/price?ids=\".concat(selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.id, \"&vs_currencies=usd\"));\n                //console.log('////// precio criptomoneda elegida: ', res.data[selectedCrypto?.id].usd);\n                return res.data[selectedCrypto === null || selectedCrypto === void 0 ? void 0 : selectedCrypto.id].usd;\n            } catch (error) {\n                return null;\n            }\n        };\n        // Método para obtener precios de gas desde la API\n        this.getGasPrices = async ()=>{\n            const { chains  } = this.props;\n            const gasPrices = {};\n            const ethPriceInDollars = await this.getEthPriceInDollars(); // Obtiene el precio de Ethereum en dólares\n            const apikey = process.env.API_OWLRACKE_KEY;\n            for (const chain of chains){\n                try {\n                    let res;\n                    if (chain.id === 80001) {\n                        // Si el ID de la cadena es 80001, haz una petición a la otra API\n                        res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://gasstation.polygon.technology/v2\");\n                        // Accede al precio 'standard' y conviértelo a dólares\n                        let gasPriceInGWei = res.data.standard.maxFee;\n                        //console.log('** COSTES DE RED AQUI ESTA EL DATO **:', res.data);\n                        let gasPriceInDollars = gasPriceInGWei * ethPriceInDollars / 1e9;\n                        //console.log('****MUMBAI price gas:', gasPriceInDollars);\n                        gasPrices[chain.id] = gasPriceInDollars.toFixed(2);\n                    } else {\n                        // Si el ID de la cadena no es 80001, haz una petición a la API original\n                        res = await axios__WEBPACK_IMPORTED_MODULE_8__[\"default\"].get(\"https://api.owlracle.info/v4/\".concat(chain.id, \"/gas?apikey=\").concat(apikey));\n                        gasPrices[chain.id] = res.data.speeds[3].estimatedFee.toFixed(2);\n                    //console.log('** COSTES DE RED AQUI ESTA EL DATO **:', res.data);\n                    }\n                } catch (error) {\n                    //console.error('Error fetching gas price for chain', chain.id, error);\n                    gasPrices[chain.id] = \"0.00\"; // Establece el precio del gas a \"0.00\" si la petición falla\n                }\n            }\n            //console.log('Estos son los gasPrices: ', gasPrices);\n            return gasPrices;\n        };\n        this.getPrices = async ()=>{\n            const { selectedCrypto  } = this.props;\n            const cryptoPriceInDollars = await this.getCryptoPriceInDollars(selectedCrypto); // Obtiene el precio en dólares\n            return cryptoPriceInDollars;\n        };\n        // Funcion para traer las transacciones de internas (ETH) y externas (Tokens)\n        this.fetchTransactions = async ()=>{\n            //const waddress = '0xb92eC3280324526dCc2366E3273fAD65fE69245d'\n            // cambiar por this.state.walletAddress\n            if (this.state.contractAddress) {\n                try {\n                    const res = await (0,_stores_basicStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"https://api-goerli.etherscan.io/api?module=account&action=tokentx&address=\".concat(this.state.walletAddress, \"&startblock=0&endblock=99999999&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8\"));\n                    //const res = await fetchAPI(`https://api-goerli.etherscan.io/api?module=account&action=txlist&address=0xb92eC3280324526dCc2366E3273fAD65fE69245d&startblock=0&endblock=99999999&page=1&offset=10&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8`);\n                    //this.setState({ transactions: res.data.result });\n                    return res.result;\n                } catch (error) {\n                    console.error(\"Error fetching transactions:\", error);\n                }\n            } else {\n                try {\n                    //const res = await fetchAPI(`https://api-goerli.etherscan.io/api?module=account&action=tokentx&address=${waddress}&startblock=0&endblock=99999999&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8`);\n                    const res = await (0,_stores_basicStore__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"https://api-goerli.etherscan.io/api?module=account&action=txlist&address=\".concat(this.state.walletAddress, \"&startblock=0&endblock=99999999&page=1&offset=10&sort=desc&apikey=7JDF4NDNJBJXTFQGB4XN9HW3ZCNBKCPWY8\"));\n                    //this.setState({ transactions: res.data.result });\n                    return res.result;\n                } catch (error) {\n                    console.error(\"Error fetching transactions:\", error);\n                }\n            }\n        };\n        this.timer = null;\n        this.startTimer = ()=>{\n            this.timer = setInterval(()=>{\n                if (this.state.timeLeft <= 0) {\n                    this.clearTimer();\n                    this.setState({\n                        expiredInvoice: true\n                    });\n                } else {\n                    this.setState((prevState)=>({\n                            timeLeft: prevState.timeLeft - 1\n                        }));\n                }\n            }, 1000);\n        };\n        this.clearTimer = ()=>{\n            if (this.timer !== null) {\n                clearInterval(this.timer);\n                this.timer = null;\n            }\n        };\n        // Metodo para comporbar las trasncciones, comprobar los 2 bloques en la cadena y verificar que es superior a la cantidad\n        this.checkPaymentStatus = async (transactions)=>{\n            const totalAmountNeeded = 20.00;\n            let totalReceived = 0;\n            let totalConfirmed = 0;\n            // TODO cambiar para comprobar direccion real\n            //const desiredToAddress = \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\";\n            //const desiredContractAddress = \"0x2e8d98fd126a32362f2bd8aa427e59a1ec63f780\";\n            const desiredToAddress = this.state.walletAddress;\n            this.getContractAddressCrypto();\n            const desiredContractAddress = this.state.contractAddress;\n            const partialAmount = this.state.totalPrice / this.state.selectedCryptoPrice;\n            //console.log(partialAmount);\n            //console.log(partialAmount.toFixed(8));\n            const totalPriceFixed = parseFloat(partialAmount.toFixed(5));\n            //console.log('ENTRO AQUI: ', desiredContractAddress);\n            let filteredTransactions = [];\n            if (Array.isArray(transactions)) {\n                filteredTransactions = transactions.filter((tx)=>tx.to.toLowerCase() === desiredToAddress.toLowerCase() && tx.contractAddress.toLowerCase() === desiredContractAddress.toLowerCase());\n            } else {\n                filteredTransactions = [];\n            }\n            if (!desiredContractAddress && Array.isArray(transactions)) {\n                filteredTransactions = transactions;\n            }\n            //console.log('filtradas: ', filteredTransactions);\n            for (let tx of filteredTransactions){\n                const tokenDecimal = tx.tokenDecimal || 18;\n                totalReceived += tx.value / Math.pow(10, tokenDecimal);\n                if (tx.confirmations >= 2) {\n                    totalConfirmed += tx.value / Math.pow(10, tokenDecimal);\n                    //console.log('total confirmadas: ', totalConfirmed);\n                    this.setState({\n                        payConfirmed: totalConfirmed\n                    });\n                }\n            }\n            const hashes = filteredTransactions.map((tx)=>tx.hash);\n            this.setState({\n                hashes: hashes\n            });\n            //console.log('el numero de hashes totales: /*/***//*/*/*/*', hashes);\n            if (!this.state.transaccionId) {\n                const newTransactionId = await this.createTransaccion2(this.props.email);\n                if (newTransactionId) {\n                    await this.updateUser2(this.props.email, newTransactionId);\n                } else {\n                    console.error(\"Error al crear la transacci\\xf3n\");\n                }\n            }\n            if (totalConfirmed >= totalPriceFixed) {\n                this.setState({\n                    step: 4\n                }); // Pago completado\n                await this.updateTransaccion2(this.props.email, hashes, \"4\");\n                if (this.intervalId) {\n                    clearInterval(this.intervalId);\n                }\n                if (!this.state.modalCompletedPaymentShown) {\n                    setTimeout(()=>{\n                        this.setState({\n                            paymentCompletedOpen: true,\n                            modalCompletedPaymentShown: true\n                        });\n                    }, 1000);\n                }\n            } else if (totalReceived >= totalPriceFixed) {\n                this.setState({\n                    step: 3\n                }); // Esperando confirmación\n                await this.updateTransaccion2(this.props.email, hashes, \"3\");\n            } else if (totalReceived > 0) {\n                this.setState({\n                    step: 2\n                }); // Pago parcialmente recibido\n                await this.updateTransaccion2(this.props.email, hashes, \"2\");\n                if (!this.state.modalPartialPaymentShown) {\n                    setTimeout(()=>{\n                        this.setState({\n                            partialPaymentOpen: true,\n                            modalPartialPaymentShown: true\n                        });\n                    }, 1000);\n                }\n            }\n        /*else {\r\n           this.setState({ step: 1 }); // Esperando pago\r\n       }*/ };\n        this.seconds = 0;\n        this.transactions = [];\n        // Metodo para simular transacciones\n        this.simulateTransactions = ()=>{\n            setInterval(()=>{\n                this.seconds += 1;\n                if (this.seconds === 3) {\n                    this.transactions.push(this.createTransaction(4));\n                } else if (this.seconds === 7) {\n                    this.transactions.push(this.createTransaction(10));\n                } else if (this.seconds === 10) {\n                    this.transactions.push(this.createTransaction(7));\n                }\n                this.checkPaymentStatus(this.transactions);\n            }, 6000); // Cada segundo\n        };\n        // Crear un stransaccion simulada\n        this.createTransaction = (value)=>{\n            const desiredToAddress = \"0xb92eC3280324526dCc2366E3273fAD65fE69245d\";\n            const desiredContractAddress = \"0x2e8d98fd126a32362f2bd8aa427e59a1ec63f780\";\n            return {\n                blockHash: \"0xa3d1765bc1099d6253ef38992c257092da33488d576b85efa338980857499b42\",\n                blockNumber: \"9221161\",\n                confirmations: \"34114\",\n                contractAddress: desiredContractAddress,\n                cumulativeGasUsed: \"2975510\",\n                from: \"0xb92ec3280324526dcc2366e3273fad65fe69245d\",\n                gas: \"77469\",\n                gasPrice: \"1500000016\",\n                gasUsed: \"51646\",\n                hash: \"0xa0336fa81536f4dcbe6bfe404d390d8dae998b2d5e1325f1813758c88b66a412\",\n                input: \"deprecated\",\n                nonce: \"27\",\n                timeStamp: \"1687436808\",\n                to: desiredToAddress,\n                tokenDecimal: \"6\",\n                tokenName: \"USDT\",\n                tokenSymbol: \"USDT\",\n                transactionIndex: \"24\",\n                value: String(value * Math.pow(10, 6)) // Multiplica by 10^6 decimales de USDT\n            };\n        };\n        this.intervalId = null;\n        /* Boton para copiar en el portapapeles */ this.copyToClipboard = async (text, type)=>{\n            try {\n                await navigator.clipboard.writeText(text);\n                if (type === \"address\") {\n                    this.setState({\n                        copiedAddress: true\n                    });\n                } else if (type === \"amount\") {\n                    this.setState({\n                        copiedAmount: true\n                    });\n                }\n                setTimeout(()=>{\n                    if (type === \"address\") {\n                        this.setState({\n                            copiedAddress: false\n                        });\n                    } else if (type === \"amount\") {\n                        this.setState({\n                            copiedAmount: false\n                        });\n                    }\n                }, 1000);\n                console.log(\"Text copied to clipboard\");\n            } catch (err) {\n                console.log(\"Error copying text: \", err);\n            }\n        };\n        this.state = {\n            gasPrices: {},\n            selectedOption: null,\n            isInfoVisible: false,\n            menuIsOpen: false,\n            //qrCode: null\n            menuInfoOpen: false,\n            selectedCryptoPrice: 0,\n            totalPrice: 20,\n            finalPrice: \"\",\n            menuMetamaskOpen: false,\n            expiredInvoice: false,\n            invalidNetwork: false,\n            transactions: {},\n            qrCode: \"\",\n            // STEPPER\n            step: 1,\n            modalPartialPayment: false,\n            modalPartialPaymentShown: false,\n            modalCompletedPayment: false,\n            modalCompletedPaymentShown: false,\n            // NUEVOS MENSAJES MODALES\n            addressPaymentOpen: false,\n            infoPaymentOpen: false,\n            paymentCompletedOpen: false,\n            partialPaymentOpen: false,\n            //contador de tiempo\n            timeLeft: 300,\n            totalTime: 300,\n            showPartialPaymentModal: false,\n            timer: null,\n            // Billetera\n            walletAddress: \"\",\n            isWalletGenerated: false,\n            contractAddress: \"\",\n            // copiar\n            copiedAddress: false,\n            copiedAmount: false,\n            //boton pagar\n            isPayButtonEnabled: false,\n            //id transaccion\n            transaccionId: null,\n            // hashes de pago\n            hashes: [],\n            // cantidad pagada\n            payConfirmed: 0\n        };\n    }\n}\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVWLGtCQUFrQjtZQUNsQm9HLGNBQWM7UUFDbEI7SUFDSjtBQW1oREo7QUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL3BheW1lbnREYXRhLnRzeD9lMmZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4Y2hhbmdlLCBOZXR3b3JrLCBXYWxsZXQsIENyeXB0bywgQmlsbGV0ZXJhVGVtcCwgVHJhbnNhY2Npb24gfSBmcm9tICdAL2RlZmluaXRpb25zL2dsb2JhbCc7XHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgQ2hhaW4gfSBmcm9tICd3YWdtaSc7XHJcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XHJcbmltcG9ydCBTZWxlY3QgZnJvbSAncmVhY3Qtc2VsZWN0JztcclxuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgZmV0Y2hBUEkgZnJvbSBcIkAvc3RvcmVzL2Jhc2ljU3RvcmVcIjtcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFdhbGxldExpYnJhcnkgZnJvbSAnZXRoZXJldW1qcy13YWxsZXQnO1xyXG5pbXBvcnQgeyB1c2VDb250cmFjdFdyaXRlLCB1c2VTZW5kVHJhbnNhY3Rpb24gfSBmcm9tICd3YWdtaSdcclxuaW1wb3J0IHsgVXN1YXJpbyB9IGZyb20gXCJAL2RlZmluaXRpb25zL2dsb2JhbFwiO1xyXG5pbXBvcnQgeyBmaW5kT25lVXN1YXJpbywgdXBkYXRlVXN1YXJpbyB9IGZyb20gXCJAL3N0b3Jlcy91c3VhcmlvU3RvcmVcIjtcclxuaW1wb3J0IHsgY3JlYXRlQmlsbGV0ZXJhVGVtcCB9IGZyb20gXCJAL3N0b3Jlcy9iaWxsZXRlcmFUZW1wXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVRyYW5zYWNjaW9uLCB1cGRhdGVUcmFuc2FjY2lvbiB9IGZyb20gJ0Avc3RvcmVzL3RyYW5zYWNjaW9uU3RvcmUnO1xyXG5leHBvcnQgaW50ZXJmYWNlIElQYXltZW50RGF0YVByb3BzIHtcclxuICAgIHdhbGxldEV4Y2hhbmdlOiBXYWxsZXQgfCBFeGNoYW5nZTtcclxuICAgIGNyeXB0b3M6IENyeXB0b1tdO1xyXG4gICAgc2VsZWN0ZWRDcnlwdG86IENyeXB0byB8IG51bGw7IC8vIENyeXB0byBzZWxlY2Npb25hZGFcclxuICAgIHNlbGVjdGVkTmV0d29yazogc3RyaW5nOyAvLyBSZWQgc2VsZWNjaW9uYWRhXHJcbiAgICBoYW5kbGVOZXR3b3JrQ2hhbmdlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDsgLy8gRnVuY2nDs24gZGUgY2FtYmlvIGRlIHJlZFxyXG4gICAgc3dpdGNoTmV0d29yaz86IChjaGFpbklkPzogbnVtYmVyKSA9PiB2b2lkOyAvLyBDYW1iaW8gZGUgcmVkIGRlIGxhIGJpYmxpb3RlY2Egd2FnbWlcclxuICAgIGNoYWluczogQ2hhaW5bXTsgLy8gQ2FkZW5hcyBkZSBsYSByZWRcclxuICAgIGlzTG9hZGluZzogYm9vbGVhbjsgLy8gUGFyYSBpbmRpY2FyIHNpIHNlIGVzdMOhIGNhcmdhbmRvXHJcbiAgICBwZW5kaW5nQ2hhaW5JZDogbnVtYmVyIHwgdW5kZWZpbmVkOyAvLyBJRCBkZSBsYSBjYWRlbmEgcGVuZGllbnRlXHJcbiAgICBjcnlwdG9OZXR3b3JrczogTmV0d29ya1tdOyAvLyBSZWRlcyBkZSBsYSBjcmlwdG9tb25lZGEgc2VsZWNjaW9uYWRhXHJcbiAgICBkYXRhOiBhbnk7IC8vIERhdG9zIGRlIGJhbGFuY2VcclxuICAgIGlzRXJyb3I6IGJvb2xlYW47IC8vIEluZGljYXIgc2kgaGF5IHVuIGVycm9yXHJcbiAgICBiYWxhbmNlczogbnVtYmVyIHwgdW5kZWZpbmVkOyAvLyBCYWxhbmNlIGRlbCBjb250cmF0b1xyXG4gICAgaXNsb2FkaW5nbmV0d29yazogYm9vbGVhbjsgLy8gU2kgZXN0YSBjYW1iaWFuZG8gZGUgcmVkXHJcbiAgICBvbkNsaWNrOiAoZmluYWxQcmljZTogYW55KSA9PiB2b2lkOyAvLyBTaSBwdWxzYSBwYXJhIGVsIHBhZ29cclxuICAgIGlzU3VjY2Vzc0NvaW46IGJvb2xlYW4sIC8vIFBhZ28gZGUgQ29pbiBjb21wbGV0YWRvXHJcbiAgICBpc1N1Y2Nlc3NUb2tlbjogYm9vbGVhbiwgLy8gUGFnbyBkZSBUb2tlbiBjb21wbGV0YWRvXHJcbiAgICBkYXRhSGFzaENvaW46IGFueSwgLy8gSGFzaCBkZSBsYSBDb2luXHJcbiAgICBkYXRhSGFzaFRva2VuOiBhbnksIC8vIEhhc2ggZGVMIFRva2VuXHJcbiAgICBlbWFpbDogc3RyaW5nLCAvLyBFbWFpbCBkZWwgdXN1YXJpb1xyXG4gICAgYWRkcmVzczogYW55LCAvLyBEaXJlY2Npb24gZGVsIHVzdWFyaW9cclxuICAgIG9uVHJ5QWdhaW4/OiAoKSA9PiB2b2lkLCAvLyBWb2x2ZXIgYSByZXBldGlyIGUgaXIgYWwgaW5pY2lvXHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJUGF5bWVudERhdGFTdGF0ZSB7XHJcbiAgICBpc0luZm9WaXNpYmxlOiBib29sZWFuO1xyXG4gICAgc2VsZWN0ZWRPcHRpb246IHtcclxuICAgICAgICBkaXNwbGF5TGFiZWw6IFJlYWN0Tm9kZTsgdmFsdWU6IG51bWJlciwgbGFiZWw6IEpTWC5FbGVtZW50XHJcbiAgICB9IHwgbnVsbDtcclxuICAgIGdhc1ByaWNlczoge307XHJcbiAgICBtZW51SXNPcGVuOiBib29sZWFuO1xyXG4gICAgcXJDb2RlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgbWVudUluZm9PcGVuOiBib29sZWFuO1xyXG4gICAgc2VsZWN0ZWRDcnlwdG9QcmljZTogbnVtYmVyLFxyXG4gICAgdG90YWxQcmljZTogbnVtYmVyLC8vIFByZWNpbyBxdWUgcGFnYSBlbiBVU0RcclxuICAgIGZpbmFsUHJpY2U6IHN0cmluZywgLy8gUHJlY2lvIGZpbmFsIHF1ZSB0aWVuZSBxdWUgcGFnYXJcclxuICAgIG1lbnVNZXRhbWFza09wZW46IGJvb2xlYW47XHJcbiAgICBleHBpcmVkSW52b2ljZTogYm9vbGVhbjtcclxuICAgIGludmFsaWROZXR3b3JrOiBib29sZWFuO1xyXG4gICAgdHJhbnNhY3Rpb25zOiB7fTtcclxuXHJcbiAgICAvLyBTVEVQUEVSXHJcbiAgICBzdGVwOiBudW1iZXI7XHJcbiAgICBtb2RhbFBhcnRpYWxQYXltZW50OiBib29sZWFuO1xyXG4gICAgbW9kYWxQYXJ0aWFsUGF5bWVudFNob3duOiBib29sZWFuLFxyXG4gICAgbW9kYWxDb21wbGV0ZWRQYXltZW50OiBib29sZWFuO1xyXG4gICAgbW9kYWxDb21wbGV0ZWRQYXltZW50U2hvd246IGJvb2xlYW4sXHJcblxyXG4gICAgLy8gTlVFVk9TIE1FTlNBSkVTIE1PREFMRVNcclxuICAgIGFkZHJlc3NQYXltZW50T3BlbjogYm9vbGVhbjtcclxuICAgIGluZm9QYXltZW50T3BlbjogYm9vbGVhbjtcclxuICAgIHBheW1lbnRDb21wbGV0ZWRPcGVuOiBib29sZWFuO1xyXG4gICAgcGFydGlhbFBheW1lbnRPcGVuOiBib29sZWFuO1xyXG5cclxuICAgIC8vIGNvbnRhZG90IGRlIHRpZW1wb1xyXG4gICAgdGltZUxlZnQ6IG51bWJlcjsgLy8gRW4gc2VndW5kb3NcclxuICAgIHRvdGFsVGltZTogbnVtYmVyO1xyXG4gICAgc2hvd1BhcnRpYWxQYXltZW50TW9kYWw6IGJvb2xlYW47XHJcbiAgICB0aW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsO1xyXG5cclxuICAgIC8vIGJpbGxldGVyYXNcclxuICAgIHdhbGxldEFkZHJlc3M6IHN0cmluZztcclxuICAgIGlzV2FsbGV0R2VuZXJhdGVkOiBib29sZWFuO1xyXG4gICAgY29udHJhY3RBZGRyZXNzOiBzdHJpbmc7XHJcblxyXG4gICAgLy8gQ29waWFyXHJcbiAgICBjb3BpZWRBZGRyZXNzOiBib29sZWFuO1xyXG4gICAgY29waWVkQW1vdW50OiBib29sZWFuO1xyXG5cclxuICAgIC8vIGJvdG9uIHBhZ2FyXHJcbiAgICBpc1BheUJ1dHRvbkVuYWJsZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgLy90cmFuc2FjY2lvbiBpZFxyXG4gICAgdHJhbnNhY2Npb25JZDogc3RyaW5nIHwgbnVsbDtcclxuXHJcbiAgICAvL2hhc2hlcyBkZSBwYWdvXHJcbiAgICBoYXNoZXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIC8vQ2FudGlkYWQgcGFnYWRhXHJcbiAgICBwYXlDb25maXJtZWQ6IG51bWJlcjtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXltZW50RGF0YSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUGF5bWVudERhdGFQcm9wcywgSVBheW1lbnREYXRhU3RhdGU+IHtcclxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUGF5bWVudERhdGFQcm9wcykge1xyXG4gICAgICAgIHN1cGVyKHByb3BzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgZ2FzUHJpY2VzOiB7fSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb246IG51bGwsXHJcbiAgICAgICAgICAgIGlzSW5mb1Zpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBtZW51SXNPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgLy9xckNvZGU6IG51bGxcclxuICAgICAgICAgICAgbWVudUluZm9PcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VsZWN0ZWRDcnlwdG9QcmljZTogMCxcclxuICAgICAgICAgICAgdG90YWxQcmljZTogMjAsIC8vIFByZWNpbyBpbmljaWFsIGRlICQyMFxyXG4gICAgICAgICAgICBmaW5hbFByaWNlOiBcIlwiLCAvLyBQcmVjaW8gZmluYWwgcXVlIHRpZW5lIHF1ZSBwYWdhclxyXG4gICAgICAgICAgICBtZW51TWV0YW1hc2tPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgZXhwaXJlZEludm9pY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBpbnZhbGlkTmV0d29yazogZmFsc2UsXHJcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uczoge30sXHJcbiAgICAgICAgICAgIHFyQ29kZTogXCJcIixcclxuXHJcbiAgICAgICAgICAgIC8vIFNURVBQRVJcclxuICAgICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgICAgbW9kYWxQYXJ0aWFsUGF5bWVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsUGFydGlhbFBheW1lbnRTaG93bjogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsQ29tcGxldGVkUGF5bWVudDogZmFsc2UsXHJcbiAgICAgICAgICAgIG1vZGFsQ29tcGxldGVkUGF5bWVudFNob3duOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vIE5VRVZPUyBNRU5TQUpFUyBNT0RBTEVTXHJcbiAgICAgICAgICAgIGFkZHJlc3NQYXltZW50T3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIGluZm9QYXltZW50T3BlbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHBheW1lbnRDb21wbGV0ZWRPcGVuOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFydGlhbFBheW1lbnRPcGVuOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vY29udGFkb3IgZGUgdGllbXBvXHJcbiAgICAgICAgICAgIHRpbWVMZWZ0OiAzMDAsIC8vIFRpZW1wbyBlbiBzZWd1bmRvc1xyXG4gICAgICAgICAgICB0b3RhbFRpbWU6IDMwMCxcclxuICAgICAgICAgICAgc2hvd1BhcnRpYWxQYXltZW50TW9kYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aW1lcjogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIC8vIEJpbGxldGVyYVxyXG4gICAgICAgICAgICB3YWxsZXRBZGRyZXNzOiAnJyxcclxuICAgICAgICAgICAgaXNXYWxsZXRHZW5lcmF0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250cmFjdEFkZHJlc3M6ICcnLFxyXG5cclxuICAgICAgICAgICAgLy8gY29waWFyXHJcbiAgICAgICAgICAgIGNvcGllZEFkZHJlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3BpZWRBbW91bnQ6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9ib3RvbiBwYWdhclxyXG4gICAgICAgICAgICBpc1BheUJ1dHRvbkVuYWJsZWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICAgICAgLy9pZCB0cmFuc2FjY2lvblxyXG4gICAgICAgICAgICB0cmFuc2FjY2lvbklkOiBudWxsLFxyXG5cclxuICAgICAgICAgICAgLy8gaGFzaGVzIGRlIHBhZ29cclxuICAgICAgICAgICAgaGFzaGVzOiBbXSBhcyBzdHJpbmdbXSxcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbnRpZGFkIHBhZ2FkYVxyXG4gICAgICAgICAgICBwYXlDb25maXJtZWQ6IDAsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHdhbGxldCA9IFdhbGxldExpYnJhcnkuZ2VuZXJhdGUoKTtcclxuXHJcbiAgICB0b2dnbGVJbmZvVmlzaWJpbGl0eSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7XHJcbiAgICAgICAgICAgIGlzSW5mb1Zpc2libGU6ICFwcmV2U3RhdGUuaXNJbmZvVmlzaWJsZSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBlbCBwcmVjaW8gZGUgRXRoZXJldW0gZW4gZMOzbGFyZXMgZGVzZGUgbGEgQVBJIGRlIENvaW5HZWNrbyAoUGFyYSBlbCBHQVMgZGUgbGFzIHJlZGVzIHF1ZSBubyBtZSBkYSBPV0xSQUNMRSlcclxuICAgIGdldEV0aFByaWNlSW5Eb2xsYXJzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMvc2ltcGxlL3ByaWNlP2lkcz1ldGhlcmV1bSZ2c19jdXJyZW5jaWVzPXVzZCcpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcqKioqRXRoZXJldW0gcHJpY2U6JywgcmVzLmRhdGEuZXRoZXJldW0udXNkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhLmV0aGVyZXVtLnVzZDtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIEV0aGVyZXVtIHByaWNlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZW8gdW4gbnVldm8gbcOpdG9kbyBwYXJhIG9idGVuZXIgZWwgcHJlY2lvIGRlIGxhIGNyaXB0b21vbmVkYSBzZWxlY2Npb25hZGFcclxuICAgIGdldENyeXB0b1ByaWNlSW5Eb2xsYXJzID0gYXN5bmMgKHNlbGVjdGVkQ3J5cHRvOiBhbnkpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLmNvaW5nZWNrby5jb20vYXBpL3YzL3NpbXBsZS9wcmljZT9pZHM9JHtzZWxlY3RlZENyeXB0bz8uaWR9JnZzX2N1cnJlbmNpZXM9dXNkYCk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJy8vLy8vLyBwcmVjaW8gY3JpcHRvbW9uZWRhIGVsZWdpZGE6ICcsIHJlcy5kYXRhW3NlbGVjdGVkQ3J5cHRvPy5pZF0udXNkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhW3NlbGVjdGVkQ3J5cHRvPy5pZF0udXNkO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNw6l0b2RvIHBhcmEgb2J0ZW5lciBwcmVjaW9zIGRlIGdhcyBkZXNkZSBsYSBBUElcclxuICAgIGdldEdhc1ByaWNlcyA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCB7IGNoYWlucyB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgY29uc3QgZ2FzUHJpY2VzOiBSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+ID0ge307XHJcbiAgICAgICAgY29uc3QgZXRoUHJpY2VJbkRvbGxhcnMgPSBhd2FpdCB0aGlzLmdldEV0aFByaWNlSW5Eb2xsYXJzKCk7IC8vIE9idGllbmUgZWwgcHJlY2lvIGRlIEV0aGVyZXVtIGVuIGTDs2xhcmVzXHJcbiAgICAgICAgY29uc3QgYXBpa2V5ID0gcHJvY2Vzcy5lbnYuQVBJX09XTFJBQ0tFX0tFWTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGFpbiBvZiBjaGFpbnMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxldCByZXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhaW4uaWQgPT09IDgwMDAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU2kgZWwgSUQgZGUgbGEgY2FkZW5hIGVzIDgwMDAxLCBoYXogdW5hIHBldGljacOzbiBhIGxhIG90cmEgQVBJXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL2dhc3N0YXRpb24ucG9seWdvbi50ZWNobm9sb2d5L3YyYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQWNjZWRlIGFsIHByZWNpbyAnc3RhbmRhcmQnIHkgY29udmnDqXJ0ZWxvIGEgZMOzbGFyZXNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ2FzUHJpY2VJbkdXZWkgPSByZXMuZGF0YS5zdGFuZGFyZC5tYXhGZWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnKiogQ09TVEVTIERFIFJFRCBBUVVJIEVTVEEgRUwgREFUTyAqKjonLCByZXMuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdhc1ByaWNlSW5Eb2xsYXJzID0gZ2FzUHJpY2VJbkdXZWkgKiBldGhQcmljZUluRG9sbGFycyAvIDFlOTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcqKioqTVVNQkFJIHByaWNlIGdhczonLCBnYXNQcmljZUluRG9sbGFycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FzUHJpY2VzW2NoYWluLmlkXSA9IGdhc1ByaWNlSW5Eb2xsYXJzLnRvRml4ZWQoMik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVsIElEIGRlIGxhIGNhZGVuYSBubyBlcyA4MDAwMSwgaGF6IHVuYSBwZXRpY2nDs24gYSBsYSBBUEkgb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vYXBpLm93bHJhY2xlLmluZm8vdjQvJHtjaGFpbi5pZH0vZ2FzP2FwaWtleT0ke2FwaWtleX1gKTtcclxuICAgICAgICAgICAgICAgICAgICBnYXNQcmljZXNbY2hhaW4uaWRdID0gcmVzLmRhdGEuc3BlZWRzWzNdLmVzdGltYXRlZEZlZS50b0ZpeGVkKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyoqIENPU1RFUyBERSBSRUQgQVFVSSBFU1RBIEVMIERBVE8gKio6JywgcmVzLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBnYXMgcHJpY2UgZm9yIGNoYWluJywgY2hhaW4uaWQsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIGdhc1ByaWNlc1tjaGFpbi5pZF0gPSBcIjAuMDBcIjsgLy8gRXN0YWJsZWNlIGVsIHByZWNpbyBkZWwgZ2FzIGEgXCIwLjAwXCIgc2kgbGEgcGV0aWNpw7NuIGZhbGxhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnRXN0b3Mgc29uIGxvcyBnYXNQcmljZXM6ICcsIGdhc1ByaWNlcyk7XHJcbiAgICAgICAgcmV0dXJuIGdhc1ByaWNlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXRQcmljZXMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZENyeXB0byB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBjcnlwdG9QcmljZUluRG9sbGFycyA9IGF3YWl0IHRoaXMuZ2V0Q3J5cHRvUHJpY2VJbkRvbGxhcnMoc2VsZWN0ZWRDcnlwdG8pOyAvLyBPYnRpZW5lIGVsIHByZWNpbyBlbiBkw7NsYXJlc1xyXG4gICAgICAgIHJldHVybiBjcnlwdG9QcmljZUluRG9sbGFycztcclxuICAgIH1cclxuXHJcbiAgICAvLyBGdW5jaW9uIHBhcmEgdHJhZXIgbGFzIHRyYW5zYWNjaW9uZXMgZGUgaW50ZXJuYXMgKEVUSCkgeSBleHRlcm5hcyAoVG9rZW5zKVxyXG4gICAgZmV0Y2hUcmFuc2FjdGlvbnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgLy9jb25zdCB3YWRkcmVzcyA9ICcweGI5MmVDMzI4MDMyNDUyNmRDYzIzNjZFMzI3M2ZBRDY1ZkU2OTI0NWQnXHJcbiAgICAgICAgLy8gY2FtYmlhciBwb3IgdGhpcy5zdGF0ZS53YWxsZXRBZGRyZXNzXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29udHJhY3RBZGRyZXNzKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaEFQSShgaHR0cHM6Ly9hcGktZ29lcmxpLmV0aGVyc2Nhbi5pby9hcGk/bW9kdWxlPWFjY291bnQmYWN0aW9uPXRva2VudHgmYWRkcmVzcz0ke3RoaXMuc3RhdGUud2FsbGV0QWRkcmVzc30mc3RhcnRibG9jaz0wJmVuZGJsb2NrPTk5OTk5OTk5JnNvcnQ9ZGVzYyZhcGlrZXk9N0pERjRORE5KQkpYVEZRR0I0WE45SFczWkNOQktDUFdZOGApO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zdCByZXMgPSBhd2FpdCBmZXRjaEFQSShgaHR0cHM6Ly9hcGktZ29lcmxpLmV0aGVyc2Nhbi5pby9hcGk/bW9kdWxlPWFjY291bnQmYWN0aW9uPXR4bGlzdCZhZGRyZXNzPTB4YjkyZUMzMjgwMzI0NTI2ZENjMjM2NkUzMjczZkFENjVmRTY5MjQ1ZCZzdGFydGJsb2NrPTAmZW5kYmxvY2s9OTk5OTk5OTkmcGFnZT0xJm9mZnNldD0xMCZzb3J0PWRlc2MmYXBpa2V5PTdKREY0TkROSkJKWFRGUUdCNFhOOUhXM1pDTkJLQ1BXWThgKTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5zZXRTdGF0ZSh7IHRyYW5zYWN0aW9uczogcmVzLmRhdGEucmVzdWx0IH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5yZXN1bHQ7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0cmFuc2FjdGlvbnM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnN0IHJlcyA9IGF3YWl0IGZldGNoQVBJKGBodHRwczovL2FwaS1nb2VybGkuZXRoZXJzY2FuLmlvL2FwaT9tb2R1bGU9YWNjb3VudCZhY3Rpb249dG9rZW50eCZhZGRyZXNzPSR7d2FkZHJlc3N9JnN0YXJ0YmxvY2s9MCZlbmRibG9jaz05OTk5OTk5OSZzb3J0PWRlc2MmYXBpa2V5PTdKREY0TkROSkJKWFRGUUdCNFhOOUhXM1pDTkJLQ1BXWThgKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoQVBJKGBodHRwczovL2FwaS1nb2VybGkuZXRoZXJzY2FuLmlvL2FwaT9tb2R1bGU9YWNjb3VudCZhY3Rpb249dHhsaXN0JmFkZHJlc3M9JHt0aGlzLnN0YXRlLndhbGxldEFkZHJlc3N9JnN0YXJ0YmxvY2s9MCZlbmRibG9jaz05OTk5OTk5OSZwYWdlPTEmb2Zmc2V0PTEwJnNvcnQ9ZGVzYyZhcGlrZXk9N0pERjRORE5KQkpYVEZRR0I0WE45SFczWkNOQktDUFdZOGApO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLnNldFN0YXRlKHsgdHJhbnNhY3Rpb25zOiByZXMuZGF0YS5yZXN1bHQgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnJlc3VsdDtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHRyYW5zYWN0aW9uczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB0aW1lcjogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcclxuICAgIHN0YXJ0VGltZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUudGltZUxlZnQgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXhwaXJlZEludm9pY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKChwcmV2U3RhdGUpID0+ICh7IHRpbWVMZWZ0OiBwcmV2U3RhdGUudGltZUxlZnQgLSAxIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyVGltZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pbnRlcnZhbElkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhciB1bmEgbnVldmEgYmlsbGV0ZXJhXHJcbiAgICBhc3luYyBnZW5lcmF0ZVdhbGxldCgpIHtcclxuXHJcbiAgICAgICAgLy8gT2J0ZW5lciBsYSBjbGF2ZSBwcml2YWRhIHkgbGEgZGlyZWNjacOzbiBkZSBsYSBiaWxsZXRlcmFcclxuICAgICAgICBjb25zdCBwcml2YXRlS2V5ID0gdGhpcy53YWxsZXQuZ2V0UHJpdmF0ZUtleVN0cmluZygpO1xyXG4gICAgICAgIGNvbnN0IGFkZHJlc3MgPSB0aGlzLndhbGxldC5nZXRBZGRyZXNzU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coYERpcmVjY2nDs24gZGUgbGEgYmlsbGV0ZXJhOiAke2FkZHJlc3N9YCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhgQ2xhdmUgcHJpdmFkYTogJHtwcml2YXRlS2V5fWApO1xyXG5cclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGRpcmVjY2nDs24gZW4gZWwgZXN0YWRvXHJcbiAgICAgICAgaWYgKGF3YWl0IHRoaXMuY3JlYXRlQmlsbGV0ZXJhVGVtcChwcml2YXRlS2V5LCBhZGRyZXNzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgd2FsbGV0QWRkcmVzczogYWRkcmVzcyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWFyIGVuIGxhIGJhc2UgZGUgZGF0b3MgbGEgYmlsbGV0ZXJhXHJcbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZUJpbGxldGVyYVRlbXAocHJpdmF0ZUtleTogc3RyaW5nLCBhZGRyZXNzOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBiaWxsZXRlcmFUZW1wOiBCaWxsZXRlcmFUZW1wID0ge1xyXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5wcm9wcy5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgY3J5cHRvY3VycmVuY3lfaWQ6IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LmlkIGFzIGFueSxcclxuICAgICAgICAgICAgICAgIHB1YmxpY19rZXk6IGFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBwcml2YXRlX2tleV9lbmNyeXB0ZWQ6IHByaXZhdGVLZXksXHJcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uX2RhdGU6IG5ldyBEYXRlKFwiMjAyMy0wNy0wMVQwMDowMDowMC4wMDBaXCIpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVCaWxsZXRlcmFUZW1wKGJpbGxldGVyYVRlbXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRyYWN0QWRkcmVzc0NyeXB0bygpIHtcclxuXHJcbiAgICAgICAgLy9pZighdGhpcy5wcm9wcy5zZWxlY3RlZE5ldHdvcmspe1xyXG4gICAgICAgIGNvbnN0IG5ldHdvcmsgPSB0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvPy5uZXR3b3Jrcy5maW5kKG5ldCA9PiBuZXQuaWQgPT09IDUpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gbmV0d29yaz8uY29udHJhY3RfYWRkcmVzcztcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGBEaXJlY2Npw7NuIGRlbCBjb250cmF0byBlbiBFdGhlcmV1bSBHb2VybGk6ICR7Y29udHJhY3R9YCk7XHJcbiAgICAgICAgLy99XHJcbiAgICAgICAgaWYgKGNvbnRyYWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb250cmFjdEFkZHJlc3M6IGNvbnRyYWN0IH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ05vIHNlIGVuY29udHLDsyBsYSBkaXJlY2Npw7NuIGRlbCBjb250cmF0byBwYXJhIGxhIHJlZCBzZWxlY2Npb25hZGEnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENyZWFyIGxhIHRyYW5zYWNjaW9uIGVuIGxhIGJhc2UgZGUgZGF0b3MgcGFyYSBleGNoYW5nZXNcclxuICAgIHByaXZhdGUgYXN5bmMgY3JlYXRlVHJhbnNhY2Npb24yKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGNyeXB0byBzZWxlY3RlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndHJhbnNhY2Npb24gZGVzZGUgZXhjaGFuZ2UnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWNjaW9uOiBUcmFuc2FjY2lvbiA9IHtcclxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHRoaXMucHJvcHMuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBjcnlwdG9faWQ6IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LmlkLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50X2NyeXB0bzogcGFyc2VGbG9hdCh0aGlzLnN0YXRlLmZpbmFsUHJpY2UpLFxyXG4gICAgICAgICAgICAgICAgYW1vdW50X2ZpYXQ6IHRoaXMuc3RhdGUudG90YWxQcmljZSxcclxuICAgICAgICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXHJcbiAgICAgICAgICAgICAgICBuZXR3b3JrX2lkOiBcIjVcIixcclxuICAgICAgICAgICAgICAgIHRlbXBfd2FsbGV0X2lkOiB0aGlzLnN0YXRlLndhbGxldEFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICBpbnZvaWNlOiB7IGludm9pY2VfaWQ6IFwiXCIsIHNlbnQ6IGZhbHNlLCBkb3dubG9hZGVkOiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY3JlYXRlZFRyYW5zYWNjaW9uID0gYXdhaXQgY3JlYXRlVHJhbnNhY2Npb24odHJhbnNhY2Npb24pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNyZWF0ZWRUcmFuc2FjY2lvbi5faWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0cmFuc2FjY2lvbklkOiBjcmVhdGVkVHJhbnNhY2Npb24uX2lkIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGhheSBJRCBkZSBsYSB0cmFuc2FjY2lvbicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlZFRyYW5zYWNjaW9uLl9pZDtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgY3JlYW5kbyBsYSB0cmFuc2FjY2nDs24gZGUgZXhjaGFuZ2VzIGVuIGxhIGJhc2UgZGUgZGF0b3MnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphciBsb3MgZXN0YWRvcyBkZSBsYSB0cmFuc2FjY2lvbiBkZSBleGNoYW5nZXNcclxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlVHJhbnNhY2Npb24yKGVtYWlsOiBzdHJpbmcsIGhhc2hlczogc3RyaW5nW10sIHN0ZXA6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoc3RlcCA9PSBcIjRcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHRoZSBlcnJvciBoZXJlLCBmb3IgZXhhbXBsZSwgdGhyb3cgYW4gZXJyb3Igb3IgcmV0dXJuIGZyb20gdGhlIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY3J5cHRvIHNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygndHJhbnNhY2Npb24gZGVzZGUgZXhjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zYWNjaW9uOiBQYXJ0aWFsPFRyYW5zYWNjaW9uPiA9IHtcclxuICAgICAgICAgICAgICAgICAgICBoYXNoOiBoYXNoZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5wcm9wcy5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBjcnlwdG9faWQ6IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudF9jcnlwdG86IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5maW5hbFByaWNlKSxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnRfZmlhdDogdGhpcy5zdGF0ZS50b3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJjb25maXJtZWRcIixcclxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrX2lkOiBcIjVcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wX3dhbGxldF9pZDogdGhpcy5zdGF0ZS53YWxsZXRBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgIGludm9pY2U6IHsgaW52b2ljZV9pZDogXCJcIiwgc2VudDogZmFsc2UsIGRvd25sb2FkZWQ6IGZhbHNlIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVUcmFuc2FjY2lvbih0aGlzLnN0YXRlLnRyYW5zYWNjaW9uSWQgYXMgc3RyaW5nLCB0cmFuc2FjY2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0ZXAgPT0gXCIzXCIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjY2lvbjogUGFydGlhbDxUcmFuc2FjY2lvbj4gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogaGFzaGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ3YWl0aW5nX2Zvcl9jb25maXJtYXRpb25zXCIsXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlVHJhbnNhY2Npb24odGhpcy5zdGF0ZS50cmFuc2FjY2lvbklkIGFzIHN0cmluZywgdHJhbnNhY2Npb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGVwID09IFwiMlwiKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNhY2Npb246IFBhcnRpYWw8VHJhbnNhY2Npb24+ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hlcyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidW5kZXJwYWlkXCIsXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlVHJhbnNhY2Npb24odGhpcy5zdGF0ZS50cmFuc2FjY2lvbklkIGFzIHN0cmluZywgdHJhbnNhY2Npb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgYWN0dWFsaXphbmRvIGxhIHRyYW5zYWNjacOzbiBkZSBleGNoYW5nZXMgZW4gbGEgYmFzZSBkZSBkYXRvcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGVsIHVzdWFyaW8gY29uIGxhIHRyYXNhY2Npb24gcmVhbGl6YWRhXHJcbiAgICBwcml2YXRlIGFzeW5jIHVwZGF0ZVVzZXIyKGVtYWlsOiBzdHJpbmcsIG5ld1RyYW5zYWN0aW9uSWQ6IHN0cmluZykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIE9idGVuZXIgZWwgdXN1YXJpbyBleGlzdGVudGVcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudFVzZXIgPSBhd2FpdCBmaW5kT25lVXN1YXJpbyhlbWFpbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY3VycmVudFVzZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIENyZWFyIHVuYSBudWV2YSBsaXN0YSBkZSBJRHMgcXVlIGluY2x1eWUgbG9zIGV4aXN0ZW50ZXMgeSBsYSBudWV2YVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFRyYW5zYWN0aW9uSWRzID0gY3VycmVudFVzZXIudHJhbnNhY3Rpb25faWRzIHx8IFtdOyAvLyBVdGlsaXphciB1biBhcnJheSB2YWPDrW8gc2kgZXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkVHJhbnNhY3Rpb25JZHMgPSBbLi4uY3VycmVudFRyYW5zYWN0aW9uSWRzLCBuZXdUcmFuc2FjdGlvbklkXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyVXBkYXRlOiBQYXJ0aWFsPFVzdWFyaW8+ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdhbGxldHM6IFt7IGFkZHJlc3M6IFwiZXhjaGFuZ2Ugd2FsbGV0XCIsIG5ldHdvcms6IFwiNVwiIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkczogdXBkYXRlZFRyYW5zYWN0aW9uSWRzLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXN1YXJpbyhlbWFpbCwgdXNlclVwZGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNYW5lamFyIGVsIGNhc28gY3VhbmRvIGVsIHVzdWFyaW8gbm8gc2UgZW5jdWVudHJhXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIE1hbmVqYXIgZWwgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWV0b2RvIHBhcmEgY29tcG9yYmFyIGxhcyB0cmFzbmNjaW9uZXMsIGNvbXByb2JhciBsb3MgMiBibG9xdWVzIGVuIGxhIGNhZGVuYSB5IHZlcmlmaWNhciBxdWUgZXMgc3VwZXJpb3IgYSBsYSBjYW50aWRhZFxyXG4gICAgcHJpdmF0ZSBjaGVja1BheW1lbnRTdGF0dXMgPSBhc3luYyAodHJhbnNhY3Rpb25zOiBhbnlbXSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsQW1vdW50TmVlZGVkID0gMjAuMDA7XHJcbiAgICAgICAgbGV0IHRvdGFsUmVjZWl2ZWQgPSAwO1xyXG4gICAgICAgIGxldCB0b3RhbENvbmZpcm1lZCA9IDA7XHJcbiAgICAgICAgLy8gVE9ETyBjYW1iaWFyIHBhcmEgY29tcHJvYmFyIGRpcmVjY2lvbiByZWFsXHJcbiAgICAgICAgLy9jb25zdCBkZXNpcmVkVG9BZGRyZXNzID0gXCIweGI5MmVDMzI4MDMyNDUyNmRDYzIzNjZFMzI3M2ZBRDY1ZkU2OTI0NWRcIjtcclxuICAgICAgICAvL2NvbnN0IGRlc2lyZWRDb250cmFjdEFkZHJlc3MgPSBcIjB4MmU4ZDk4ZmQxMjZhMzIzNjJmMmJkOGFhNDI3ZTU5YTFlYzYzZjc4MFwiO1xyXG4gICAgICAgIGNvbnN0IGRlc2lyZWRUb0FkZHJlc3MgPSB0aGlzLnN0YXRlLndhbGxldEFkZHJlc3M7XHJcbiAgICAgICAgdGhpcy5nZXRDb250cmFjdEFkZHJlc3NDcnlwdG8oKTtcclxuICAgICAgICBjb25zdCBkZXNpcmVkQ29udHJhY3RBZGRyZXNzID0gdGhpcy5zdGF0ZS5jb250cmFjdEFkZHJlc3M7XHJcbiAgICAgICAgY29uc3QgcGFydGlhbEFtb3VudCA9IHRoaXMuc3RhdGUudG90YWxQcmljZSAvIHRoaXMuc3RhdGUuc2VsZWN0ZWRDcnlwdG9QcmljZTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYXJ0aWFsQW1vdW50KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQudG9GaXhlZCg4KSk7XHJcbiAgICAgICAgY29uc3QgdG90YWxQcmljZUZpeGVkID0gcGFyc2VGbG9hdChwYXJ0aWFsQW1vdW50LnRvRml4ZWQoNSkpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdFTlRSTyBBUVVJOiAnLCBkZXNpcmVkQ29udHJhY3RBZGRyZXNzKTtcclxuXHJcbiAgICAgICAgbGV0IGZpbHRlcmVkVHJhbnNhY3Rpb25zID0gW107XHJcblxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRyYW5zYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvbnMuZmlsdGVyKCh0eDogeyB0bzogc3RyaW5nOyBjb250cmFjdEFkZHJlc3M6IHN0cmluZzsgfSkgPT5cclxuICAgICAgICAgICAgICAgIHR4LnRvLnRvTG93ZXJDYXNlKCkgPT09IGRlc2lyZWRUb0FkZHJlc3MudG9Mb3dlckNhc2UoKSAmJlxyXG4gICAgICAgICAgICAgICAgdHguY29udHJhY3RBZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IGRlc2lyZWRDb250cmFjdEFkZHJlc3MudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghZGVzaXJlZENvbnRyYWN0QWRkcmVzcyAmJiBBcnJheS5pc0FycmF5KHRyYW5zYWN0aW9ucykpIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRUcmFuc2FjdGlvbnMgPSB0cmFuc2FjdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdmaWx0cmFkYXM6ICcsIGZpbHRlcmVkVHJhbnNhY3Rpb25zKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgdHggb2YgZmlsdGVyZWRUcmFuc2FjdGlvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW5EZWNpbWFsID0gdHgudG9rZW5EZWNpbWFsIHx8IDE4O1xyXG4gICAgICAgICAgICB0b3RhbFJlY2VpdmVkICs9IHR4LnZhbHVlIC8gTWF0aC5wb3coMTAsIHRva2VuRGVjaW1hbCk7XHJcbiAgICAgICAgICAgIGlmICh0eC5jb25maXJtYXRpb25zID49IDIpIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsQ29uZmlybWVkICs9IHR4LnZhbHVlIC8gTWF0aC5wb3coMTAsIHRva2VuRGVjaW1hbCk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCd0b3RhbCBjb25maXJtYWRhczogJywgdG90YWxDb25maXJtZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5Q29uZmlybWVkOiB0b3RhbENvbmZpcm1lZFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGFzaGVzID0gZmlsdGVyZWRUcmFuc2FjdGlvbnMubWFwKHR4ID0+IHR4Lmhhc2gpO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBoYXNoZXM6IGhhc2hlcyB9KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdlbCBudW1lcm8gZGUgaGFzaGVzIHRvdGFsZXM6IC8qLyoqKi8vKi8qLyovKicsIGhhc2hlcyk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS50cmFuc2FjY2lvbklkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1RyYW5zYWN0aW9uSWQgPSBhd2FpdCB0aGlzLmNyZWF0ZVRyYW5zYWNjaW9uMih0aGlzLnByb3BzLmVtYWlsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdUcmFuc2FjdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVVzZXIyKHRoaXMucHJvcHMuZW1haWwsIG5ld1RyYW5zYWN0aW9uSWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgY3JlYXIgbGEgdHJhbnNhY2Npw7NuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0b3RhbENvbmZpcm1lZCA+PSB0b3RhbFByaWNlRml4ZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHN0ZXA6IDQgfSk7IC8vIFBhZ28gY29tcGxldGFkb1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZVRyYW5zYWNjaW9uMih0aGlzLnByb3BzLmVtYWlsLCBoYXNoZXMsIFwiNFwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5tb2RhbENvbXBsZXRlZFBheW1lbnRTaG93bikge1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50Q29tcGxldGVkT3BlbjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxDb21wbGV0ZWRQYXltZW50U2hvd246IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0b3RhbFJlY2VpdmVkID49IHRvdGFsUHJpY2VGaXhlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RlcDogMyB9KTsgLy8gRXNwZXJhbmRvIGNvbmZpcm1hY2nDs25cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVUcmFuc2FjY2lvbjIodGhpcy5wcm9wcy5lbWFpbCwgaGFzaGVzLCBcIjNcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0b3RhbFJlY2VpdmVkID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RlcDogMiB9KTsgLy8gUGFnbyBwYXJjaWFsbWVudGUgcmVjaWJpZG9cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVUcmFuc2FjY2lvbjIodGhpcy5wcm9wcy5lbWFpbCwgaGFzaGVzLCBcIjJcIik7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5tb2RhbFBhcnRpYWxQYXltZW50U2hvd24pIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsUGF5bWVudE9wZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsUGFydGlhbFBheW1lbnRTaG93bjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyplbHNlIHtcclxuICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc3RlcDogMSB9KTsgLy8gRXNwZXJhbmRvIHBhZ29cclxuICAgICAgIH0qL1xyXG4gICAgfTtcclxuXHJcbiAgICBwcml2YXRlIHNlY29uZHMgPSAwO1xyXG4gICAgcHJpdmF0ZSB0cmFuc2FjdGlvbnM6IGFueVtdID0gW107XHJcblxyXG4gICAgLy8gTWV0b2RvIHBhcmEgc2ltdWxhciB0cmFuc2FjY2lvbmVzXHJcbiAgICBwcml2YXRlIHNpbXVsYXRlVHJhbnNhY3Rpb25zID0gKCkgPT4ge1xyXG5cclxuICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcyArPSAxO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Vjb25kcyA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2FjdGlvbnMucHVzaCh0aGlzLmNyZWF0ZVRyYW5zYWN0aW9uKDQpKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNlY29uZHMgPT09IDcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25zLnB1c2godGhpcy5jcmVhdGVUcmFuc2FjdGlvbigxMCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Vjb25kcyA9PT0gMTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNhY3Rpb25zLnB1c2godGhpcy5jcmVhdGVUcmFuc2FjdGlvbig3KSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQYXltZW50U3RhdHVzKHRoaXMudHJhbnNhY3Rpb25zKTtcclxuICAgICAgICB9LCA2MDAwKTsgIC8vIENhZGEgc2VndW5kb1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBDcmVhciB1biBzdHJhbnNhY2Npb24gc2ltdWxhZGFcclxuICAgIHByaXZhdGUgY3JlYXRlVHJhbnNhY3Rpb24gPSAodmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRlc2lyZWRUb0FkZHJlc3MgPSBcIjB4YjkyZUMzMjgwMzI0NTI2ZENjMjM2NkUzMjczZkFENjVmRTY5MjQ1ZFwiO1xyXG4gICAgICAgIGNvbnN0IGRlc2lyZWRDb250cmFjdEFkZHJlc3MgPSBcIjB4MmU4ZDk4ZmQxMjZhMzIzNjJmMmJkOGFhNDI3ZTU5YTFlYzYzZjc4MFwiO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGJsb2NrSGFzaDogXCIweGEzZDE3NjViYzEwOTlkNjI1M2VmMzg5OTJjMjU3MDkyZGEzMzQ4OGQ1NzZiODVlZmEzMzg5ODA4NTc0OTliNDJcIixcclxuICAgICAgICAgICAgYmxvY2tOdW1iZXI6IFwiOTIyMTE2MVwiLFxyXG4gICAgICAgICAgICBjb25maXJtYXRpb25zOiBcIjM0MTE0XCIsXHJcbiAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogZGVzaXJlZENvbnRyYWN0QWRkcmVzcyxcclxuICAgICAgICAgICAgY3VtdWxhdGl2ZUdhc1VzZWQ6IFwiMjk3NTUxMFwiLFxyXG4gICAgICAgICAgICBmcm9tOiBcIjB4YjkyZWMzMjgwMzI0NTI2ZGNjMjM2NmUzMjczZmFkNjVmZTY5MjQ1ZFwiLFxyXG4gICAgICAgICAgICBnYXM6IFwiNzc0NjlcIixcclxuICAgICAgICAgICAgZ2FzUHJpY2U6IFwiMTUwMDAwMDAxNlwiLFxyXG4gICAgICAgICAgICBnYXNVc2VkOiBcIjUxNjQ2XCIsXHJcbiAgICAgICAgICAgIGhhc2g6IFwiMHhhMDMzNmZhODE1MzZmNGRjYmU2YmZlNDA0ZDM5MGQ4ZGFlOTk4YjJkNWUxMzI1ZjE4MTM3NThjODhiNjZhNDEyXCIsXHJcbiAgICAgICAgICAgIGlucHV0OiBcImRlcHJlY2F0ZWRcIixcclxuICAgICAgICAgICAgbm9uY2U6IFwiMjdcIixcclxuICAgICAgICAgICAgdGltZVN0YW1wOiBcIjE2ODc0MzY4MDhcIixcclxuICAgICAgICAgICAgdG86IGRlc2lyZWRUb0FkZHJlc3MsXHJcbiAgICAgICAgICAgIHRva2VuRGVjaW1hbDogXCI2XCIsXHJcbiAgICAgICAgICAgIHRva2VuTmFtZTogXCJVU0RUXCIsXHJcbiAgICAgICAgICAgIHRva2VuU3ltYm9sOiBcIlVTRFRcIixcclxuICAgICAgICAgICAgdHJhbnNhY3Rpb25JbmRleDogXCIyNFwiLFxyXG4gICAgICAgICAgICB2YWx1ZTogU3RyaW5nKHZhbHVlICogTWF0aC5wb3coMTAsIDYpKSAgLy8gTXVsdGlwbGljYSBieSAxMF42IGRlY2ltYWxlcyBkZSBVU0RUXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQ29tcHJ1ZWJhIHVuYSB2ZXogYWxndW5hcyBjb3NhcyBjb21vIHNpIGVzIGV4Y2hhbmdlLCBsb3MgcHJlY2lvcyBkZWwgZ2FzLCB0cmFuc2FjY2lvbmVzIHkgb3Ryb3MgcHJlY2lvcy5cclxuICAgIHB1YmxpYyBhc3luYyBjb21wb25lbnREaWRNb3VudCgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgY29tcHJvYmFyRXNFeGNoYW5nZSA9IHRoaXMuaXNFeGNoYW5nZSh0aGlzLnByb3BzLndhbGxldEV4Y2hhbmdlKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzV2FsbGV0R2VuZXJhdGVkICYmICFjb21wcm9iYXJFc0V4Y2hhbmdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVXYWxsZXQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lcigpO1xyXG4gICAgICAgIC8vIE9idGVuZXIgbG9zIHByZWNpb3MgZGVsIGdhcyBkZSBsYXMgY2FkZW5hc1xyXG4gICAgICAgIGNvbnN0IGdhc1ByaWNlcyA9IGF3YWl0IHRoaXMuZ2V0R2FzUHJpY2VzKCk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0T3B0aW9ucyhnYXNQcmljZXMpO1xyXG5cclxuICAgICAgICBjb25zdCB0cmFuc2FjY2lvbmVzID0gYXdhaXQgdGhpcy5mZXRjaFRyYW5zYWN0aW9ucygpO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdsYXMgdHJhbnNhY2Npb25lcyAnLCB0cmFuc2FjY2lvbmVzKTtcclxuXHJcbiAgICAgICAgLy8gT2J0ZW5lciBwcmVjaW8gZGUgbGEgY3JpcHRvbW9uZWRhIHkgY2FsY3VsYXIgZW4gbGEgY2FudGlkYWQgcGFyYSBkZXNwdWVzIGhhY2VyIGVsIGZpeGVkXHJcbiAgICAgICAgY29uc3QgY3J5cHRvUHJpY2UgPSBhd2FpdCB0aGlzLmdldFByaWNlcygpO1xyXG4gICAgICAgIGNvbnN0IHBhcnRpYWxBbW91bnQgPSB0aGlzLnN0YXRlLnRvdGFsUHJpY2UgLyBjcnlwdG9QcmljZTtcclxuICAgICAgICBjb25zdCBwcmljZUZpeGVkID0gcGFydGlhbEFtb3VudC50b0ZpeGVkKDgpXHJcblxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZE9wdGlvbjogb3B0aW9uc1swXSwgZ2FzUHJpY2VzLCBzZWxlY3RlZENyeXB0b1ByaWNlOiBjcnlwdG9QcmljZSwgZmluYWxQcmljZTogcHJpY2VGaXhlZCwgdHJhbnNhY3Rpb25zOiB0cmFuc2FjY2lvbmVzIH0pO1xyXG5cclxuICAgICAgICAvL2NvbnN0IHFyQ29kZSA9IGF3YWl0IHRoaXMuZ2V0UVIoKTtcclxuICAgICAgICAvL3RoaXMuc2V0U3RhdGUoeyBxckNvZGUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8sIHNlbGVjdGVkTmV0d29yaywgaGFuZGxlTmV0d29ya0NoYW5nZSwgc3dpdGNoTmV0d29yaywgY2hhaW5zLCBpc0xvYWRpbmcsIHBlbmRpbmdDaGFpbklkLCBjcnlwdG9OZXR3b3JrcywgaXNFcnJvciwgZGF0YSwgYmFsYW5jZXMgfSA9IHRoaXMucHJvcHM7XHJcblxyXG4gICAgICAgIGlmICghY2hhaW5zLnNvbWUoKHgpID0+IHguaWQgPT09IHBhcnNlSW50KHNlbGVjdGVkTmV0d29yaywgMTApKSkge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludmFsaWROZXR3b3JrOiB0cnVlIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ2VzdGEgZXMgbGEgbmV0d29yazogJywgc2VsZWN0ZWROZXR3b3JrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XHJcblxyXG4gICAgLy8gQWN0dWxpemFyIGVsIFFSIHkgY3JlYXIgbnVldmEgdHJhbnNhY2Npb25cclxuICAgIHB1YmxpYyBhc3luYyBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBSZWFkb25seTxJUGF5bWVudERhdGFQcm9wcz4sIHByZXZTdGF0ZTogUmVhZG9ubHk8SVBheW1lbnREYXRhU3RhdGU+LCBzbmFwc2hvdD86IGFueSkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5xckNvZGUgJiYgIXRoaXMuaXNFeGNoYW5nZSh0aGlzLnByb3BzLndhbGxldEV4Y2hhbmdlKSAmJiB0aGlzLnN0YXRlLnN0ZXAgPT09IDEgJiYgdGhpcy5pbnRlcnZhbElkID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIFRPRE8gZGVzY29tZW50YSBsYXMgZG9zIGxpbmVhcyBkZSBhYmFqbyBjdWFuZG8gcXVpZXJhcyBxdWUgZWwgY29kaWdvIFFSIHNlIGVqZWN1dGVcclxuICAgICAgICAgICAgLy9jb25zdCBxciA9IGF3YWl0IHRoaXMuZ2V0UVJDb2RlKCk7XHJcbiAgICAgICAgICAgIC8vaWYgKHFyKSB0aGlzLnNldFN0YXRlKHsgcXJDb2RlOiBxciB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vdyBzZXQgYSBuZXcgaW50ZXJ2YWxcclxuICAgICAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5mZXRjaERhdGFBbmRVcGRhdGVTdGVwKCksIDMwMDApO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zaW11bGF0ZVRyYW5zYWN0aW9ucygpO1xyXG4gICAgICAgICAgICAvLyBUT0RPIGNvbWVudGEgbGEgbGluZWEgdGhpcy5zaW11bGF0ZVRyYW5zYWN0aW9ucygpIHkgZGVzY29tZW50YSBsYSBzdXBlcmlvciBwYXJhIHF1ZSBmdW5jaW9uZSBlbiB1biBlbnRvcm5vIHJlYWxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNvbXByb2JhciBib3RvbiBkZSBwYWdvXHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXByb2JhckVzRXhjaGFuZ2UgPSB0aGlzLmlzRXhjaGFuZ2UodGhpcy5wcm9wcy53YWxsZXRFeGNoYW5nZSk7XHJcblxyXG4gICAgICAgIGlmIChjb21wcm9iYXJFc0V4Y2hhbmdlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmJhbGFuY2VzICE9PSBwcmV2UHJvcHMuYmFsYW5jZXMgfHwgdGhpcy5zdGF0ZS5maW5hbFByaWNlICE9PSBwcmV2U3RhdGUuZmluYWxQcmljZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0lmUGF5QnV0dG9uU2hvdWxkQmVFbmFibGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgodGhpcy5wcm9wcy5pc1N1Y2Nlc3NDb2luIHx8IHRoaXMucHJvcHMuaXNTdWNjZXNzVG9rZW4pICYmICF0aGlzLnN0YXRlLnBheW1lbnRDb21wbGV0ZWRPcGVuKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3NlIGhhIGNvbXBsZXRhZG8gZWwgcGFnbycpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdzZSBoYSBjb21wbGV0YWRvIGVsIHBhZ28gQ29pbicsIHRoaXMucHJvcHMuZGF0YUhhc2hDb2luKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnc2UgaGEgY29tcGxldGFkbyBlbCBwYWdvIFRva2VuJywgdGhpcy5wcm9wcy5kYXRhSGFzaFRva2VuKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBoYXNoID0gdGhpcy5wcm9wcy5pc1N1Y2Nlc3NDb2luID8gdGhpcy5wcm9wcy5kYXRhSGFzaENvaW4gOiB0aGlzLnByb3BzLmRhdGFIYXNoVG9rZW47XHJcbiAgICAgICAgICAgIGlmIChoYXNoICYmIGhhc2guaGFzaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudENvbXBsZXRlZE9wZW46IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaGVzOiBbaGFzaC5oYXNoXSAvLyBBc2lnbmEgZWwgdmFsb3IgZGUgaGFzaC5oYXNoIGVuIHVuIGFycmF5XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFjY2VkZXIgYSBsYSBwcm9waWVkYWQgaGFzaCBkZWwgb2JqZXRvJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGNyZWFyIGxhIHRyYW5zYWNjaW9uIHkgYWN0dWFsaXphciB1c3VhcmlvIGNvbiBlbCBJRCBkZSBsYSB0cmFuc2FjY2lvblxyXG4gICAgICAgICAgICBjb25zdCBuZXdUcmFuc2FjdGlvbklkID0gYXdhaXQgdGhpcy5jcmVhdGVUcmFuc2FjY2lvbih0aGlzLnByb3BzLmVtYWlsKTtcclxuICAgICAgICAgICAgaWYgKG5ld1RyYW5zYWN0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudXBkYXRlVXNlcih0aGlzLnByb3BzLmVtYWlsLCBuZXdUcmFuc2FjdGlvbklkKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGxhIHRyYW5zYWNjacOzbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgdXBkYXRlVXNlcihlbWFpbDogc3RyaW5nLCBuZXdUcmFuc2FjdGlvbklkOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBPYnRlbmVyIGVsIHVzdWFyaW8gZXhpc3RlbnRlXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVc2VyID0gYXdhaXQgZmluZE9uZVVzdWFyaW8oZW1haWwpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhciB1bmEgbnVldmEgbGlzdGEgZGUgSURzIHF1ZSBpbmNsdXllIGxvcyBleGlzdGVudGVzIHkgbGEgbnVldmFcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUcmFuc2FjdGlvbklkcyA9IGN1cnJlbnRVc2VyLnRyYW5zYWN0aW9uX2lkcyB8fCBbXTsgLy8gVXRpbGl6YXIgdW4gYXJyYXkgdmFjw61vIHNpIGVzIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRyYW5zYWN0aW9uSWRzID0gWy4uLmN1cnJlbnRUcmFuc2FjdGlvbklkcywgbmV3VHJhbnNhY3Rpb25JZF07XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlclVwZGF0ZTogUGFydGlhbDxVc3VhcmlvPiA9IHtcclxuICAgICAgICAgICAgICAgICAgICB3YWxsZXRzOiBbeyBhZGRyZXNzOiB0aGlzLnByb3BzLmFkZHJlc3MsIG5ldHdvcms6IHRoaXMucHJvcHMuc2VsZWN0ZWROZXR3b3JrIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uX2lkczogdXBkYXRlZFRyYW5zYWN0aW9uSWRzLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdXBkYXRlVXN1YXJpbyhlbWFpbCwgdXNlclVwZGF0ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gc2UgZW5jdWVudHJhIGVsIHVzdWFyaW8nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGFsIGFjdHVhbGl6YXIgZWwgdXN1YXJpbycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQ3JlYXIgdHJhbnNhY2Npb24gZGVzZGUgYmlsbGV0ZXJhXHJcbiAgICBwcml2YXRlIGFzeW5jIGNyZWF0ZVRyYW5zYWNjaW9uKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY3J5cHRvIHNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBpZCA9IG51bGxcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGFIYXNoQ29pbikge1xyXG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLnByb3BzLmRhdGFIYXNoQ29pbi5oYXNoO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLnByb3BzLmRhdGFIYXNoVG9rZW4uaGFzaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbmV0d29ya0lkID0gcGFyc2VGbG9hdCh0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTmV0d29yayA9IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8ubmV0d29ya3MuZmluZChuZXR3b3JrID0+IG5ldHdvcmsuaWQgPT09IG5ldHdvcmtJZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWROZXR3b3JrICYmIHNlbGVjdGVkTmV0d29yay5jb250cmFjdF9wYXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBfd2FsbGV0X2lkID0gc2VsZWN0ZWROZXR3b3JrLmNvbnRyYWN0X3BheTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2FjY2lvbjogVHJhbnNhY2Npb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcl9pZDogdGhpcy5wcm9wcy5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICBjcnlwdG9faWQ6IHRoaXMucHJvcHMuc2VsZWN0ZWRDcnlwdG8/LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGFtb3VudF9jcnlwdG86IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5maW5hbFByaWNlKSxcclxuICAgICAgICAgICAgICAgICAgICBhbW91bnRfZmlhdDogdGhpcy5zdGF0ZS50b3RhbFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJjb25maXJtZWRcIixcclxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrX2lkOiB0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wX3dhbGxldF9pZDogdGVtcF93YWxsZXRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW52b2ljZTogeyBpbnZvaWNlX2lkOiBcIlwiLCBzZW50OiBmYWxzZSwgZG93bmxvYWRlZDogZmFsc2UgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VHJhbnNhY2Npb24gPSBhd2FpdCBjcmVhdGVUcmFuc2FjY2lvbih0cmFuc2FjY2lvbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VHJhbnNhY2Npb24uX2lkO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBuZXR3b3JrIHdpdGggaWQgJHtuZXR3b3JrSWR9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXN1bHRhZG9zIGRlbCBzZWxlY3RvciBkZSByZWRlc1xyXG4gICAgcHJpdmF0ZSBnZXRPcHRpb25zKGdhc1ByaWNlczogYW55KTogeyB2YWx1ZTogbnVtYmVyOyBsYWJlbDogSlNYLkVsZW1lbnQ7IGRpc3BsYXlMYWJlbDogSlNYLkVsZW1lbnQgfVtdIHtcclxuXHJcbiAgICAgICAgY29uc3QgeyBpc0xvYWRpbmcsIHBlbmRpbmdDaGFpbklkLCBjcnlwdG9OZXR3b3JrcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkT3B0aW9uIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGFpbnNcclxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb21wYXRpYmxlV2l0aENyeXB0byA9IGNyeXB0b05ldHdvcmtzLnNvbWUoXHJcbiAgICAgICAgICAgICAgICAgICAgKG5ldHdvcmspID0+IG5ldHdvcmsuaWQgPT09IHguaWRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdlc3RvIGVzIGxhIGlzQ29tcGF0aWJsZVdpdGhDcnlwdG86ICcsIGlzQ29tcGF0aWJsZVdpdGhDcnlwdG8pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ29tcGF0aWJsZVdpdGhDcnlwdG87XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5tYXAoKHgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ldHdvcmsgPSBjcnlwdG9OZXR3b3Jrcy5maW5kKChuZXR3b3JrKSA9PiBuZXR3b3JrLmlkID09PSB4LmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdlc3RvIGVzIGxhIG5ldHdvcms6ICcsIG5ldHdvcmspO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbG9nbyA9IG5ldHdvcmsgPyBuZXR3b3JrLmltYWdlIDogJ2RlZmF1bHRfbG9nby5wbmcnO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHguaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXN0b20tbGFiZWxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3J5cHRvLWxvZ28yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJyZWQtbG9nbzJcIiBzcmM9e1wiL3Bhc2FyZWxhL1wiICsgbG9nb30gYWx0PXtgJHt4Lm5hbWV9IGxvZ29gfSAvPiB7LyogTG9nbyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmV0d29yay1uYW1lXCI+e3gubmFtZX08L3NwYW4+IHsvKiBOb21icmUgKi99XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJnYXMtcHJpY2VcIj5Db3N0ZSBkZSBnYXM6IHtnYXNQcmljZXNbeC5pZF19JDwvc3Bhbj4gey8qIFByZWNpbyBkZWwgZ2FzICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzTG9hZGluZyAmJiBwZW5kaW5nQ2hhaW5JZCA9PT0geC5pZCAmJiA8c3BhbiBjbGFzc05hbWU9XCJzd2l0Y2hpbmctaW5kaWNhdG9yXCI+KHN3aXRjaGluZyk8L3NwYW4+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaXJjbGUtaWNvbi1ib3JkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRPcHRpb24gJiYgc2VsZWN0ZWRPcHRpb24udmFsdWUgPT09IHguaWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNpcmNsZS1pY29uLWZpbGxcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGFiZWw6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3VzdG9tLWxhYmVsIHNtYWxsLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJyZWQtbG9nb1wiIHNyYz17XCIvcGFzYXJlbGEvXCIgKyBsb2dvfSBhbHQ9e2Ake3gubmFtZX0gbG9nb2B9IC8+IHsvKiBMb2dvICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5ldHdvcmstbmFtZVwiPnt4Lm5hbWV9PC9zcGFuPiB7LyogTm9tYnJlICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBNRVRPRE9TIFBBUkEgTE9TIE1FTlNBSkVTIE1PREFMRVMgKi9cclxuXHJcbiAgICBwcml2YXRlIGNoZWNrU2VsZWN0T3BhY2l0eSgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZW51SXNPcGVuKSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW4nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NlbGVjdE9wYWNpdHlJbmZvKCk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBtYWluV3JhcHBlcjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5tZW51SW5mb09wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW4yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcjI/LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbjInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NlbGVjdE9wYWNpdHlNZXRhbWFza0luZm8oKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyMiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmZhY2UtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLm1lbnVNZXRhbWFza09wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW4zJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcjI/LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbjMnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NlbGVjdEV4cGlyZWRJbnZvaWNlSW5mbygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZXhwaXJlZEludm9pY2UpIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW40Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcjI/LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbjQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NlbGVjdEludmFsaWROZXR3b3JrSW5mbygpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW52YWxpZE5ldHdvcmspIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXIyPy5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW41Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcjI/LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbjUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9Db21wcm9iYXIgc2kgZXMgZXhjaGFuZ2VcclxuICAgIHByaXZhdGUgaXNFeGNoYW5nZSh3YWxsZXRFeGNoYW5nZTogV2FsbGV0IHwgRXhjaGFuZ2UgfCBudWxsKTogYm9vbGVhbiB7XHJcbiAgICAgICAgLy8gU2kgd2FsbGV0RXhjaGFuZ2UgZXMgbnVsbCwgZGV2dWVsdmUgZmFsc2UuXHJcbiAgICAgICAgaWYgKHdhbGxldEV4Y2hhbmdlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVySW5mb0NvbnRhaW5lcigpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLm1lbnVJbmZvT3Blbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRoaXMuc3RhdGUudGltZUxlZnQgLyA2MCk7XHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRoaXMuc3RhdGUudGltZUxlZnQgJSA2MDtcclxuXHJcbiAgICAgICAgLy8gQ2FsY3VsYSBlbCBpbXBvcnRlIHBhcmNpYWxcclxuICAgICAgICBjb25zdCB7IHNlbGVjdGVkQ3J5cHRvIH0gPSB0aGlzLnByb3BzO1xyXG4gICAgICAgIGNvbnN0IHBhcnRpYWxBbW91bnQgPSB0aGlzLnN0YXRlLnRvdGFsUHJpY2UgLyB0aGlzLnN0YXRlLnNlbGVjdGVkQ3J5cHRvUHJpY2U7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGFydGlhbEFtb3VudCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYXJ0aWFsQW1vdW50LnRvRml4ZWQoOCkpO1xyXG4gICAgICAgIGNvbnN0IHByaWNlRml4ZWQgPSBwYXJ0aWFsQW1vdW50LnRvRml4ZWQoOClcclxuXHJcbiAgICAgICAgY29uc3QgY29tcHJvYmFyRXNFeGNoYW5nZSA9IHRoaXMuaXNFeGNoYW5nZSh0aGlzLnByb3BzLndhbGxldEV4Y2hhbmdlKTtcclxuICAgICAgICBjb25zdCBwYXllZCA9IHRoaXMuc3RhdGUucGF5Q29uZmlybWVkO1xyXG4gICAgICAgIGNvbnN0IHBheWVkRml4ZWQgPSBwYXllZC50b0ZpeGVkKDgpXHJcblxyXG4gICAgICAgIGNvbnN0IHByaWNlRml4ZWROdW1iZXIgPSBwYXJzZUZsb2F0KHByaWNlRml4ZWQpO1xyXG4gICAgICAgIGNvbnN0IHBheWVkRml4ZWROdW1iZXIgPSBwYXJzZUZsb2F0KHBheWVkRml4ZWQpO1xyXG4gICAgICAgIGNvbnN0IHBheWVkUGVuZGluZyA9IHByaWNlRml4ZWROdW1iZXIgLSBwYXllZEZpeGVkTnVtYmVyO1xyXG4gICAgICAgIGNvbnN0IHBheWVkUGVuZGluZ0ZpeGVkID0gcGF5ZWRQZW5kaW5nLnRvRml4ZWQoOCk7XHJcblxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+RW52w61lIHN1IHBhZ28gZW4ge21pbnV0ZXN9OntzZWNvbmRzIDwgMTAgPyAnMCcgOiAnJ317c2Vjb25kc308L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY2xvc2UtbW9kYWxcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbWVudUluZm9PcGVuOiBmYWxzZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5QcmVjaW8gdG90YWw6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3RoaXMuc3RhdGUudG90YWxQcmljZX0gVVNEPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+VGlwbyBkZSBjYW1iaW86PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3RoaXMuc3RhdGUuc2VsZWN0ZWRDcnlwdG9QcmljZX0gVVNEPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SW1wb3J0ZSBwYXJjaWFsOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPntwcmljZUZpeGVkfSB7c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgey8qIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5Db3N0ZSBkZSByZWQ6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+Li4uIHt0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICovfVxyXG4gICAgICAgICAgICAgICAgeyFjb21wcm9iYXJFc0V4Y2hhbmdlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5IYSBzaWRvIHBhZ2Fkbzo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3BheWVkRml4ZWR9IHtzZWxlY3RlZENyeXB0bz8uc3ltYm9sfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRvdGFsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SW1wb3J0ZSB0b3RhbDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj57cGF5ZWRQZW5kaW5nRml4ZWR9IHt0aGlzLnByb3BzLnNlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJbmZvTWV0YW1hc2tDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLm1lbnVNZXRhbWFza09wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbWV0YW1hc2stY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+RXNjYW5lYSBwYXJhIGNvbnRpbnVhciBlbiBNZXRhbWFzazwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjbG9zZS1tb2RhbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBtZW51TWV0YW1hc2tPcGVuOiBmYWxzZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXRpbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImltZy1xclwiIHNyYz1cInBhc2FyZWxhL3FyLWNvZGUucG5nXCI+PC9pbWc+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJbmZvRXhwaXJlZEludm9pY2VDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmV4cGlyZWRJbnZvaWNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWV4cGlyZWQtaW52b2ljZS1jb250YWluZXJcIiA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJpbmZvLXRpbWVcIj5GYWN0dXJhIGNhZHVjYWRhPC9oMz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5VbmEgZmFjdHVyYSBzb2xvIGVzIHbDoWxpZGEgZHVyYW50ZSAxNSBtaW51dG9zLiBTaSBxdWllcmUgY3JlYXIgb3RyYSBwYXJhIHJlYWxpemFyIGVsIHBhZ28sIHB1bHNlIGVuIGVsIHNpZ3VpZW50ZSBib3TDs248L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXRyeS1hZ2FpblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiIG9uQ2xpY2s9eygpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm9uVHJ5QWdhaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25UcnlBZ2FpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBleHBpcmVkSW52b2ljZTogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfX0+SW50ZW50YXIgZGUgbnVldm88L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBCb3RvbiBwYXJhIGNvcGlhciBlbiBlbCBwb3J0YXBhcGVsZXMgKi9cclxuXHJcbiAgICBjb3B5VG9DbGlwYm9hcmQgPSBhc3luYyAodGV4dDogc3RyaW5nLCB0eXBlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnYWRkcmVzcycpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjb3BpZWRBZGRyZXNzOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhbW91bnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29waWVkQW1vdW50OiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnYWRkcmVzcycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29waWVkQWRkcmVzczogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhbW91bnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvcGllZEFtb3VudDogZmFsc2UgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RleHQgY29waWVkIHRvIGNsaXBib2FyZCcpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgY29weWluZyB0ZXh0OiAnLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJbmZvQWRkcmVzc1BheW1lbnRDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmFkZHJlc3NQYXltZW50T3Blbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXByb2JhckVzRXhjaGFuZ2UgPSB0aGlzLmlzRXhjaGFuZ2UodGhpcy5wcm9wcy53YWxsZXRFeGNoYW5nZSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1hZGRyZXNzLXBheW1lbnQtY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+RGF0b3M8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY2xvc2UtbW9kYWxcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgYWRkcmVzc1BheW1lbnRPcGVuOiBmYWxzZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWNvcHktZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIERpcmVjY2nDs25cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvcHktZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS53YWxsZXRBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNvcHktZWxlbWVudFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuY29weVRvQ2xpcGJvYXJkKHRoaXMuc3RhdGUud2FsbGV0QWRkcmVzcywgJ2FkZHJlc3MnKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb3BpZWRBZGRyZXNzID8gJ2RvbmUnIDogJ2NvbnRlbnRfY29weSd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWNvcHktZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIEltcG9ydGUgdG90YWxcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvcHktZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5maW5hbFByaWNlfSB7dGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uc3ltYm9sfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNvcHktZWxlbWVudFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuY29weVRvQ2xpcGJvYXJkKHRoaXMuc3RhdGUuZmluYWxQcmljZSwgJ2Ftb3VudCcpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmNvcGllZEFtb3VudCA/ICdkb25lJyA6ICdjb250ZW50X2NvcHknfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnJlbmRlckluZm9QYXltZW50Q29udGFpbmVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pbmZvUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENhbGN1bGEgZWwgaW1wb3J0ZSBwYXJjaWFsXHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZENyeXB0byB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCBwYXJ0aWFsQW1vdW50ID0gdGhpcy5zdGF0ZS50b3RhbFByaWNlIC8gdGhpcy5zdGF0ZS5zZWxlY3RlZENyeXB0b1ByaWNlO1xyXG5cclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2cocGFydGlhbEFtb3VudC50b0ZpeGVkKDgpKTtcclxuICAgICAgICBjb25zdCBwcmljZUZpeGVkID0gcGFydGlhbEFtb3VudC50b0ZpeGVkKDUpXHJcblxyXG4gICAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRoaXMuc3RhdGUudGltZUxlZnQgLyA2MCk7XHJcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRoaXMuc3RhdGUudGltZUxlZnQgJSA2MDtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWNvbnRhaW5lci1wYXJ0aWFsLXBheW1lbnRcIiA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJpbmZvLXRpbWVcIj5FbnbDrWUgc3UgcGFnbyBlbiB7bWludXRlc306e3NlY29uZHMgPCAxMCA/ICcwJyA6ICcnfXtzZWNvbmRzfTwvaDM+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBjbG9zZS1tb2RhbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBpbmZvUGF5bWVudE9wZW46IGZhbHNlIH0pfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPlByZWNpbyB0b3RhbDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj57dGhpcy5zdGF0ZS50b3RhbFByaWNlfSBVU0Q8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5UaXBvIGRlIGNhbWJpbzo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj57dGhpcy5zdGF0ZS5zZWxlY3RlZENyeXB0b1ByaWNlfSBVU0Q8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5JbXBvcnRlIHBhcmNpYWw6PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXZhbHVlXCI+e3ByaWNlRml4ZWR9IHtzZWxlY3RlZENyeXB0bz8uc3ltYm9sfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPkNvc3RlIGRlIHJlZDo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj4uLi48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5IYSBzaWRvIHBhZ2Fkbzo8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdmFsdWVcIj4uLi48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdG90YWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tbGFiZWxcIj5JbXBvcnRlIHRvdGFsOjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby12YWx1ZVwiPi4uLiA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfSovXHJcblxyXG4gICAgcmVuZGVySW5mb1BheW1lbnRDb21wbGV0ZWRDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnBheW1lbnRDb21wbGV0ZWRPcGVuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgbG9zIGJvdG9uZXMgcGFyYSBjYWRhIGhhc2hcclxuICAgICAgICBjb25zdCBoYXNoQnV0dG9ucyA9IHRoaXMuc3RhdGUuaGFzaGVzLm1hcCgoaGFzaCwgaW5kZXgpID0+IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAga2V5PXtoYXNofVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGFzaC1idXR0b25cIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oYGh0dHBzOi8vZ29lcmxpLmV0aGVyc2Nhbi5pby90eC8ke2hhc2h9YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFBhZ28ge2luZGV4ICsgMX1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1wYXltZW50LWNvbXBsZXRlZC1jb250YWluZXJcIiA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbS10aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJpbmZvLXRpbWVcIj5QYWdvIGNvbXBsZXRhZG88L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY2xvc2UtbW9kYWxcIiBvbkNsaWNrPXsoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgcGF5bWVudENvbXBsZXRlZE9wZW46IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vblRyeUFnYWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uVHJ5QWdhaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPsKhVHUgcGFnbyBoYSBzaWRvIGNvbXBsZXRhZG8gY29uIMOpeGl0byEgR3JhY2lhcyBwb3IgdXRpbGl6YXIgbnVlc3RyYXMgc2VydmljaW9zLiBQdWVkZXMgdmVyIGxvcyBkZXRhbGxlcyBkZSB0dSB0cmFuc2FjY2nDs24gYSBjb250aW51YWNpw7NuLjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdHJ5LWFnYWluXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIFNpIHNvbG8gaGF5IHVuIGhhc2gsIHNvbG8gbW9zdHJhbW9zIFwiVmVyIHBhZ29cIiAqL31cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5oYXNoZXMubGVuZ3RoID09PSAxID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuc2VsZWN0ZWROZXR3b3JrID09PSBcIjFcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oYGh0dHBzOi8vZXRoZXJzY2FuLmlvL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXIgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCI1XCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL2dvZXJsaS5ldGhlcnNjYW4uaW8vdHgvJHt0aGlzLnN0YXRlLmhhc2hlc1swXX1gLCBcIl9ibGFua1wiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlciBwYWdvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuc2VsZWN0ZWROZXR3b3JrID09PSBcIjk3XCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL3Rlc3RuZXQuYnNjc2Nhbi5jb20vdHgvJHt0aGlzLnN0YXRlLmhhc2hlc1swXX1gLCBcIl9ibGFua1wiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlciBwYWdvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuc2VsZWN0ZWROZXR3b3JrID09PSBcIjgwMDAxXCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL211bWJhaS5wb2x5Z29uc2Nhbi5jb20vdHgvJHt0aGlzLnN0YXRlLmhhc2hlc1swXX1gLCBcIl9ibGFua1wiKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlciBwYWdvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuc2VsZWN0ZWROZXR3b3JrID09PSBcIjQzMTE0XCIgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJ5LWFnYWluLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGBodHRwczovL3Rlc3RuZXQuc25vd3RyYWNlLmlvL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZXIgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLnNlbGVjdGVkTmV0d29yayA9PT0gXCJcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4oYGh0dHBzOi8vZ29lcmxpLmV0aGVyc2Nhbi5pby90eC8ke3RoaXMuc3RhdGUuaGFzaGVzWzBdfWAsIFwiX2JsYW5rXCIpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVyIHBhZ29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cub3BlbihgaHR0cHM6Ly9nb2VybGkuZXRoZXJzY2FuLmlvL3R4LyR7dGhpcy5zdGF0ZS5oYXNoZXNbMF19YCwgXCJfYmxhbmtcIil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmVyIHBhZ29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNpIGhheSBtw6FzIGRlIHVuIGhhc2gsIG1vc3RyYW1vcyBsb3MgYm90b25lcyBhZGljaW9uYWxlcyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoYXNoQnV0dG9uc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICByZW5kZXJJbmZvUGFydGlhbFBheW1lbnRDb250YWluZXIoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLnBhcnRpYWxQYXltZW50T3Blbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGEgZWwgaW1wb3J0ZSBwYXJjaWFsXHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZENyeXB0byB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgY29uc3QgcGFydGlhbEFtb3VudCA9IHRoaXMuc3RhdGUudG90YWxQcmljZSAvIHRoaXMuc3RhdGUuc2VsZWN0ZWRDcnlwdG9QcmljZTtcclxuXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhwYXJ0aWFsQW1vdW50KTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKHBhcnRpYWxBbW91bnQudG9GaXhlZCg4KSk7XHJcbiAgICAgICAgY29uc3QgcHJpY2VGaXhlZCA9IHBhcnRpYWxBbW91bnQudG9GaXhlZCg4KVxyXG5cclxuICAgICAgICBjb25zdCBwYXllZCA9IHRoaXMuc3RhdGUucGF5Q29uZmlybWVkO1xyXG4gICAgICAgIGNvbnN0IHBheWVkRml4ZWQgPSBwYXllZC50b0ZpeGVkKDgpXHJcblxyXG4gICAgICAgIGNvbnN0IHByaWNlRml4ZWROdW1iZXIgPSBwYXJzZUZsb2F0KHByaWNlRml4ZWQpO1xyXG4gICAgICAgIGNvbnN0IHBheWVkRml4ZWROdW1iZXIgPSBwYXJzZUZsb2F0KHBheWVkRml4ZWQpO1xyXG4gICAgICAgIGNvbnN0IHBheWVkUGVuZGluZyA9IHByaWNlRml4ZWROdW1iZXIgLSBwYXllZEZpeGVkTnVtYmVyO1xyXG4gICAgICAgIGNvbnN0IHBheWVkUGVuZGluZ0ZpeGVkID0gcGF5ZWRQZW5kaW5nLnRvRml4ZWQoOCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygncHJpY2VGaXhlZE51bWJlcicsIHByaWNlRml4ZWROdW1iZXIpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3BheWVkRml4ZWROdW1iZXInLCBwYXllZEZpeGVkTnVtYmVyKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdwYXllZFBlbmRpbmcnLCBwYXllZFBlbmRpbmcpO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tcGFydGlhbC1wYXltZW50LWNvbnRhaW5lclwiID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImluZm8tdGltZVwiPlBhZ28gcGFyY2lhbG1lbnRlIHJlY2liaWRvPC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNsb3NlLW1vZGFsXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHBhcnRpYWxQYXltZW50T3BlbjogZmFsc2UgfSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWxhYmVsXCI+SGVtb3MgZGV0ZWN0YWRvIHR1IHBhZ28sIHBlcm8gbGEgY2FudGlkYWQgZW52aWFkYSBlcyBpbmZlcmlvciBhIGxhIGNhbnRpZGFkIHJlcXVlcmlkYS4gUG9yIGZhdm9yLCBlbnbDrWEgZWwgc2FsZG8gcmVzdGFudGUgcGFyYSBjb21wbGV0YXIgdHUgdHJhbnNhY2Npw7NuLjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFtb3VudC1vdXRzdGFuZGluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPiB7cGF5ZWRQZW5kaW5nRml4ZWR9IHtzZWxlY3RlZENyeXB0bz8uc3ltYm9sfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8tdHJ5LWFnYWluXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cnktYWdhaW4tYnV0dG9uXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHBhcnRpYWxQYXltZW50T3BlbjogZmFsc2UgfSl9PlBhZ2FyIGZhbHRhbnRlPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiBBcGxpY2FyIENTUyBtb2RhbGVzICovXHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja0luZm9BZGRyZXNzUGF5bWVudCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5hZGRyZXNzUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbjUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW41Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjaGVja0luZm9QYXltZW50KCk6IHZvaWQge1xyXG5cclxuICAgICAgICBjb25zdCBtYWluV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnRlcmZhY2UtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmluZm9QYXltZW50T3Blbikge1xyXG4gICAgICAgICAgICBtYWluV3JhcHBlcj8uY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuNicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXI/LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbjYnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNoZWNrSW5mb1BheW1lbnRDb21wbGV0ZWQoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGNvbnN0IG1haW5XcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ludGVyZmFjZS1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUucGF5bWVudENvbXBsZXRlZE9wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbjcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW43Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjaGVja0luZm9QYXJ0aWFsUGF5bWVudCgpOiB2b2lkIHtcclxuXHJcbiAgICAgICAgY29uc3QgbWFpbldyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJmYWNlLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5wYXJ0aWFsUGF5bWVudE9wZW4pIHtcclxuICAgICAgICAgICAgbWFpbldyYXBwZXI/LmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbjgnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG1haW5XcmFwcGVyPy5jbGFzc0xpc3QucmVtb3ZlKCdtZW51LW9wZW44Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBIQVNUQSBBUVVJICovXHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBmZXRjaERhdGFBbmRVcGRhdGVTdGVwKCkge1xyXG5cclxuICAgICAgICB0aGlzLmdldENvbnRyYWN0QWRkcmVzc0NyeXB0bygpOyAvLyB0ZW5nbyBxdWUgc2FiZXIgc2kgaGF5IGNvbnRyYXRvIG8gbm8gYW50ZXMgZGUgaGFjZXIgbGFzIHBldGljaW9uZXNcclxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPSBhd2FpdCB0aGlzLmZldGNoVHJhbnNhY3Rpb25zKCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygndHJhbnNhY2Npb25lczogJywgdHJhbnNhY3Rpb25zKTtcclxuICAgICAgICBpZiAodHJhbnNhY3Rpb25zICYmIHRyYW5zYWN0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja1BheW1lbnRTdGF0dXModHJhbnNhY3Rpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgbW9kYWxQYXJ0aWFsUGF5bWVudCgpOiBKU1guRWxlbWVudCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLm1vZGFsUGFydGlhbFBheW1lbnQpIHJldHVybiA8PjwvPjtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhIHVuIHRlbXBvcml6YWRvciBwYXJhIGNlcnJhciBlbCBtb2RhbCBkZXNwdcOpcyBkZSA1IHNlZ3VuZG9zICg1MDAwIG1pbGlzZWd1bmRvcylcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsUGFydGlhbFBheW1lbnQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIH0sIDEwMDAwMDApO1xyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFBhZ28gcGFyY2lhbG1lbnRlIHJlY2liaWRvXHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBtb2RhbFBhcnRpYWxQYXltZW50OiBmYWxzZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclN0ZXBwZXJQYXltZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnN0ZXAgPT09IDUpIHJldHVybiBcIlwiO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN0ZXBwZXItNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RlcC00ICR7dGhpcy5zdGF0ZS5zdGVwID49IDEgPyBcImFjdGl2ZS00XCIgOiBcIlwifWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaXJjbGUtNFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc3RlcCA9PT0gMSAmJiA8ZGl2IGNsYXNzTmFtZT1cInN0ZXAtdGV4dFwiPkVzcGVyYW5kbyBwYWdvPC9kaXY+fVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgc3RlcC00ICR7dGhpcy5zdGF0ZS5zdGVwID49IDIgPyBcImFjdGl2ZS00XCIgOiBcIlwifWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5lLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2lyY2xlLTRcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnN0ZXAgPT09IDIgJiYgPGRpdiBjbGFzc05hbWU9XCJzdGVwLXRleHRcIj5QYWdvIHBhcmNpYWxtZW50ZSByZWNpYmlkbzwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHN0ZXAtNCAke3RoaXMuc3RhdGUuc3RlcCA+PSAzID8gXCJhY3RpdmUtNFwiIDogXCJcIn1gfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluZS00XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNpcmNsZS00XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdGVwID09PSAzICYmIDxkaXYgY2xhc3NOYW1lPVwic3RlcC10ZXh0XCI+RXNwZXJhbmRvIGNvbmZpcm1hY2nDs248L2Rpdj59XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BzdGVwLTQgJHt0aGlzLnN0YXRlLnN0ZXAgPj0gNCA/IFwiYWN0aXZlLTRcIiA6IFwiXCJ9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpbmUtNFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaXJjbGUtNFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc3RlcCA9PT0gNCAmJiA8ZGl2IGNsYXNzTmFtZT1cInN0ZXAtdGV4dFwiPlBhZ28gY29tcGxldGFkbzwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Lz5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlckluZm9JbnZhbGlkTmV0d29ya0NvbnRhaW5lcigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaW52YWxpZE5ldHdvcmspIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8sIHNlbGVjdGVkTmV0d29yaywgaGFuZGxlTmV0d29ya0NoYW5nZSwgc3dpdGNoTmV0d29yaywgcGVuZGluZ0NoYWluSWQsIGlzbG9hZGluZ25ldHdvcmsgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBzZWxlY3RlZE9wdGlvbiB9ID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICBjb25zdCBoYW5kbGVPcHRpb25DaGFuZ2UgPSAocmVkOiBudW1iZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJyoqKioqKioqKioqKicsIHNlbGVjdGVkT3B0aW9uKTtcclxuICAgICAgICAgICAgc3dpdGNoTmV0d29yaz8uKDEpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdwZW5kaW5nQ2hhaW5JZCAnLCBwZW5kaW5nQ2hhaW5JZCk7XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlzbG9hZGluZ25ldHdvcmsgJiYgKFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXN0b3kgZXNwZXJhbmRvIGEgcXVlIGNhbWJpZXMnKSxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW52YWxpZE5ldHdvcms6IGZhbHNlIH0pXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pbnZhbGlkLW5ldHdvcmstY29udGFpbmVyXCIgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLWl0ZW0tdGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaW5mby10aW1lXCI+UmVkIGVxdWl2b2NhZGE8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGludmFsaWROZXR3b3JrOiBmYWxzZSB9KX0+WDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8taXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1sYWJlbFwiPkxhIGZhY3R1cmEgaGEgc2lkbyBjcmVhZGEgcGFyYSByZWFsaXphciBlbCBwYWdvIHBvciBvdHJhcyByZWRlcy4gUGFyYSBjb250aW51YXIsIHBvciBmYXZvciBjYW1iaWUgbGEgcmVkIGVuIGFqdXN0ZXMgZGUgTWV0YW1hc2suIE8gaGFnYSBjbGljIGFiYWpvPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mby1pdGVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXR3b3JrLWNoYW5nZS1idXR0b25cIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVPcHRpb25DaGFuZ2UoMSl9PkNvbmVjdGFyIGEgRXRoZXJ1bSBNYWlubmV0PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvL01ldG9kbyBwYXJhIHBhc2FyIGEgYmFzZSA2NCBsYSBpbWFnZW4gcmVjaWJpZGEgZGVsIFFSXHJcbiAgICBwcml2YXRlIHJlbmRlclFSUGF5bWVudCgpIHtcclxuICAgICAgICAvL2lmICghdGhpcy5pc0V4Y2hhbmdlICgpKSByZXR1cm4gXCJcIjsgXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5xckNvZGUpIHtcclxuICAgICAgICAgICAgLy9yZXR1cm4gPHNwYW4+Q2FyZ2FuZG8gY8OzZGlnbyBRUi4uLjwvc3Bhbj47XHJcbiAgICAgICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImxkcy1yb2xsZXJcIiBzdHlsZT17eyB3aWR0aDogJzc1cHgnLCBoZWlnaHQ6ICcxMDBweCcgfX0+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXI6IGFueSkge1xyXG4gICAgICAgICAgICBsZXQgYmluYXJ5ID0gJyc7XHJcbiAgICAgICAgICAgIGxldCBieXRlcyA9IFtdLnNsaWNlLmNhbGwobmV3IFVpbnQ4QXJyYXkoYnVmZmVyKSk7XHJcbiAgICAgICAgICAgIGJ5dGVzLmZvckVhY2goKGIpID0+IGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKGJpbmFyeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgYmFzZTY0SW1hZ2UgPSBhcnJheUJ1ZmZlclRvQmFzZTY0KHRoaXMuc3RhdGUucXJDb2RlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmZvLXFyLWV4Y2hhbmdlXCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzTmFtZT1cImltZy1xci1leGNoYW5nZVwiIHNyYz17YGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwke2Jhc2U2NEltYWdlfWB9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyBQb25lciBlbCB2YWxvciBkYXRhLmRhdGEgcXVlIGVzIGxhIGJpbGxldGVyYVxyXG4gICAgLy8gVE9ETyBQb25lciBsYSBpbWFnZW4gcXVlIGNvcnJlc3BvbmRhIGVuIGVsIGRhdGEubG9nb1xyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgZ2V0UVJDb2RlKCk6IFByb21pc2U8c3RyaW5nPiB7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5wcm9wcy5zZWxlY3RlZENyeXB0bz8uaW1hZ2UpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2codGhpcy5zdGF0ZS53YWxsZXRBZGRyZXNzKTtcclxuICAgICAgICBjb25zdCBheGlvcyA9IHJlcXVpcmUoJ2F4aW9zJyk7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vcXJjb2RlLW1vbmtleS5wLnJhcGlkYXBpLmNvbS9xci9jdXN0b20nLFxyXG4gICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicsIC8vIE1ha2Ugc3VyZSB3ZSBnZXQgYSBCbG9iXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnWC1SYXBpZEFQSS1LZXknOiAnYTI3NTM4ZDBhZG1zaDkxYTU2MGRjMjY0NmI4M3AxYmY5Zjlqc24yYmQ1M2Q5ZTY2NjYnLFxyXG4gICAgICAgICAgICAgICAgJ1gtUmFwaWRBUEktSG9zdCc6ICdxcmNvZGUtbW9ua2V5LnAucmFwaWRhcGkuY29tJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhOiBcIjB4YjkyZUMzMjgwMzI0NTI2ZENjMjM2NkUzMjczZkFENjVmRTY5MjQ1ZFwiLFxyXG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogJ2RvdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllOiAnZnJhbWUxMycsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllQmFsbDogJ2JhbGwxNCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXJmMTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJmMjogWydmaCddLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyZjM6IFsnZnYnXSxcclxuICAgICAgICAgICAgICAgICAgICBicmYxOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBicmYyOiBbJ2ZoJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgYnJmMzogWydmdiddLFxyXG4gICAgICAgICAgICAgICAgICAgIGJvZHlDb2xvcjogJyNFREVERUQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJnQ29sb3I6ICcjMjkyOTI5JyxcclxuICAgICAgICAgICAgICAgICAgICBleWUxQ29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBleWUyQ29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBleWUzQ29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBleWVCYWxsMUNvbG9yOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZXllQmFsbDJDb2xvcjogJyNFREVERUQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGV5ZUJhbGwzQ29sb3I6ICcjRURFREVEJyxcclxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudENvbG9yMTogJyNFREVERUQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50Q29sb3IyOiAnI0VERURFRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRUeXBlOiAncmFkaWFsJyxcclxuICAgICAgICAgICAgICAgICAgICBncmFkaWVudE9uRXllczogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9nbzogXCJodHRwczovL2ljb25zLmljb25hcmNoaXZlLmNvbS9pY29ucy9jamRvd25lci9jcnlwdG9jdXJyZW5jeS1mbGF0LzUxMi9UZXRoZXItVVNEVC1pY29uLnBuZ1wiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2l6ZTogMzAwLFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZmlsZTogJ3BuZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucmVxdWVzdChvcHRpb25zKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnZGV2dWVsdm8gZXN0bzogJywgcmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9ybWF0TnVtYmVyKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgY29uc3QgbnVtYmVyVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG51bWJlclZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlclZhbHVlLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29udHJhY3RBZGRyZXNzKCkge1xyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8sIHNlbGVjdGVkTmV0d29yayB9ID0gdGhpcy5wcm9wcztcclxuXHJcbiAgICAgICAgLy8gRW5jdWVudHJhIGxhIHJlZCBzZWxlY2Npb25hZGEgZGVudHJvIGRlIGxhcyByZWRlcyBkZSBsYSBjcmlwdG9tb25lZGEgc2VsZWNjaW9uYWRhXHJcbiAgICAgICAgY29uc3QgbmV0d29yayA9IHNlbGVjdGVkQ3J5cHRvPy5uZXR3b3Jrcy5maW5kKChuZXQ6IHsgaWQ6IG51bWJlcjsgfSkgPT4gbmV0LmlkID09PSBOdW1iZXIoc2VsZWN0ZWROZXR3b3JrKSk7XHJcblxyXG4gICAgICAgIC8vIENvbXBydWViYSBzaSBoYXkgdW4gY29udHJhY3RfYWRkcmVzcyBwYXJhIGxhIHJlZCBzZWxlY2Npb25hZGEgeSBkZXZ1ZWx2ZSBlbCByZXN1bHRhZG9cclxuICAgICAgICByZXR1cm4gbmV0d29yayA/ICEhbmV0d29yay5jb250cmFjdF9hZGRyZXNzIDogZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNoZWNrSWZQYXlCdXR0b25TaG91bGRCZUVuYWJsZWQoKSB7XHJcbiAgICAgICAgY29uc3QgeyBiYWxhbmNlcyB9ID0gdGhpcy5wcm9wcztcclxuICAgICAgICBjb25zdCB7IGZpbmFsUHJpY2UgfSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnUFJFQ0lPIFFVRSBERUJFUyBQQUdBUjogJywgZmluYWxQcmljZSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnYmFsYW5jZSB0b2tlbnM6ICcsIGJhbGFuY2VzKTtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdiYWxhbmNlIEVUSDogJywgdGhpcy5mb3JtYXROdW1iZXIodGhpcy5wcm9wcy5kYXRhPy5mb3JtYXR0ZWQpKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGlwb0NvbnRyYWN0QWRkcmVzcyA9IHRoaXMuZ2V0Q29udHJhY3RBZGRyZXNzKCk7XHJcbiAgICAgICAgLy9UT0RPIENvcHJvYmFyIHNpIGVzIGV4Y2hhbmdlXHJcblxyXG4gICAgICAgIGlmICghdGlwb0NvbnRyYWN0QWRkcmVzcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU295IEVUSCAnKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGF0YS5mb3JtYXR0ZWQgPj0gcGFyc2VGbG9hdChmaW5hbFByaWNlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUGF5QnV0dG9uRW5hYmxlZDogdHJ1ZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1BheUJ1dHRvbkVuYWJsZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZmluYWxQcmljZSAmJiBiYWxhbmNlcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNQYXlCdXR0b25FbmFibGVkID0gYmFsYW5jZXMgPj0gcGFyc2VGbG9hdChmaW5hbFByaWNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1BheUJ1dHRvbkVuYWJsZWQgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNQYXlCdXR0b25FbmFibGVkOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1NlbGVjdE9wYWNpdHkoKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2VsZWN0T3BhY2l0eUluZm8oKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2VsZWN0T3BhY2l0eU1ldGFtYXNrSW5mbygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTZWxlY3RFeHBpcmVkSW52b2ljZUluZm8oKTtcclxuICAgICAgICB0aGlzLmNoZWNrU2VsZWN0SW52YWxpZE5ldHdvcmtJbmZvKCk7XHJcblxyXG4gICAgICAgIC8qIEHDkUFESVIgTlVFVk9TIE1FVE9ET1MgKi9cclxuXHJcbiAgICAgICAgdGhpcy5jaGVja0luZm9BZGRyZXNzUGF5bWVudCgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tJbmZvUGF5bWVudCgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tJbmZvUGF5bWVudENvbXBsZXRlZCgpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tJbmZvUGFydGlhbFBheW1lbnQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBpc0luZm9WaXNpYmxlIH0gPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIGNvbnN0IHsgc2VsZWN0ZWRDcnlwdG8sIHNlbGVjdGVkTmV0d29yaywgaGFuZGxlTmV0d29ya0NoYW5nZSwgc3dpdGNoTmV0d29yaywgY2hhaW5zLCBpc0xvYWRpbmcsIHBlbmRpbmdDaGFpbklkLCBjcnlwdG9OZXR3b3JrcywgaXNFcnJvciwgZGF0YSwgYmFsYW5jZXMgfSA9IHRoaXMucHJvcHM7XHJcbiAgICAgICAgY29uc3QgeyBnYXNQcmljZXMsIHNlbGVjdGVkT3B0aW9uLCBmaW5hbFByaWNlIH0gPSB0aGlzLnN0YXRlO1xyXG5cclxuICAgICAgICBjb25zdCBoYW5kbGVPcHRpb25DaGFuZ2UgPSAoc2VsZWN0ZWRPcHRpb246IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnLyovKi8qLyovKi8qLyonLCBzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbiAmJiBzZWxlY3RlZE9wdGlvbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlTmV0d29ya0NoYW5nZShzZWxlY3RlZE9wdGlvbi52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRPcHRpb24gfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBjb21wcm9iYXJFc0V4Y2hhbmdlID0gdGhpcy5pc0V4Y2hhbmdlKHRoaXMucHJvcHMud2FsbGV0RXhjaGFuZ2UpO1xyXG4gICAgICAgIGNvbnN0IHRpbWVMZWZ0UGVyY2VudGFnZSA9ICgodGhpcy5zdGF0ZS50aW1lTGVmdCAvIHRoaXMuc3RhdGUudG90YWxUaW1lKSAqIDEwMCkudG9GaXhlZCgyKTtcclxuICAgICAgICBjb25zdCBzdHJva2VEYXNob2Zmc2V0ID0gKDI4Mi42ICogKHRoaXMuc3RhdGUudGltZUxlZnQgLyB0aGlzLnN0YXRlLnRvdGFsVGltZSkpLnRvRml4ZWQoMik7XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coYmFsYW5jZXMpO1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2FsZG8gZGUgbGEgY3JpcHRvIGVsZWdpZGE6ICcsIHBhcnNlRmxvYXQoZGF0YT8uZm9ybWF0dGVkKS50b0ZpeGVkKDUpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPD48ZGl2IGNsYXNzTmFtZT1cInJpZ2h0LXNlY3Rpb24taGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aDI+RGF0b3MgZGUgcGFnbzwvaDI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNsb3NlLWJ1dHRvbi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGNsb3NlLW1vZGFsLTJcIiAvKm9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBtZW51SW5mb09wZW46IGZhbHNlIH0pfSovPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxcclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInBheW1lbnQtZGF0YVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckluZm9Db250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvTWV0YW1hc2tDb250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvRXhwaXJlZEludm9pY2VDb250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvUGF5bWVudENvbXBsZXRlZENvbnRhaW5lcigpfVxyXG4gICAgICAgICAgICAgICAgICAgIHshY29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbmZvQWRkcmVzc1BheW1lbnRDb250YWluZXIoKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckluZm9QYXJ0aWFsUGF5bWVudENvbnRhaW5lcigpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHtjb21wcm9iYXJFc0V4Y2hhbmdlICYmIHRoaXMucmVuZGVySW5mb0ludmFsaWROZXR3b3JrQ29udGFpbmVyKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8tbmV0d29yay1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3RlZC1jcnlwdG9cIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1sb2dvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpbWFnZW4tbG9nb1wiIHNyYz17XCIvcGFzYXJlbGEvXCIgKyBzZWxlY3RlZENyeXB0bz8uaW1hZ2V9IGFsdD17YCR7c2VsZWN0ZWRDcnlwdG8/Lm5hbWV9IGxvZ29gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjcnlwdG8tbmFtZVwiPntzZWxlY3RlZENyeXB0bz8ubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1zeW1ib2xcIj57c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGltZXItY29udGFpbmVyXCIgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbWVudUFiaWVydG8nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoZWNrU2VsZWN0T3BhY2l0eUluZm8oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVJbmZvT3BlbjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgbWF0ZXJpYWwtaW5mbyBhXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb19pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiNDBcIiBoZWlnaHQ9XCI0MFwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIGNsYXNzTmFtZT1cInRpbWVyLWJhclwiIHN0eWxlPXt7IHRyYW5zZm9ybTogJ3JvdGF0ZSgtOTBkZWcpJyBhcyBjb25zdCB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjQ1XCIgc3Ryb2tlLXdpZHRoPVwiOFwiIGZpbGw9XCJub25lXCIgY2xhc3NOYW1lPVwidGltZXItYmFyX19tZXRlclwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBpZD1cImNvdW50ZG93blwiIGN4PVwiNTBcIiBjeT1cIjUwXCIgcj1cIjQ1XCIgc3Ryb2tlLXdpZHRoPVwiOFwiIGZpbGw9XCJub25lXCIgY2xhc3NOYW1lPVwidGltZXItYmFyX192YWx1ZVwiIHN0cm9rZS1kYXNoYXJyYXk9XCIyODIuNlwiIHN0cm9rZS1kYXNob2Zmc2V0PXtzdHJva2VEYXNob2Zmc2V0fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Y29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldHdvcmstc2VsZWN0b3JcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZWxlY3Rvci1yZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lUHJlZml4PVwibXktc2VsZWN0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQ9eyFzd2l0Y2hOZXR3b3JrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkT3B0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZU9wdGlvbkNoYW5nZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3RoaXMuZ2V0T3B0aW9ucyh0aGlzLnN0YXRlLmdhc1ByaWNlcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1NlYXJjaGFibGU9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tZW51SXNPcGVuPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51T3Blbj17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibWVudUFiaWVydG9cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbWVudUlzT3BlbjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTWVudUNsb3NlPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgbWVudUlzT3BlbjogZmFsc2UgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRPcHRpb25MYWJlbD17KGRhdGEsIHN0YXRlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlLmNvbnRleHQgPT09ICdtZW51Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDdWFuZG8gZXN0w6kgZW4gZWwgbWVuw7osIG1vc3RyYW1vcyB0b2RvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEN1YW5kbyBsYSBvcGNpw7NuIGVzIGxhIHNlbGVjY2lvbmFkYSwgbW9zdHJhbW9zIHNvbG8gZWwgbG9nbyB5IGVsIG5vbWJyZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5kaXNwbGF5TGFiZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcz17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w6IChwcm92aWRlZCkgPT4gKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvdmlkZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnN0YXRlLm1lbnVJc09wZW4gPyAnYXV0bycgOiAyMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndhbGxldC1iYWxhbmNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNMb2FkaW5nICYmICg8ZGl2PkNvbXByb2JhbmRvIGNyaXB0b21vbmVkYXPigKY8L2Rpdj4pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRXJyb3IgJiYgKDxkaXY+RXJyb3IgY29tcHJvYmFuZG8gYmFsYW5jZTwvZGl2Pil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFsaWduLWxlZnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaWVuZSBlbiBzdSBiaWxsZXRlcmE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1jb250YWluZXItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPVwiaW1hZ2VuLWxvZ28tZGF0YVwiIHNyYz17XCIvcGFzYXJlbGEvXCIgKyBzZWxlY3RlZENyeXB0bz8uaW1hZ2V9IGFsdD17YCR7c2VsZWN0ZWRDcnlwdG8/Lm5hbWV9IGxvZ29gfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3J5cHRvLW5hbWUtZGF0YVwiPntzZWxlY3RlZENyeXB0bz8ubmFtZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNyeXB0by1iYWxhbmNlLWRhdGFcIj57dGhpcy5mb3JtYXROdW1iZXIoYmFsYW5jZXMgYXMgYW55KX17YmFsYW5jZXMgPT09IHVuZGVmaW5lZCAmJiB0aGlzLmZvcm1hdE51bWJlcihkYXRhPy5mb3JtYXR0ZWQpfSB7c2VsZWN0ZWRDcnlwdG8/LnN5bWJvbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB7IWNvbXByb2JhckVzRXhjaGFuZ2UgLyomJiB0aGlzLnN0YXRlLnFyQ29kZSovICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2kgZXMgdW4gZXhjaGFuZ2UgbW9zdHJhcsOhIGVsIGPDs2RpZ28gUVIgZG9uZGUgcmVhbGl6YXIgZWwgcGFnb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyUVJQYXltZW50KCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b3RhbC10by1wYXlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbGlnbi1sZWZ0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUb3RhbCBhIHBhZ2FyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmljZS1jb3B5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZmluYWxQcmljZX0ge3NlbGVjdGVkQ3J5cHRvPy5zeW1ib2x9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IWNvbXByb2JhckVzRXhjaGFuZ2UgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLXN5bWJvbHMtb3V0bGluZWQgY29weS1lbGVtZW50XCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGFkZHJlc3NQYXltZW50T3BlbjogdHJ1ZSB9KX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRfY29weVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICB7Y29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWV0YW1hc2stYnV0dG9uXCIgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnbWVudUFiaWVydG8nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLmNoZWNrU2VsZWN0T3BhY2l0eUluZm8oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG1lbnVNZXRhbWFza09wZW46IHRydWUgfSkgLy8gRXN0byBjYW1iaWFyw6EgZWwgZXN0YWRvIGNhZGEgdmV6IHF1ZSBzZSBoYWdhIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFnYXIgY29uIE1ldGFtYXNrIEFwcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgIHshY29tcHJvYmFyRXNFeGNoYW5nZSAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyp0aGlzLmZldGNoVHJhbnNhY3Rpb25zKCkqL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclN0ZXBwZXJQYXltZW50KCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIHtjb21wcm9iYXJFc0V4Y2hhbmdlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHBheS1idXR0b24gJHshdGhpcy5zdGF0ZS5pc1BheUJ1dHRvbkVuYWJsZWQgPyAnZGlzYWJsZWQnIDogJyd9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdGF0ZS5pc1BheUJ1dHRvbkVuYWJsZWQgPyAoKSA9PiB0aGlzLnByb3BzLm9uQ2xpY2soZmluYWxQcmljZSkgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQYWdhclxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJSZWFjdCIsImF4aW9zIiwiU2VsZWN0IiwiZmV0Y2hBUEkiLCJXYWxsZXRMaWJyYXJ5IiwiZmluZE9uZVVzdWFyaW8iLCJ1cGRhdGVVc3VhcmlvIiwiY3JlYXRlQmlsbGV0ZXJhVGVtcCIsImNyZWF0ZVRyYW5zYWNjaW9uIiwidXBkYXRlVHJhbnNhY2Npb24iLCJQYXltZW50RGF0YSIsIkNvbXBvbmVudCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiY2xlYXJUaW1lciIsImludGVydmFsSWQiLCJjbGVhckludGVydmFsIiwiZ2VuZXJhdGVXYWxsZXQiLCJwcml2YXRlS2V5Iiwid2FsbGV0IiwiZ2V0UHJpdmF0ZUtleVN0cmluZyIsImFkZHJlc3MiLCJnZXRBZGRyZXNzU3RyaW5nIiwic2V0U3RhdGUiLCJ3YWxsZXRBZGRyZXNzIiwiYmlsbGV0ZXJhVGVtcCIsInVzZXJfaWQiLCJwcm9wcyIsImVtYWlsIiwidHJhbnNhY3Rpb25faWQiLCJjcnlwdG9jdXJyZW5jeV9pZCIsInNlbGVjdGVkQ3J5cHRvIiwiaWQiLCJwdWJsaWNfa2V5IiwicHJpdmF0ZV9rZXlfZW5jcnlwdGVkIiwiZXhwaXJhdGlvbl9kYXRlIiwiRGF0ZSIsImVycm9yIiwiZ2V0Q29udHJhY3RBZGRyZXNzQ3J5cHRvIiwibmV0d29yayIsIm5ldHdvcmtzIiwiZmluZCIsIm5ldCIsImNvbnRyYWN0IiwiY29udHJhY3RfYWRkcmVzcyIsImNvbnRyYWN0QWRkcmVzcyIsImNyZWF0ZVRyYW5zYWNjaW9uMiIsIkVycm9yIiwidHJhbnNhY2Npb24iLCJjcnlwdG9faWQiLCJhbW91bnRfY3J5cHRvIiwicGFyc2VGbG9hdCIsInN0YXRlIiwiZmluYWxQcmljZSIsImFtb3VudF9maWF0IiwidG90YWxQcmljZSIsInN0YXR1cyIsIm5ldHdvcmtfaWQiLCJ0ZW1wX3dhbGxldF9pZCIsImludm9pY2UiLCJpbnZvaWNlX2lkIiwic2VudCIsImRvd25sb2FkZWQiLCJjcmVhdGVkVHJhbnNhY2Npb24iLCJfaWQiLCJ0cmFuc2FjY2lvbklkIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZVRyYW5zYWNjaW9uMiIsImhhc2hlcyIsInN0ZXAiLCJoYXNoIiwidXBkYXRlVXNlcjIiLCJuZXdUcmFuc2FjdGlvbklkIiwiY3VycmVudFVzZXIiLCJjdXJyZW50VHJhbnNhY3Rpb25JZHMiLCJ0cmFuc2FjdGlvbl9pZHMiLCJ1cGRhdGVkVHJhbnNhY3Rpb25JZHMiLCJ1c2VyVXBkYXRlIiwid2FsbGV0cyIsImNvbXBvbmVudERpZE1vdW50IiwiY29tcHJvYmFyRXNFeGNoYW5nZSIsImlzRXhjaGFuZ2UiLCJ3YWxsZXRFeGNoYW5nZSIsImlzV2FsbGV0R2VuZXJhdGVkIiwic3RhcnRUaW1lciIsImdhc1ByaWNlcyIsImdldEdhc1ByaWNlcyIsIm9wdGlvbnMiLCJnZXRPcHRpb25zIiwidHJhbnNhY2Npb25lcyIsImZldGNoVHJhbnNhY3Rpb25zIiwiY3J5cHRvUHJpY2UiLCJnZXRQcmljZXMiLCJwYXJ0aWFsQW1vdW50IiwicHJpY2VGaXhlZCIsInRvRml4ZWQiLCJzZWxlY3RlZE9wdGlvbiIsInNlbGVjdGVkQ3J5cHRvUHJpY2UiLCJ0cmFuc2FjdGlvbnMiLCJzZWxlY3RlZE5ldHdvcmsiLCJoYW5kbGVOZXR3b3JrQ2hhbmdlIiwic3dpdGNoTmV0d29yayIsImNoYWlucyIsImlzTG9hZGluZyIsInBlbmRpbmdDaGFpbklkIiwiY3J5cHRvTmV0d29ya3MiLCJpc0Vycm9yIiwiZGF0YSIsImJhbGFuY2VzIiwic29tZSIsIngiLCJwYXJzZUludCIsImludmFsaWROZXR3b3JrIiwiY29tcG9uZW50RGlkVXBkYXRlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwic25hcHNob3QiLCJxckNvZGUiLCJzZXRJbnRlcnZhbCIsImZldGNoRGF0YUFuZFVwZGF0ZVN0ZXAiLCJjaGVja0lmUGF5QnV0dG9uU2hvdWxkQmVFbmFibGVkIiwiaXNTdWNjZXNzQ29pbiIsImlzU3VjY2Vzc1Rva2VuIiwicGF5bWVudENvbXBsZXRlZE9wZW4iLCJkYXRhSGFzaENvaW4iLCJkYXRhSGFzaFRva2VuIiwidXBkYXRlVXNlciIsIm5ldHdvcmtJZCIsImNvbnRyYWN0X3BheSIsIm5ld1RyYW5zYWNjaW9uIiwiZmlsdGVyIiwiaXNDb21wYXRpYmxlV2l0aENyeXB0byIsIm1hcCIsImxvZ28iLCJpbWFnZSIsInZhbHVlIiwibGFiZWwiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJuYW1lIiwic3BhbiIsImRpc3BsYXlMYWJlbCIsImNoZWNrU2VsZWN0T3BhY2l0eSIsIm1haW5XcmFwcGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm1lbnVJc09wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjaGVja1NlbGVjdE9wYWNpdHlJbmZvIiwibWFpbldyYXBwZXIyIiwibWVudUluZm9PcGVuIiwiY2hlY2tTZWxlY3RPcGFjaXR5TWV0YW1hc2tJbmZvIiwibWVudU1ldGFtYXNrT3BlbiIsImNoZWNrU2VsZWN0RXhwaXJlZEludm9pY2VJbmZvIiwiZXhwaXJlZEludm9pY2UiLCJjaGVja1NlbGVjdEludmFsaWROZXR3b3JrSW5mbyIsInJlbmRlckluZm9Db250YWluZXIiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwidGltZUxlZnQiLCJzZWNvbmRzIiwicGF5ZWQiLCJwYXlDb25maXJtZWQiLCJwYXllZEZpeGVkIiwicHJpY2VGaXhlZE51bWJlciIsInBheWVkRml4ZWROdW1iZXIiLCJwYXllZFBlbmRpbmciLCJwYXllZFBlbmRpbmdGaXhlZCIsImgzIiwib25DbGljayIsInN5bWJvbCIsInJlbmRlckluZm9NZXRhbWFza0NvbnRhaW5lciIsInJlbmRlckluZm9FeHBpcmVkSW52b2ljZUNvbnRhaW5lciIsIm9uVHJ5QWdhaW4iLCJyZW5kZXJJbmZvQWRkcmVzc1BheW1lbnRDb250YWluZXIiLCJhZGRyZXNzUGF5bWVudE9wZW4iLCJjb3B5VG9DbGlwYm9hcmQiLCJjb3BpZWRBZGRyZXNzIiwiY29waWVkQW1vdW50IiwicmVuZGVySW5mb1BheW1lbnRDb21wbGV0ZWRDb250YWluZXIiLCJoYXNoQnV0dG9ucyIsImluZGV4IiwiYnV0dG9uIiwid2luZG93Iiwib3BlbiIsImxlbmd0aCIsIkZyYWdtZW50IiwicmVuZGVySW5mb1BhcnRpYWxQYXltZW50Q29udGFpbmVyIiwicGFydGlhbFBheW1lbnRPcGVuIiwiY2hlY2tJbmZvQWRkcmVzc1BheW1lbnQiLCJjaGVja0luZm9QYXltZW50IiwiaW5mb1BheW1lbnRPcGVuIiwiY2hlY2tJbmZvUGF5bWVudENvbXBsZXRlZCIsImNoZWNrSW5mb1BhcnRpYWxQYXltZW50IiwiY2hlY2tQYXltZW50U3RhdHVzIiwibW9kYWxQYXJ0aWFsUGF5bWVudCIsInNldFRpbWVvdXQiLCJyZW5kZXJTdGVwcGVyUGF5bWVudCIsInJlbmRlckluZm9JbnZhbGlkTmV0d29ya0NvbnRhaW5lciIsImlzbG9hZGluZ25ldHdvcmsiLCJoYW5kbGVPcHRpb25DaGFuZ2UiLCJyZWQiLCJyZW5kZXJRUlBheW1lbnQiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiYXJyYXlCdWZmZXJUb0Jhc2U2NCIsImJ1ZmZlciIsImJpbmFyeSIsImJ5dGVzIiwic2xpY2UiLCJjYWxsIiwiVWludDhBcnJheSIsImZvckVhY2giLCJiIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiYnRvYSIsImJhc2U2NEltYWdlIiwiZ2V0UVJDb2RlIiwicmVxdWlyZSIsIm1ldGhvZCIsInVybCIsInJlc3BvbnNlVHlwZSIsImhlYWRlcnMiLCJjb25maWciLCJib2R5IiwiZXllIiwiZXllQmFsbCIsImVyZjEiLCJlcmYyIiwiZXJmMyIsImJyZjEiLCJicmYyIiwiYnJmMyIsImJvZHlDb2xvciIsImJnQ29sb3IiLCJleWUxQ29sb3IiLCJleWUyQ29sb3IiLCJleWUzQ29sb3IiLCJleWVCYWxsMUNvbG9yIiwiZXllQmFsbDJDb2xvciIsImV5ZUJhbGwzQ29sb3IiLCJncmFkaWVudENvbG9yMSIsImdyYWRpZW50Q29sb3IyIiwiZ3JhZGllbnRUeXBlIiwiZ3JhZGllbnRPbkV5ZXMiLCJzaXplIiwiZG93bmxvYWQiLCJmaWxlIiwicmVzcG9uc2UiLCJyZXF1ZXN0IiwiZm9ybWF0TnVtYmVyIiwibnVtYmVyVmFsdWUiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJnZXRDb250cmFjdEFkZHJlc3MiLCJ0aXBvQ29udHJhY3RBZGRyZXNzIiwiZm9ybWF0dGVkIiwiaXNQYXlCdXR0b25FbmFibGVkIiwicmVuZGVyIiwiaXNJbmZvVmlzaWJsZSIsInRpbWVMZWZ0UGVyY2VudGFnZSIsInRvdGFsVGltZSIsInN0cm9rZURhc2hvZmZzZXQiLCJoMiIsInN2ZyIsInZpZXdCb3giLCJ0cmFuc2Zvcm0iLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsInN0cm9rZS13aWR0aCIsImZpbGwiLCJzdHJva2UtZGFzaGFycmF5Iiwic3Ryb2tlLWRhc2hvZmZzZXQiLCJjbGFzc05hbWVQcmVmaXgiLCJpc0Rpc2FibGVkIiwib25DaGFuZ2UiLCJpc1NlYXJjaGFibGUiLCJvbk1lbnVPcGVuIiwib25NZW51Q2xvc2UiLCJmb3JtYXRPcHRpb25MYWJlbCIsImNvbnRleHQiLCJzdHlsZXMiLCJjb250cm9sIiwicHJvdmlkZWQiLCJ1bmRlZmluZWQiLCJjb25zdHJ1Y3RvciIsImdlbmVyYXRlIiwidG9nZ2xlSW5mb1Zpc2liaWxpdHkiLCJnZXRFdGhQcmljZUluRG9sbGFycyIsInJlcyIsImdldCIsImV0aGVyZXVtIiwidXNkIiwiZ2V0Q3J5cHRvUHJpY2VJbkRvbGxhcnMiLCJldGhQcmljZUluRG9sbGFycyIsImFwaWtleSIsInByb2Nlc3MiLCJlbnYiLCJBUElfT1dMUkFDS0VfS0VZIiwiY2hhaW4iLCJnYXNQcmljZUluR1dlaSIsInN0YW5kYXJkIiwibWF4RmVlIiwiZ2FzUHJpY2VJbkRvbGxhcnMiLCJzcGVlZHMiLCJlc3RpbWF0ZWRGZWUiLCJjcnlwdG9QcmljZUluRG9sbGFycyIsInJlc3VsdCIsInRpbWVyIiwidG90YWxBbW91bnROZWVkZWQiLCJ0b3RhbFJlY2VpdmVkIiwidG90YWxDb25maXJtZWQiLCJkZXNpcmVkVG9BZGRyZXNzIiwiZGVzaXJlZENvbnRyYWN0QWRkcmVzcyIsInRvdGFsUHJpY2VGaXhlZCIsImZpbHRlcmVkVHJhbnNhY3Rpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwidHgiLCJ0byIsInRvTG93ZXJDYXNlIiwidG9rZW5EZWNpbWFsIiwicG93IiwiY29uZmlybWF0aW9ucyIsIm1vZGFsQ29tcGxldGVkUGF5bWVudFNob3duIiwibW9kYWxQYXJ0aWFsUGF5bWVudFNob3duIiwic2ltdWxhdGVUcmFuc2FjdGlvbnMiLCJwdXNoIiwiY3JlYXRlVHJhbnNhY3Rpb24iLCJibG9ja0hhc2giLCJibG9ja051bWJlciIsImN1bXVsYXRpdmVHYXNVc2VkIiwiZnJvbSIsImdhcyIsImdhc1ByaWNlIiwiZ2FzVXNlZCIsImlucHV0Iiwibm9uY2UiLCJ0aW1lU3RhbXAiLCJ0b2tlbk5hbWUiLCJ0b2tlblN5bWJvbCIsInRyYW5zYWN0aW9uSW5kZXgiLCJ0ZXh0IiwidHlwZSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImVyciIsIm1vZGFsQ29tcGxldGVkUGF5bWVudCIsInNob3dQYXJ0aWFsUGF5bWVudE1vZGFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/paymentData.tsx\n"));

/***/ })

});